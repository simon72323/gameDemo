System.register("chunks:///_virtual/AddSpinUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SettingsController.ts","./XEvent.ts","./Utils.ts"],(function(t){var e,n,i,o,s,a,r,c,l,u,h,p,d,v,f,m,y;return{setters:[function(t){e=t.defineProperty,n=t.inherits,i=t.createSuper,o=t.classCallCheck,s=t.assertThisInitialized,a=t.createClass,r=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){l=t.cclegacy,u=t._decorator,h=t.sp,p=t.Component,d=t.Vec3,v=t.tween},function(t){f=t.SettingsController},function(t){m=t.XEvent1},function(t){y=t.Utils}],execute:function(){var g,w;l._RF.push({},"84b922DjAxCsJFL9m/KnWhj","AddSpinUI",void 0);var C=u.ccclass;u.property,t("AddSpinUI",C("AddSpinUI")((w=function(t){n(p,t);var l,u=i(p);function p(){var t;o(this,p);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=u.call.apply(u,[this].concat(i)),e(s(t),"move",void 0),e(s(t),"ani_multiply",void 0),t}return a(p,[{key:"onLoad",value:function(){p.show.on(this.show,this),this.move=this.node.getChildByName("move"),this.ani_multiply=this.node.getChildByPath("move/ani_multiply").getComponent(h.Skeleton),this.node.active=!1}},{key:"show",value:(l=r(c().mark((function t(e){var n,i=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.move.position=d.ZERO,this.node.active=!0,y.fadeIn(this.node,.1,0,255),n=f.getInstance().getSpinPos(),this.ani_multiply.setAnimation(0,"hitbubble",!1),v(this.move).to(.2,{scale:new d(1.5,1.5,1)}).to(.2,{scale:new d(1,1,1)}).to(.6,{position:n},{easing:"cubicIn"}).to(.2,{scale:new d(0,0,1)}).call((function(){i.node.active=!1,null==e||e()})).start();case 6:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"onDestroy",value:function(){p.show.off(this)}}]),p}(p),e(w,"show",new m),g=w))||g);l._RF.pop()}}}));

System.register("chunks:///_virtual/AudioKey.ts",["cc"],(function(e){var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"8c820tqlWtFBI5c6eKzgI7t","AudioKey",void 0);e("AudioKey",function(e){return e.bgmMg="mu_main_background",e.bgmFg="mu_background",e.btnClick="btnClick",e.btnBuyConfirm="se_confirm",e.btnBuyCancle="se_cancel",e.btnBuyClick="se_choice_fs",e.showBuyWindow="se_buy_window",e.spinClick="se_start",e.reelStop="se_stop",e.teasing="se_near",e.win="se_getwin",e.hook="se_hook",e.scatterShow="se_scatter",e.scatterWin="se_fg_scatter",e.bgTrans="mu_trans",e.trans="se_fg_trans",e.wildShow="se_wild_show",e.wildFishMove="se_fg_cheer",e.wildCash="se_cash",e.wildCount="se_wild_count",e.wildMultWin="se_mult_win",e.afterMusic="mu_aftermusic",e.bigWin="se_bigwin",e.superWin="se_superwin",e.megaWin="se_megawin",e.winEnd="se_win_end",e.totalWin="se_mul_settle",e}({}));s._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts"],(function(e){var t,n,u,a,i,r,o,s,c,d,l,f,p,h,v,m,k,y,M,S,g,x,b;return{setters:[function(e){t=e.defineProperty,n=e.inherits,u=e.createSuper,a=e.classCallCheck,i=e.assertThisInitialized,r=e.createClass,o=e.createForOfIteratorHelper,s=e.slicedToArray,c=e.asyncToGenerator,d=e.regeneratorRuntime},function(e){l=e.cclegacy,f=e._decorator,p=e.Node,h=e.director,v=e.game,m=e.Game,k=e.assetManager,y=e.tween,M=e.Tween,S=e.Component,g=e.AudioClip,x=e.AudioSource},function(e){b=e.Logger}],execute:function(){var w,C;l._RF.push({},"881d8NCvCBOuoar61El1pvu","AudioManager",void 0);var A=f.ccclass;e("AudioManager",A("AudioManager")((C=function(e){n(B,e);var l,f,S,w,C,A,T,I=u(B);function B(){var e;a(this,B);for(var n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return e=I.call.apply(I,[this].concat(u)),t(i(e),"soundMap",new Map),t(i(e),"musicMap",new Map),t(i(e),"isAudioContextRunning",!1),t(i(e),"isSoundMuted",!1),t(i(e),"isMusicMuted",!1),t(i(e),"isInBackground",!1),t(i(e),"setMusicVolume",1),e}return r(B,[{key:"onEnable",value:function(){v.on(m.EVENT_HIDE,this.onGameHide,this),v.on(m.EVENT_SHOW,this.onGameShow,this)}},{key:"onDestroy",value:function(){if(v.off(m.EVENT_HIDE,this.onGameHide,this),v.off(m.EVENT_SHOW,this.onGameShow,this),this===B._instance){var e,t=o(this.soundMap);try{for(t.s();!(e=t.n()).done;){var n=s(e.value,2),u=(n[0],n[1]);u.audioSource.stop(),u.audioSource.destroy(),u.audioClip&&k.releaseAsset(u.audioClip)}}catch(e){t.e(e)}finally{t.f()}this.soundMap.clear();var a,i=o(this.musicMap);try{for(i.s();!(a=i.n()).done;){var r=s(a.value,2),c=(r[0],r[1]);c.audioSource.stop(),c.audioSource.destroy(),c.audioClip&&k.releaseAsset(c.audioClip)}}catch(e){i.e(e)}finally{i.f()}this.musicMap.clear(),B._instance=null}}},{key:"loadBundleAudios",value:(T=c(d().mark((function e(){var t,n,u,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:"audio",!(n=k.getBundle(t))){e.next=7;break}return e.next=5,this.loadAudio(n);case 5:e.next=12;break;case 7:return e.next=9,this.getBundle(t);case 9:return u=e.sent,e.next=12,this.loadAudio(u);case 12:case"end":return e.stop()}}),e,this)}))),function(){return T.apply(this,arguments)})},{key:"getBundle",value:function(e){return new Promise((function(t){k.loadBundle(e,(function(n,u){n?b.error("無法獲取".concat(e," bundle: ").concat(n)):t(u)}))}))}},{key:"loadAudio",value:(A=c(d().mark((function e(t){var n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var u=0,a=function(){2==++u&&e()};null==t||t.loadDir("music",g,(function(e,t){e?b.error("加載音樂失敗:",e):(t.forEach((function(e){if(!n.musicMap.has(e.name)){var t=n.addComponent(x);t.playOnAwake=!1,t.clip=e,n.musicMap.set(e.name,{startTime:0,duration:t.duration,audioClip:e,audioSource:t,musicPlaying:!1})}})),b.debug("已加載 ".concat(t.length," 個音樂")),a())})),null==t||t.loadDir("sound",g,(function(e,t){e?b.error("加載音效失敗:",e):(t.forEach((function(e){if(!n.soundMap.has(e.name)){var t=n.addComponent(x);t.playOnAwake=!1,t.clip=e,n.soundMap.set(e.name,{startTime:0,duration:t.duration,audioClip:e,audioSource:t})}})),b.debug("已加載 ".concat(t.length," 個音效")),a())}))})));case 1:case"end":return e.stop()}}),e)}))),function(e){return A.apply(this,arguments)})},{key:"onUserInteraction",value:(C=c(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.isAudioContextRunning){e.next=3;break}return e.abrupt("return",!0);case 3:if(t=window.webkitAudioContext||window.AudioContext){e.next=8;break}return b.debug("不支援AudioContext返回true"),this.isAudioContextRunning=!0,e.abrupt("return",!0);case 8:if("suspended"!==(n=new t).state){e.next=12;break}return e.next=12,n.resume();case 12:return this.isAudioContextRunning="running"===n.state,e.abrupt("return",this.isAudioContextRunning);case 16:return e.prev=16,e.t0=e.catch(0),b.debug("AudioContext 初始化失敗",e.t0),this.isAudioContextRunning=!0,e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e,this,[[0,16]])}))),function(){return C.apply(this,arguments)})},{key:"playSound",value:(w=c(d().mark((function e(t){var n,u,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],u=this.soundMap.get(t)){e.next=4;break}return e.abrupt("return");case 4:return u.startTime=Date.now(),u.audioSource.loop=n,u.audioSource.currentTime=0,e.next=9,this.onUserInteraction();case 9:if(e.t1=!e.sent,e.t1){e.next=12;break}e.t1=this.isSoundMuted;case 12:if(e.t0=e.t1,e.t0){e.next=15;break}e.t0=this.isInBackground;case 15:if(!e.t0){e.next=17;break}return e.abrupt("return");case 17:u.audioSource.volume=1,u.audioSource.play();case 19:case"end":return e.stop()}}),e,this)}))),function(e){return w.apply(this,arguments)})},{key:"playOnceSound",value:(S=c(d().mark((function e(t){var n,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.soundMap.get(t)){e.next=3;break}return e.abrupt("return");case 3:return u=n.audioClip,n.audioSource.currentTime=0,e.next=7,this.onUserInteraction();case 7:if(e.t1=!e.sent,e.t1){e.next=10;break}e.t1=this.isSoundMuted;case 10:if(e.t0=e.t1,e.t0){e.next=13;break}e.t0=this.isInBackground;case 13:if(!e.t0){e.next=15;break}return e.abrupt("return");case 15:n.audioSource.volume=1,n.audioSource.playOneShot(u);case 17:case"end":return e.stop()}}),e,this)}))),function(e){return S.apply(this,arguments)})},{key:"stopSound",value:function(e){var t=this.soundMap.get(e);t.audioSource.loop=!1,t.startTime=Date.now()-1e3*t.duration,y(t.audioSource).to(.3,{volume:0}).call((function(){t.audioSource.stop()})).start()}},{key:"setSoundMute",value:function(e){this.isSoundMuted=e,this.isSoundMuted?this.offSound():this.onSound()}},{key:"playMusic",value:(f=c(d().mark((function e(t){var n,u,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setMusicVolume<1&&this.editMusicVolume(1),n=o(this.musicMap.values()),e.prev=2,a=d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.value){e.next=3;break}return e.abrupt("return",1);case 3:n.musicPlaying&&n.audioClip.name!==t&&(n.musicPlaying=!1,y(n.audioSource).to(.3,{volume:0}).call((function(){n.audioSource.stop()})).start());case 4:case"end":return e.stop()}}),e)})),n.s();case 5:if((u=n.n()).done){e.next=11;break}return e.delegateYield(a(),"t0",7);case 7:if(!e.t0){e.next=9;break}return e.abrupt("continue",9);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(2),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:if(i=this.musicMap.get(t)){e.next=22;break}return e.abrupt("return");case 22:return i.audioSource.loop=!0,i.musicPlaying=!0,i.audioSource.play(),e.next=27,this.onUserInteraction();case 27:if(e.t3=!e.sent,e.t3){e.next=30;break}e.t3=this.isMusicMuted;case 30:if(e.t2=e.t3,e.t2){e.next=33;break}e.t2=this.isInBackground;case 33:if(!e.t2){e.next=35;break}return e.abrupt("return");case 35:this.audioTween(i.audioSource).to(.3,{volume:1}).start();case 36:case"end":return e.stop()}}),e,this,[[2,13,16,19]])}))),function(e){return f.apply(this,arguments)})},{key:"editMusicVolume",value:(l=c(d().mark((function e(t){var n,u,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setMusicVolume=t,e.next=3,this.onUserInteraction();case 3:if(e.t1=!e.sent,e.t1){e.next=6;break}e.t1=this.isMusicMuted;case 6:if(e.t0=e.t1,e.t0){e.next=9;break}e.t0=this.isInBackground;case 9:if(!e.t0){e.next=11;break}return e.abrupt("return");case 11:n=o(this.musicMap.values()),e.prev=12,n.s();case 14:if((u=n.n()).done){e.next=21;break}if(a=u.value){e.next=18;break}return e.abrupt("continue",19);case 18:this.audioTween(a.audioSource).to(.3,{volume:t}).start();case 19:e.next=14;break;case 21:e.next=26;break;case 23:e.prev=23,e.t2=e.catch(12),n.e(e.t2);case 26:return e.prev=26,n.f(),e.finish(26);case 29:case"end":return e.stop()}}),e,this,[[12,23,26,29]])}))),function(e){return l.apply(this,arguments)})},{key:"stopMusic",value:function(e){var t=this.musicMap.get(e);y(t.audioSource).to(.3,{volume:0}).call((function(){t.audioSource.stop()})).start()}},{key:"setMusicMute",value:function(e){this.isMusicMuted=e,this.isMusicMuted?this.offMusic():this.onMusic()}},{key:"onGameHide",value:function(){this.isInBackground=!0,M.stopAllByTag("audio"),this.offSound(),this.offMusic()}},{key:"onGameShow",value:function(){this.isInBackground=!1,this.isMusicMuted?this.offMusic():this.onMusic(),this.isSoundMuted?this.offSound():this.onSound()}},{key:"onSound",value:function(){var e,t=Date.now(),n=o(this.soundMap.values());try{for(n.s();!(e=n.n()).done;){var u=e.value,a=(t-u.startTime)/1e3;a>=u.duration&&!u.audioSource.loop?u.audioSource.stop():(u.audioSource.volume=0,u.audioSource.currentTime=a,u.audioSource.play(),this.audioTween(u.audioSource).to(.2,{volume:1}).start())}}catch(e){n.e(e)}finally{n.f()}}},{key:"offSound",value:function(){var e,t=o(this.soundMap.values());try{for(t.s();!(e=t.n()).done;){e.value.audioSource.volume=0}}catch(e){t.e(e)}finally{t.f()}}},{key:"onMusic",value:function(){var e,t=o(this.musicMap.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.musicPlaying&&this.audioTween(n.audioSource).to(.2,{volume:this.setMusicVolume}).start()}}catch(e){t.e(e)}finally{t.f()}}},{key:"offMusic",value:function(){var e,t=o(this.musicMap.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;n&&n.musicPlaying&&(n.audioSource.volume=0)}}catch(e){t.e(e)}finally{t.f()}}},{key:"audioTween",value:function(e){return y(e).tag("audio")}}],[{key:"getInstance",value:function(){if(!B._instance){var e=new p("AudioManager");h.getScene().addChild(e),B._instance=e.addComponent(B)}return B._instance}}]),B}(S),t(C,"_instance",null),w=C))||w);l._RF.pop()}}}));

System.register("chunks:///_virtual/AutoSpin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./BaseEvent.ts","./BaseType.ts","./Utils.ts"],(function(t){var e,n,i,o,s,a,l,h,u,r,p,c,d,C,v,y,S,m,B,g,f,k,T;return{setters:[function(t){e=t.inherits,n=t.createSuper,i=t.createClass,o=t.classCallCheck,s=t.defineProperty,a=t.assertThisInitialized},function(t){l=t.cclegacy,h=t._decorator,u=t.ScrollView,r=t.Label,p=t.Button,c=t.Node,d=t.tween,C=t.Vec3,v=t.Sprite,y=t.Color,S=t.instantiate,m=t.Component},function(t){B=t.DataManager},function(t){g=t.BaseEvent},function(t){f=t.TurboMode},function(t){k=t.Utils,T=t.addBtnClickEvent}],execute:function(){var I;l._RF.push({},"a223d0LH3FEbqbf1sntvAxH","AutoSpin",void 0);var w=h.ccclass;h.property,t("AutoSpin",w("AutoSpin")(I=function(t){e(h,t);var l=n(h);function h(){var t;o(this,h);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t=l.call.apply(l,[this].concat(n)),s(a(t),"backMask",null),s(a(t),"autoContent",null),s(a(t),"startBtn",null),s(a(t),"closeBtn",null),s(a(t),"stopUntilFeatureBtn",null),s(a(t),"fastSpinBtn",null),s(a(t),"turboSpinBtn",null),s(a(t),"autoTimesBtn",null),s(a(t),"dropDownItem",null),s(a(t),"scrollView",void 0),s(a(t),"displayItemLabel",void 0),s(a(t),"maskBtn",void 0),s(a(t),"pickIdx",0),s(a(t),"autoStringList",["10","25","50","75","100","250","500","750","1000","UNLIMITED"]),t}return i(h,[{key:"onLoad",value:function(){this.setupNode(),this.setupEvent(),this.node.active=!1}},{key:"setupNode",value:function(){this.autoContent=this.node.getChildByName("Content"),this.backMask=this.node.getChildByPath("BackMask"),this.startBtn=this.node.getChildByPath("Content/StartBtn"),this.closeBtn=this.node.getChildByPath("Content/CloseBtn"),this.stopUntilFeatureBtn=this.node.getChildByPath("Content/Settings/StopUntilFeatureBtn"),this.fastSpinBtn=this.node.getChildByPath("Content/Settings/FastSpinBtn"),this.turboSpinBtn=this.node.getChildByPath("Content/Settings/TurboSpinBtn"),this.autoTimesBtn=this.node.getChildByPath("Content/SpinTimes/AutoTimesBtn"),this.dropDownItem=this.node.getChildByPath("Content/SpinTimes/DropDown/DropDownItem"),this.scrollView=this.node.getChildByPath("Content/SpinTimes/DropDown/ScrollView").getComponent(u),this.displayItemLabel=this.node.getChildByPath("Content/SpinTimes/DropDown/DisplayItem/Label").getComponent(r),this.maskBtn=this.node.getChildByPath("Content/SpinTimes/DropDown/ScrollView/MaskBtn"),this.scrollView.node.active=!1,this.maskBtn.active=!1,this.createItem()}},{key:"setupEvent",value:function(){g.showAutoSpin.on(this.onShow,this),this.maskBtn.on(p.EventType.CLICK,this.onCloseDrop,this),this.displayItemLabel.node.on(c.EventType.TOUCH_END,this.onClickDrop,this),this.startBtn.on(p.EventType.CLICK,this.onClickStart,this),this.closeBtn.on(p.EventType.CLICK,this.onClose,this),this.stopUntilFeatureBtn.on(p.EventType.CLICK,this.onClickStopUntilFeature,this),this.fastSpinBtn.on(p.EventType.CLICK,this.onClickFastSpin,this),this.turboSpinBtn.on(p.EventType.CLICK,this.onClickTurboSpin,this),this.autoTimesBtn.on(p.EventType.CLICK,this.onClickAutoTimes,this),this.backMask.on(p.EventType.CLICK,this.onClose,this)}},{key:"onShow",value:function(){B.getInstance().lockKeyboard=!0,k.fadeIn(this.node,.15,0,255),k.tweenScaleTo(this.node,.15,.8,1),this.node.active=!0,this.updateSpeedSwitch(),this.updateStopUntilFeature(),this.updateAutoTimes(),k.AddHandHoverEvent(this.displayItemLabel.node),this.displayItemLabel.string=this.autoStringList[this.pickIdx]}},{key:"onClose",value:function(){var t=this;B.getInstance().lockKeyboard=!1,k.tweenScaleTo(this.node,.1,1,.9),k.fadeOut(this.node,.1,255,0,(function(){t.node.active=!1})),this.onCloseDrop()}},{key:"onClickStart",value:function(){if(this.onClose(),B.getInstance().isAutoTimes){var t="UNLIMITED"===this.displayItemLabel.string?-1:parseInt(this.displayItemLabel.string);B.getInstance().autoSpinCount=t,B.getInstance().isAutoMode=!0,g.runAutoSpin.emit()}}},{key:"onClickFastSpin",value:function(){var t=B.getInstance();t.curTurboMode=t.curTurboMode!==f.Fast?f.Fast:f.Normal,this.updateSpeedSwitch()}},{key:"onClickTurboSpin",value:function(){var t=B.getInstance();t.curTurboMode=t.curTurboMode!==f.Turbo?f.Turbo:f.Normal,this.updateSpeedSwitch()}},{key:"onClickStopUntilFeature",value:function(){var t=B.getInstance();t.isStopUntilFeature=!t.isStopUntilFeature,this.updateStopUntilFeature()}},{key:"onClickAutoTimes",value:function(){var t=B.getInstance();t.isAutoTimes=!t.isAutoTimes,this.updateAutoTimes()}},{key:"updateSpeedSwitch",value:function(){var t=B.getInstance().curTurboMode;switch(g.setTurboBtnState.emit(t),t){case f.Normal:this.tweenOff(this.fastSpinBtn),this.tweenOff(this.turboSpinBtn);break;case f.Fast:this.tweenOn(this.fastSpinBtn),this.tweenOff(this.turboSpinBtn);break;case f.Turbo:this.tweenOn(this.turboSpinBtn),this.tweenOff(this.fastSpinBtn)}}},{key:"tweenOn",value:function(t){var e=.15,n="backOut";d(t.getChildByName("Point")).to(e,{position:new C(15,0,0)},{easing:n}).start(),d(t.getChildByName("Point").getComponent(v)).to(e,{color:new y(200,200,200,255)},{easing:n}).start(),d(t.getChildByName("Bg").getComponent(v)).to(e,{color:new y(220,140,80,255)},{easing:n}).start()}},{key:"tweenOff",value:function(t){var e=.15,n="backOut";d(t.getChildByName("Point")).to(e,{position:new C(-15,0,0)},{easing:n}).start(),d(t.getChildByName("Point").getComponent(v)).to(e,{color:new y(140,140,140,255)},{easing:n}).start(),d(t.getChildByName("Bg").getComponent(v)).to(e,{color:new y(72,72,72,255)},{easing:n}).start()}},{key:"updateStopUntilFeature",value:function(){B.getInstance().isStopUntilFeature?this.tweenOn(this.stopUntilFeatureBtn):this.tweenOff(this.stopUntilFeatureBtn)}},{key:"updateAutoTimes",value:function(){B.getInstance().isAutoTimes?this.tweenOn(this.autoTimesBtn):this.tweenOff(this.autoTimesBtn)}},{key:"createItem",value:function(){if(null!=this.autoStringList)for(var t in this.autoStringList){var e=S(this.dropDownItem);this.scrollView.content.addChild(e),e.getChildByName("Label").getComponent(r).string=this.autoStringList[t],k.AddHandHoverEvent(e),e.setPosition(0,0,0),e.active=!0,T(this.node,"AutoSpin",e.getComponent(p),"pickDropItem",t)}}},{key:"onClickDrop",value:function(){this.openDrop(!this.scrollView.node.active)}},{key:"onCloseDrop",value:function(){this.openDrop(!1)}},{key:"openDrop",value:function(t){this.scrollView.node.active=t,this.maskBtn.active=t}},{key:"pickDropItem",value:function(t,e){this.pickIdx=e,this.displayItemLabel.string=this.autoStringList[e],null!=t&&this.openDrop(!1),B.getInstance().isAutoTimes||(B.getInstance().isAutoTimes=!0,this.updateAutoTimes())}},{key:"onDestroy",value:function(){this.maskBtn.off(p.EventType.CLICK,this.onCloseDrop,this),this.displayItemLabel.node.off(c.EventType.TOUCH_END,this.onClickDrop,this)}}]),h}(m))||I);l._RF.pop()}}}));

System.register("chunks:///_virtual/AutoSpinDelayTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseConst.ts","./DataManager.ts","./GameTask.ts","./Utils.ts"],(function(e){var t,n,a,s,r,i,u,c,o,l,f,p,h;return{setters:[function(e){t=e.inherits,n=e.createSuper,a=e.classCallCheck,s=e.defineProperty,r=e.assertThisInitialized,i=e.createClass,u=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){o=e.cclegacy},function(e){l=e.BaseConst},function(e){f=e.DataManager},function(e){p=e.GameTask},function(e){h=e.Utils}],execute:function(){o._RF.push({},"dd23azYjOtH8r/EwOXoHCJs","AutoSpinDelayTask",void 0);e("AutoSpinDelayTask",function(e){t(y,e);var o,p=n(y);function y(){var e;a(this,y);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=p.call.apply(p,[this].concat(n)),s(r(e),"name","AutoSpinDelayTask"),e}return i(y,[{key:"execute",value:(o=u(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=f.getInstance()).isAutoMode){e.next=7;break}return e.next=4,h.delay(l.SLOT_TIME[t.curTurboMode].waitNextSpinTime);case 4:this.finish(),e.next=8;break;case 7:this.finish();case 8:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"update",value:function(e){}}]),y}(p));o._RF.pop()}}}));

System.register("chunks:///_virtual/BackBSSettleTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SettingsController.ts","./DataManager.ts","./AudioManager.ts","./GameTask.ts","./FeatureBuyBtn.ts","./AudioKey.ts"],(function(e){var t,n,a,r,s,i,u,c,o,l,f,d,h,k,g;return{setters:[function(e){t=e.inherits,n=e.createSuper,a=e.classCallCheck,r=e.defineProperty,s=e.assertThisInitialized,i=e.createClass,u=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){o=e.cclegacy},function(e){l=e.SettingsController},function(e){f=e.DataManager},function(e){d=e.AudioManager},function(e){h=e.GameTask},function(e){k=e.FeatureBuyBtn},function(e){g=e.AudioKey}],execute:function(){o._RF.push({},"32831CX1OlL5IhJlgm+UdK+","BackBSSettleTask",void 0);e("BackBSSettleTask",function(e){t(p,e);var o,h=n(p);function p(){var e;a(this,p);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=h.call.apply(h,[this].concat(n)),r(s(e),"name","BackBSSettleTask"),r(s(e),"userCredit",void 0),e}return i(p,[{key:"execute",value:function(){d.getInstance().playMusic(g.bgmMg),l.refreshCredit.emit(this.userCredit),f.getInstance().userCredit=this.userCredit,k.show.emit(),this.onTaskEnd()}},{key:"onTaskEnd",value:(o=u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.finish();case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"update",value:function(e){}}]),p}(h));o._RF.pop()}}}));

System.register("chunks:///_virtual/BackgroundUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseEvent.ts","./BaseType.ts","./Utils.ts"],(function(e){var n,t,i,a,c,s,o,r,g,u,f,h;return{setters:[function(e){n=e.inherits,t=e.createSuper,i=e.classCallCheck,a=e.defineProperty,c=e.assertThisInitialized,s=e.createClass},function(e){o=e.cclegacy,r=e._decorator,g=e.Component},function(e){u=e.BaseEvent},function(e){f=e.ModuleID},function(e){h=e.Utils}],execute:function(){var l;o._RF.push({},"75fdf9N1OJNE57k63EBfHig","BackgroundUI",void 0);var v=r.ccclass;e("BackgroundUI",v("BackgroundUI")(l=function(e){n(r,e);var o=t(r);function r(){var e;i(this,r);for(var n=arguments.length,t=new Array(n),s=0;s<n;s++)t[s]=arguments[s];return e=o.call.apply(o,[this].concat(t)),a(c(e),"bg_fg",void 0),e}return s(r,[{key:"onLoad",value:function(){this.bg_fg=this.node.getChildByName("bg_fg"),u.changeScene.on(this.onChangeScene,this),this.onChangeScene(f.BS)}},{key:"onChangeScene",value:function(e){var n=this;e===f.BS?this.bg_fg.active&&h.fadeOut(this.bg_fg,.5,255,0,(function(){n.bg_fg.active=!1})):this.bg_fg.active||(this.bg_fg.active=!0,h.fadeIn(this.bg_fg,.5,0,255))}}]),r}(g))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseConfig.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"056585kHA9N9Yg2oadL6GMy","BaseConfig",void 0);e("BaseConfig",{Sites:{Develop:["gc.prep.lab","gc.playhard.name","gc.ifun7.vip","localhost","gs.prep.lab"],QA:[]},Version:"5800.010",CurrencySymbol:"A$",DecimalPlaces:2});c._RF.pop()}}}));

System.register("chunks:///_virtual/BaseConst.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseType.ts"],(function(e){var i,t,n,s,T;return{setters:[function(e){i=e.createClass,t=e.classCallCheck,n=e.defineProperty},function(e){s=e.cclegacy},function(e){T=e.TurboMode}],execute:function(){var o;s._RF.push({},"94173VKp4ZPGrW4Pd52LGE9","BaseConst",void 0);var m=e("BaseConst",i((function e(){t(this,e)})));n(m,"TIMEOUT_TIME",{loading:120,idleMute:5,featureWaitStart:10,resultRecall:30}),n(m,"GAME_TIME",{bigWinLevelTime:5,totalWinScrollTime:1,winEndDelay:2}),n(m,"SLOT_TIME",(n(o={},T.Normal,{spinIntervalTime:.04,stopIntervalTime:.2,beginTime:.5,loopTime:.25,stopTime:.5,skipStopTime:.3,spinTime:1,mipieTime:2,showWinTime:2,waitNextSpinTime:.1}),n(o,T.Fast,{spinIntervalTime:0,stopIntervalTime:.1,beginTime:.4,loopTime:.2,stopTime:.4,skipStopTime:.3,spinTime:.7,mipieTime:2,showWinTime:2,waitNextSpinTime:.1}),n(o,T.Turbo,{spinIntervalTime:0,stopIntervalTime:0,beginTime:.3,loopTime:.15,stopTime:.3,skipStopTime:.3,spinTime:.4,mipieTime:2,showWinTime:2,waitNextSpinTime:.1}),o)),s._RF.pop()}}}));

System.register("chunks:///_virtual/BaseEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./XEvent.ts"],(function(e){var n,t,o,a,i,u;return{setters:[function(e){n=e.createClass,t=e.defineProperty,o=e.classCallCheck},function(e){a=e.cclegacy},function(e){i=e.XEvent,u=e.XEvent1}],execute:function(){a._RF.push({},"9d81eR5EFpBN5GsEz5aIP/N","BaseEvent",void 0);var c=e("BaseEvent",function(){function e(){o(this,e)}return n(e,null,[{key:"clearAll",value:function(){Object.getOwnPropertyNames(e).forEach((function(n){var t=e[n];t&&t.clear&&t.clear()}))}}]),e}());t(c,"showStartBtn",new i),t(c,"changeOrientation",new u),t(c,"clickStart",new i),t(c,"clickStop",new i),t(c,"resetSpin",new i),t(c,"onSpinResult",new u),t(c,"showGameInformation",new i),t(c,"showAutoSpin",new i),t(c,"setTurboBtnState",new u),t(c,"runAutoSpin",new i),t(c,"stopAutoSpin",new i),t(c,"initMessageComplete",new i),t(c,"initResourceComplete",new i),t(c,"hideLoading",new i),t(c,"startGame",new i),t(c,"clickSpin",new u),t(c,"stopLineLoop",new i),t(c,"clickTurbo",new u),t(c,"clickSkip",new i),t(c,"spinResult",new u),t(c,"buyFeature",new i),t(c,"buyFeatureVisible",new u),t(c,"buyFeatureEnabled",new u),t(c,"changeScene",new u),t(c,"keyDown",new u),t(c,"onStopAuto",new i),t(c,"fadeInFeatureBuy",new i),t(c,"fadeOutFeatureBuy",new i),a._RF.pop()}}}));

System.register("chunks:///_virtual/BaseSymbol.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,o,a,l,u,s,c,i;return{setters:[function(e){n=e.inherits,t=e.createSuper,o=e.classCallCheck,a=e.defineProperty,l=e.assertThisInitialized,u=e.createClass},function(e){s=e.cclegacy,c=e._decorator,i=e.Component}],execute:function(){var r;s._RF.push({},"1a96fK2bstFXIUOt8n9hso3","BaseSymbol",void 0);var y=c.ccclass;e("BaseSymbol",y("BaseSymbol")(r=function(e){n(c,e);var s=t(c);function c(){var e;o(this,c);for(var n=arguments.length,t=new Array(n),u=0;u<n;u++)t[u]=arguments[u];return e=s.call.apply(s,[this].concat(t)),a(l(e),"symbolID",-1),a(l(e),"posID",-1),a(l(e),"parentNode",null),a(l(e),"scatterLayer",null),a(l(e),"winLayer",null),a(l(e),"isStop",!0),e}return u(c,[{key:"setSymbolID",value:function(e){}},{key:"setSymbolData",value:function(e){}},{key:"blurShow",value:function(){}},{key:"blurHide",value:function(){}},{key:"symbolWin",value:function(){}},{key:"symbolLose",value:function(){}},{key:"setRandomSymbolID",value:function(){}},{key:"onSpin",value:function(){}},{key:"onStop",value:function(){}},{key:"setIsMi",value:function(e){}},{key:"backBS",value:function(e){}}]),c}(i))||r);s._RF.pop()}}}));

System.register("chunks:///_virtual/BaseSymbolData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(a){var e,s,t,c,o;return{setters:[function(a){e=a.createClass,s=a.classCallCheck,t=a.defineProperty},function(a){c=a.cclegacy,o=a._decorator}],execute:function(){var l;c._RF.push({},"b15f9zncAZMhaoVa05aUdCf","BaseSymbolData",void 0);var n=o.ccclass;a("BaseSymbolData",n("BaseSymbolData")(l=e((function a(){s(this,a),t(this,"symbolID",-1),t(this,"isChange",!1)})))||l);c._RF.pop()}}}));

System.register("chunks:///_virtual/BaseType.ts",["cc"],(function(n){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"d2a2cdVTZZEwozBU5SZowGY","BaseType",void 0);n("BigWinType",function(n){return n[n.big=0]="big",n[n.super=1]="super",n[n.mega=2]="mega",n[n.non=9]="non",n}({})),n("OrientationtMode",function(n){return n.Portrait="Portrait",n.Landscape="Landscape",n}({})),n("ModuleID",function(n){return n.BS="BS",n.FG="FG",n}({})),n("TurboMode",function(n){return n[n.Normal=0]="Normal",n[n.Fast=1]="Fast",n[n.Turbo=2]="Turbo",n}({})),n("AudioMode",function(n){return n[n.AudioOn=0]="AudioOn",n[n.MusicOff=1]="MusicOff",n[n.AudioOff=2]="AudioOff",n}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/BetData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){var e,a,i,n,u;return{setters:[function(t){e=t.createClass,a=t.classCallCheck,i=t.defineProperty},function(t){n=t.cclegacy},function(t){u=t.Utils}],execute:function(){n._RF.push({},"aaea2LtdMRILrLDug9YEO/n","BetData",void 0);t("BetData",function(){function t(){a(this,t),i(this,"betIdx",1),i(this,"lineIdx",0),i(this,"gameData",void 0),i(this,"coinValue",0)}return e(t,[{key:"setBetIdx",value:function(t){this.betIdx=t}},{key:"setLineIdx",value:function(t){this.lineIdx=t}},{key:"setGameData",value:function(t){this.gameData=t}},{key:"setCoinValue",value:function(t){this.coinValue=t}},{key:"getBetTotal",value:function(){var t=u.accMul(this.coinValue,this.getLineBet());return u.accMul(this.gameData.line_total,t)}},{key:"getCoinValue",value:function(){return this.coinValue}},{key:"getLineBet",value:function(){return this.gameData.line_bet[this.lineIdx]}},{key:"getLineTotal",value:function(){return this.gameData.line_total}},{key:"getBuyFeatureTotal",value:function(){if(!this.gameData.buy_spin)return-1;var t=this.gameData.buy_spin.multiplier,e=this.gameData.buy_spin.limit_total,a=t*this.getBetTotal();return a>e?-1:a}},{key:"getChangeBetValue",value:function(t){this.betIdx+=t;var e=this.gameData.coin_value.length,a=this.gameData.bet_available_idx;return t>0?this.betIdx>=e&&(this.betIdx=a):this.betIdx<a&&(this.betIdx=e-1),this.coinValue=this.gameData.coin_value[this.betIdx],this.coinValue}},{key:"plus",value:function(){this.betIdx=Math.min(this.betIdx+1,this.gameData.coin_value.length-1)}},{key:"less",value:function(){this.betIdx=Math.max(this.betIdx-1,0)}},{key:"getPlusEnabled",value:function(){return this.betIdx<this.gameData.coin_value.length-1}},{key:"getLessEnabled",value:function(){return this.betIdx>0}},{key:"getWinMultipleByValue",value:function(t){return t/this.getBetTotal()}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioKey.ts","./BaseConst.ts","./DataManager.ts","./BaseEvent.ts","./XEvent.ts","./AudioManager.ts","./BaseType.ts","./Utils.ts"],(function(e){var t,n,i,a,o,s,u,l,r,d,h,c,p,g,y,f,W,b,v,V,m,T,C,_,B,R,w;return{setters:[function(e){t=e.defineProperty,n=e.inherits,i=e.createSuper,a=e.classCallCheck,o=e.assertThisInitialized,s=e.createClass,u=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){r=e.cclegacy,d=e._decorator,h=e.sp,c=e.Label,p=e.Button,g=e.KeyCode,y=e.Color,f=e.tween,W=e.Component,b=e.Tween},function(e){v=e.AudioKey},function(e){V=e.BaseConst},function(e){m=e.DataManager},function(e){T=e.BaseEvent},function(e){C=e.XEvent1,_=e.XEvent},function(e){B=e.AudioManager},function(e){R=e.BigWinType},function(e){w=e.Utils}],execute:function(){var S,k;r._RF.push({},"6660eWdn/9FfqLm/YUswFkV","BigWinUI",void 0);var I=function(e){return e.superWin_loop="superWin_loop",e.superWin_in="superWin_in",e}(I||{}),L=function(e){return e.big_loop="big_loop",e.big_in="big_in",e.mega_loop="mega_loop",e.mega_in="mega_in",e.super_loop="super_loop",e.super_in="super_in",e}(L||{}),E=d.ccclass;e("BigWinUI",E("BigWinUI")((k=function(e){n(W,e);var r,d=i(W);function W(){var e;a(this,W);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=d.call.apply(d,[this].concat(i)),t(o(e),"isPlaying",!1),t(o(e),"winLabel",void 0),t(o(e),"currencyLabel",void 0),t(o(e),"aniWin",void 0),t(o(e),"aniCoin",void 0),t(o(e),"bigWinConfig",[{sound:v.bigWin,in:L.big_in,loop:L.big_loop,duration:3},{sound:v.superWin,in:L.super_in,loop:L.super_loop,duration:3},{sound:v.megaWin,in:L.mega_in,loop:L.mega_loop,duration:3}]),t(o(e),"data",{currentType:R.big,finalType:R.big,currentRateValue:0,endRateValue:0,finalRateValue:0}),t(o(e),"bigWinValue",0),t(o(e),"superWinValue",0),t(o(e),"megaWinValue",0),e}return s(W,[{key:"onLoad",value:function(){W.show.on(this.onShow,this),this.aniWin=this.node.getChildByPath("bigWinNode/ani_win").getComponent(h.Skeleton),this.aniCoin=this.node.getChildByPath("bigWinNode/ani_coin").getComponent(h.Skeleton),this.currencyLabel=this.node.getChildByPath("bigWinNode/numLayout/currency").getComponent(c),this.winLabel=this.node.getChildByPath("bigWinNode/numLayout/num_totalwin").getComponent(c),this.node.active=!1}},{key:"onShow",value:function(e){var t=this;B.getInstance().editMusicVolume(.1),B.getInstance().playSound(v.afterMusic),this.currencyLabel.string=w.getCurrencySymbol();var n=m.getInstance();this.node.getChildByPath("SkipSensor").once(p.EventType.CLICK,this.onSkip,this),T.keyDown.once((function(e){e===g.SPACE&&t.onSkip()}),this),w.fadeIn(this.node,.3,0,255),this.data.currentRateValue=0,this.data.endRateValue=0,this.data.finalRateValue=e,this.data.currentType=R.big,this.data.finalType=n.getBigWinTypeByValue(e),this.node.active=!0,this.isPlaying=!0,this.winLabel.string="",this.winLabel.color=y.WHITE,this.aniCoin.setAnimation(0,I.superWin_in,!1),this.aniCoin.addAnimation(0,I.superWin_loop,!0),this.bigWinValue=n.bigWinMultiple[R.big]*n.bet.getBetTotal(),this.superWinValue=n.bigWinMultiple[R.super]*n.bet.getBetTotal(),this.megaWinValue=n.bigWinMultiple[R.mega]*n.bet.getBetTotal(),this.tweenAtLevel()}},{key:"tweenAtLevel",value:function(){var e=this,t=this.bigWinConfig[this.data.currentType];this.setTypeStyle(this.data.currentType);var n=m.getInstance();switch(this.data.currentType){case R.big:this.data.currentRateValue=0,this.data.endRateValue=this.bigWinValue;break;case R.super:this.data.currentRateValue=this.bigWinValue,this.data.endRateValue=this.superWinValue;break;case R.mega:this.data.currentRateValue=this.superWinValue,this.data.endRateValue=this.megaWinValue}var i=this.data.currentType+1,a=0,o=0;if(i>n.bigWinMultiple.length-1)this.data.endRateValue=this.data.finalRateValue,a=t.duration;else if(this.data.currentType===this.data.finalType){this.data.endRateValue=this.data.finalRateValue;var s=n.bigWinMultiple[i]*n.bet.getBetTotal();a=t.duration*(this.data.finalRateValue-this.data.currentRateValue)/(s-this.data.currentRateValue),o=t.duration-a}else a=t.duration;f(this.data).to(a,{currentRateValue:this.data.endRateValue},{onUpdate:function(t){e.winLabel.string=w.numberFormat(t.currentRateValue)}}).call((function(){e.data.endRateValue,e.data.finalRateValue})).delay(o).call((function(){e.data.currentType!==e.data.finalType?(B.getInstance().stopSound(e.bigWinConfig[e.data.currentType].sound),e.data.currentType++,e.tweenAtLevel()):e.data.endRateValue===e.data.finalRateValue&&e.onBigWinEnd()})).start()}},{key:"setTypeStyle",value:function(e){var t=this.bigWinConfig[e];B.getInstance().playSound(t.sound),w.ClearSpine(this.aniWin),this.aniWin.setAnimation(0,t.in,!1),this.aniWin.addAnimation(0,t.loop,!0)}},{key:"onSkip",value:function(){this.node.getChildByPath("SkipSensor").off(p.EventType.CLICK,this.onSkip,this),T.keyDown.off(this),this.isPlaying&&(this.data.currentType!==this.data.finalType&&(B.getInstance().stopSound(this.bigWinConfig[this.data.currentType].sound),this.data.currentType=this.data.finalType,this.setTypeStyle(this.data.currentType)),this.onBigWinEnd())}},{key:"onBigWinEnd",value:(r=u(l().mark((function e(){var t,n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.bigWinConfig[this.data.finalType],this.isPlaying=!1,b.stopAllByTarget(this.data),this.winLabel.string=w.numberFormat(this.data.finalRateValue),B.getInstance().playSound(v.winEnd),B.getInstance().stopSound(t.sound),B.getInstance().stopSound(v.afterMusic),e.next=9,w.delay(V.GAME_TIME.winEndDelay);case 9:w.fadeOut(this.node,1,255,0,(function(){n.onBigWinComplete()}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"onBigWinComplete",value:function(){B.getInstance().editMusicVolume(1),this.node.active=!1,W.complete.emit()}},{key:"onDestroy",value:function(){W.complete.off(this),W.show.off(this)}}]),W}(W),t(k,"show",new C),t(k,"complete",new _),S=k))||S);r._RF.pop()}}}));

System.register("chunks:///_virtual/BootCatchTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTask.ts","./AddSpinUI.ts","./BootCatchUI.ts"],(function(t){var e,n,a,o,r,c,s,i,u,h,f,l;return{setters:[function(t){e=t.inherits,n=t.createSuper,a=t.classCallCheck,o=t.defineProperty,r=t.assertThisInitialized,c=t.createClass,s=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){u=t.cclegacy},function(t){h=t.GameTask},function(t){f=t.AddSpinUI},function(t){l=t.BootCatchUI}],execute:function(){u._RF.push({},"02e56A16h1CpZgEXAMLuInM","BootCatchTask",void 0);t("BootCatchTask",function(t){e(p,t);var u,h=n(p);function p(){var t;a(this,p);for(var e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];return t=h.call.apply(h,[this].concat(n)),o(r(t),"name","BootCatchTask"),t}return c(p,[{key:"execute",value:(u=s(i().mark((function t(){var e=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l.show.emit((function(){f.show.emit((function(){e.finish()}))}));case 1:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})},{key:"update",value:function(t){}}]),p}(h));u._RF.pop()}}}));

System.register("chunks:///_virtual/BootCatchUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioKey.ts","./XEvent.ts","./AudioManager.ts","./Utils.ts"],(function(t){var n,o,e,i,a,s,c,h,r,u,l,d,p,f,y,v,_,k;return{setters:[function(t){n=t.defineProperty,o=t.inherits,e=t.createSuper,i=t.classCallCheck,a=t.assertThisInitialized,s=t.createClass,c=t.asyncToGenerator,h=t.regeneratorRuntime},function(t){r=t.cclegacy,u=t._decorator,l=t.sp,d=t.Component,p=t.tween,f=t.Vec3},function(t){y=t.AudioKey},function(t){v=t.XEvent1},function(t){_=t.AudioManager},function(t){k=t.Utils}],execute:function(){var g,m;r._RF.push({},"4428f3suEBGfYMVFtZgK95t","BootCatchUI",void 0);var C=u.ccclass;u.property,t("BootCatchUI",C("BootCatchUI")((m=function(t){o(d,t);var r,u=e(d);function d(){var t;i(this,d);for(var o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return t=u.call.apply(u,[this].concat(e)),n(a(t),"ani_hook",void 0),n(a(t),"ani_multiply",void 0),n(a(t),"boot",void 0),t}return s(d,[{key:"onLoad",value:function(){d.show.on(this.show,this),this.ani_hook=this.node.getChildByName("ani_hook").getComponent(l.Skeleton),this.boot=this.node.getChildByPath("ani_hook/boot"),this.ani_multiply=this.node.getChildByPath("ani_hook/ani_multiply").getComponent(l.Skeleton),this.node.active=!1,this.boot.active=!1,this.ani_multiply.node.active=!1}},{key:"show",value:(r=c(h().mark((function t(n){var o=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.scheduleOnce((function(){_.getInstance().playSound(y.hook)}),.3),this.ani_hook.node.position=new f(0,-35,0),this.node.active=!0,k.fadeIn(this.node,.1,0,255),this.ani_hook.setAnimation(0,"hook_in",!1),t.next=7,k.delay(1);case 7:return this.ani_hook.setAnimation(0,"hook_get",!1),t.next=10,k.delay(.8);case 10:return this.ani_multiply.node.active=!0,this.ani_multiply.setAnimation(0,"light",!1),this.boot.active=!0,k.fadeIn(this.boot,.2,0,255),t.next=16,k.delay(.4);case 16:p(this.ani_hook.node).to(1.1,{position:new f(0,180,0)},{easing:"sineInOut"}).call((function(){null==n||n()})).delay(.2).call((function(){k.fadeOut(o.node,.4,255,0,(function(){o.node.active=!1,o.boot.active=!1,o.ani_multiply.node.active=!1}))})).start();case 17:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"onDestroy",value:function(){d.show.off(this)}}]),d}(d),n(m,"show",new v),g=m))||g);r._RF.pop()}}}));

System.register("chunks:///_virtual/BundleLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,a,r,u,s,o;return{setters:[function(e){n=e.createClass,t=e.defineProperty,a=e.classCallCheck,r=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){s=e.cclegacy,o=e.assetManager}],execute:function(){s._RF.push({},"dcf46lMl+BF16FAUeSgYOAO","BundleLoader",void 0);var c=e("BundleLoader",function(){function e(){a(this,e),t(this,"taskList",[])}var s,c;return n(e,[{key:"add",value:function(e,n,t){this.taskList.push({bundleName:e,dir:n,type:t})}},{key:"load",value:(c=r(u().mark((function e(){var n,t=this,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length>0&&void 0!==a[0]&&a[0])){e.next=8;break}return n=[],this.taskList.forEach((function(e){n.push(t.loadTask(e))})),e.next=6,Promise.all(n);case 6:e.next=9;break;case 8:this.taskList.forEach((function(e){return t.loadTask(e)}));case 9:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"loadTask",value:(s=r(u().mark((function n(t){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var a=o.getBundle(t.bundleName),r=function(){var r={};a.loadDir(t.dir,t.type,(function(a,u){if(0===u.length)console.error("".concat(t.bundleName," ").concat(t.dir," 內沒有資源!!!"));else{u.forEach((function(e){r["".concat(e.name)]=e}));var s=t.bundleName+"/"+t.dir;e.eventMap.has(s)&&e.eventMap.get(s).forEach((function(e){e(r)})),e.bundleResMap.set(s,r),e.eventMap.delete(s),n()}}))};a?r():o.loadBundle(t.bundleName,(function(){a=o.getBundle(t.bundleName),r()}))})));case 1:case"end":return n.stop()}}),n)}))),function(e){return s.apply(this,arguments)})}],[{key:"onLoaded",value:function(n,t,a){var r=n+"/"+t;e.bundleResMap.has(r)?a(e.bundleResMap.get(r)):(e.eventMap.has(r)||e.eventMap.set(r,[]),e.eventMap.get(r).push(a))}}]),e}());t(c,"eventMap",new Map),t(c,"bundleResMap",new Map),s._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./XEvent.ts"],(function(e){var t,n,i,a,r,c,o,s,h,l,u;return{setters:[function(e){t=e.defineProperty,n=e.inherits,i=e.createSuper,a=e.classCallCheck,r=e.assertThisInitialized,c=e.createClass},function(e){o=e.cclegacy,s=e._decorator,h=e.sp,l=e.Component},function(e){u=e.XEvent}],execute:function(){var d,f;o._RF.push({},"b209bOCG6lECJm2kjFnKz7p","CharacterUI",void 0);var p=s.ccclass;s.property,e("CharacterUI",p("CharacterUI")((f=function(e){n(s,e);var o=i(s);function s(){var e;a(this,s);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return e=o.call.apply(o,[this].concat(i)),t(r(e),"ani_character",void 0),e}return c(s,[{key:"onLoad",value:function(){this.ani_character=this.node.getChildByPath("mask/ani_character").getComponent(h.Skeleton),s.win.on(this.win,this),s.idle.on(this.idle,this)}},{key:"win",value:function(){this.ani_character.setAnimation(0,"win",!1),this.ani_character.addAnimation(0,"idle",!0)}},{key:"idle",value:function(){this.ani_character.setAnimation(0,"idle",!0)}},{key:"onDestroy",value:function(){s.win.off(this),s.idle.off(this)}}]),s}(l),t(f,"win",new u),t(f,"idle",new u),d=f))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/config.ts",["cc"],(function(){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"46c5arGrO5EAqU/M1a3qyp4","config",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/DataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BetData.ts","./UrlParam.ts","./BaseType.ts"],(function(t){var e,i,n,a,s,u,r,l,o;return{setters:[function(t){e=t.createClass,i=t.defineProperty,n=t.classCallCheck},function(t){a=t.cclegacy},function(t){s=t.BetData},function(t){u=t.UrlParam},function(t){r=t.ModuleID,l=t.TurboMode,o=t.BigWinType}],execute:function(){a._RF.push({},"a56c9Msf7xL37wE15kq5HBn","DataManager",void 0);var c=t("DataManager",function(){function t(){n(this,t),i(this,"userCredit",0),i(this,"isAutoMode",!1),i(this,"autoSpinCount",0),i(this,"isAutoTimes",!1),i(this,"isStopUntilFeature",!1),i(this,"curModuleID",r.BS),i(this,"curTurboMode",l.Fast),i(this,"isSoundEnabled",!0),i(this,"isMusicEnabled",!0),i(this,"lockKeyboard",!1),i(this,"urlParam",new u),i(this,"bet",new s),i(this,"_userData",void 0),i(this,"_gameData",void 0),i(this,"_spinResult",void 0),i(this,"currency",""),i(this,"bigWinMultiple",[]),i(this,"promotionData",void 0),i(this,"inGameMenuStatus",void 0),i(this,"inGameMenuStore",{new:[],hot:[],gameList:[],favList:[],imageURL:"",isAvailable:!1}),i(this,"gameNameList",{})}return e(t,[{key:"userData",get:function(){return this._userData},set:function(t){this._userData=t,this.userCredit=t.credit,this.currency=t.currency}},{key:"gameData",get:function(){return this._gameData},set:function(t){this._gameData=t,this.bigWinMultiple.push(t.big_win),this.bigWinMultiple.push(t.super_win),this.bigWinMultiple.push(t.mega_win),this.bet.setGameData(t),this.bet.setLineIdx(t.line_bet_default_index),this.bet.setBetIdx(t.coin_value_default_index),this.bet.setCoinValue(t.coin_value[t.coin_value_default_index])}},{key:"spinResult",get:function(){return this._spinResult},set:function(t){this._spinResult=t}},{key:"getFullBetrecordurl",value:function(){var t=this.urlParam,e=t.betRecordUrl,i=t.token,n=t.serverUrl,a=t.lang;return"".concat(e,"?token=").concat(i,"&lang=").concat(a,"&serverurl=").concat(n)}},{key:"isBS",value:function(){return this.curModuleID===r.BS}},{key:"getBigWinTypeByValue",value:function(t){if(!this.bigWinMultiple||0===this.bigWinMultiple.length)return o.non;for(var e=o.non,i=this.bet.getWinMultipleByValue(t),n=0;n<this.bigWinMultiple.length;n++)i>=this.bigWinMultiple[n]&&(e=n);return e}},{key:"getBuySpinValue",value:function(){if(!this.gameData.buy_spin)return-1;var t=this.gameData.buy_spin.multiplier,e=this.gameData.buy_spin.limit_total,i=t*this.bet.getBetTotal();return i>e?-1:i}},{key:"isBlockKeyboard",value:function(){return this.lockKeyboard}}],[{key:"getInstance",value:function(){return t.instance||(t.instance=new t),t.instance}}]),t}());i(c,"instance",null),a._RF.pop()}}}));

System.register("chunks:///_virtual/DelayTask.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d919aJF0J1G6ZjC14I5sdp1","DelayTask",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/EndGameTask.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"89e445WRPBAqI3cxZwlw76Y","EndGameTask",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ErrorCodeConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var o,e,t,d;return{setters:[function(r){o=r.createClass,e=r.classCallCheck,t=r.defineProperty},function(r){d=r.cclegacy}],execute:function(){d._RF.push({},"93242y3HqNBmZX2iotQdzuX","ErrorCodeConfig",void 0);r("ErrorCodeConfig",function(){function r(){e(this,r),t(this,"retryErrorCodes",[239]),t(this,"closeAndContinueCodes",[220,234,235,236,237,238]),t(this,"errorCodes",new Map([[-1,"InternetError"],[100,"CodeError"],[101,"CodePanic"],[102,"CodeTokenError"],[103,"CodeOrderIDError"],[104,"CodeAgentKeyError"],[105,"CodeValidateAgentNodeError"],[106,"CodeOpenGameTimesExceed"],[107,"CodeTokenNotFound"],[108,"CodeCommandNotFound"],[109,"CodeUnmarshalError"],[110,"CodeMarshalError"],[111,"CodeParameterError"],[200,"CodeHTTPMethodError"],[201,"CodeBodyNil"],[202,"CodeBodyReadError"],[203,"CodeBodyReadNil"],[210,"CodeToSimulatorError"],[211,"CodeFromSimulatorError"],[212,"CodeReSimulatorLimit"],[220,"CodeUserCreditNotEnough"],[221,"CodeUserSpinDataError"],[222,"CodeGameNotOpen"],[223,"CodeGameProfitBoundary"],[224,"CodeGameIDNotMatchUserGameID"],[230,"CodeWalletPostBalanceError"],[231,"CodeWalletPostBetError"],[232,"CodeWalletPostResultError"],[233,"CodeWalletCancelError"],[234,"CodeWalletPostBalanceFail"],[235,"CodeWalletPostBetFail"],[236,"CodeWalletPostResultFail"],[237,"CodeWalletUserBalanceZero"],[238,"CodeWalletUserCancelFail"],[239,"CodeWalletPostIDNBetTimeout"],[240,"CodeDBSelectError"],[241,"CodeDBInsertError"],[242,"CodeDBUpdateError"],[250,"CodeRedisError"],[251,"CodeRedisGetError"],[252,"CodeRedisPushError"],[253,"CodeGetUserCreditFromRedisError"],[254,"CodeGetMasterDataError"],[255,"CodeGetAgentDataError"],[260,"CodeNTToOtherError"],[261,"CodeGetWalletURLError"],[270,"CodePromotionServerError"],[271,"CodePromotionBriefError"],[272,"CodePromotionGetCashDropError"],[273,"CodePromotionGetCashDropPrizeError"],[274,"CodePromotionGetTournamentError"],[275,"CodePromotionGetPrizeRecordError"],[276,"CodePromotionGetJpError"],[277,"CodePromotionGetJpAmountError"],[278,"CodePromotionGetJpPrizeRecordError"],[279,"CodePromotionGetExtraDataError"],[280,"CodeApiServerError"],[281,"CodeApiReloginError"],[290,"CodeGetExtraDataError"],[291,"CodeGetBetRecordError"],[292,"CodeGetGameDataError"],[293,"CodeGetUserDataError"]]))}return o(r,[{key:"isRetryError",value:function(r){return this.retryErrorCodes.includes(r)}},{key:"isCloseAndContinueError",value:function(r){return this.closeAndContinueCodes.includes(r)}},{key:"getErrorDescription",value:function(r){return this.errorCodes.get(r)||"未知錯誤"}}]),r}());d._RF.pop()}}}));

System.register("chunks:///_virtual/FeatureBuyBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioKey.ts","./BaseEvent.ts","./XEvent.ts","./AudioManager.ts"],(function(e){var t,i,n,s,u,o,a,r,c,h,l,f,y,d;return{setters:[function(e){t=e.defineProperty,i=e.inherits,n=e.createSuper,s=e.classCallCheck,u=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,r=e._decorator,c=e.Button,h=e.Component},function(e){l=e.AudioKey},function(e){f=e.BaseEvent},function(e){y=e.XEvent},function(e){d=e.AudioManager}],execute:function(){var B,v;a._RF.push({},"5f7918By1dL5p97iNmz6NIS","FeatureBuyBtn",void 0);var b=r.ccclass;e("FeatureBuyBtn",b("FeatureBuyBtn")((v=function(e){i(r,e);var a=n(r);function r(){var e;s(this,r);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=a.call.apply(a,[this].concat(n)),t(u(e),"FeatureBuyButton",null),t(u(e),"isVisible",!1),t(u(e),"isEnabled",!1),e}return o(r,[{key:"onLoad",value:function(){var e=this;this.FeatureBuyButton=this.node.getChildByName("btn"),this.FeatureBuyButton.on(c.EventType.CLICK,(function(){d.getInstance().playSound(l.btnBuyClick),r.click.emit()}),this),r.show.on(this.show,this),r.hide.on(this.hide,this),f.buyFeatureVisible.on((function(t){e.isVisible=t,e.refresh()}),this),f.buyFeatureEnabled.on((function(t){e.isEnabled=t,e.refresh()}),this)}},{key:"show",value:function(){this.node.active=!0}},{key:"hide",value:function(){this.node.active=!1}},{key:"refresh",value:function(){this.FeatureBuyButton.isValid&&(this.node.active=this.isVisible,this.FeatureBuyButton.active=this.isVisible,this.FeatureBuyButton.getComponent(c).interactable=this.isEnabled)}},{key:"onDestroy",value:function(){r.click.off(this),r.show.off(this),r.hide.off(this)}}]),r}(h),t(v,"click",new y),t(v,"show",new y),t(v,"hide",new y),B=v))||B);a._RF.pop()}}}));

System.register("chunks:///_virtual/FeatureBuyPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioKey.ts","./SettingsController.ts","./DataManager.ts","./BaseEvent.ts","./XEvent.ts","./AudioManager.ts","./Utils.ts"],(function(t){var e,n,i,a,s,o,u,c,h,d,l,r,y,g,b,B,f,C,v,p,I;return{setters:[function(t){e=t.defineProperty,n=t.inherits,i=t.createSuper,a=t.classCallCheck,s=t.assertThisInitialized,o=t.createClass},function(t){u=t.cclegacy,c=t._decorator,h=t.Label,d=t.Button,l=t.Vec3,r=t.tween,y=t.Component},function(t){g=t.AudioKey},function(t){b=t.SettingsController},function(t){B=t.DataManager},function(t){f=t.BaseEvent},function(t){C=t.XEvent},function(t){v=t.AudioManager},function(t){p=t.addBtnClickEvent,I=t.Utils}],execute:function(){var m,k;u._RF.push({},"7c6a5fdJydCz4uxy0gIzvC+","FeatureBuyPage",void 0);var w=c.ccclass;t("FeatureBuyPage",w("FeatureBuyPage")((k=function(t){n(c,t);var u=i(c);function c(){var t;a(this,c);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=u.call.apply(u,[this].concat(i)),e(s(t),"isHiding",!1),e(s(t),"buyUI",void 0),e(s(t),"costLabel",void 0),e(s(t),"currencyLabel",void 0),e(s(t),"buyBtn",void 0),e(s(t),"addBtn",void 0),e(s(t),"lessBtn",void 0),t}return o(c,[{key:"onLoad",value:function(){var t=this;this.buyUI=this.node.getChildByName("pic_buy"),this.currencyLabel=this.node.getChildByPath("pic_buy/numLayout/currency").getComponent(h),this.costLabel=this.node.getChildByPath("pic_buy/numLayout/num_totalwin").getComponent(h),this.node.getChildByPath("pic_buy/btn_cancel").getComponent(d).node.on(d.EventType.CLICK,(function(){t.hide()}),this),this.buyBtn=this.node.getChildByPath("pic_buy/btn_buy").getComponent(d),this.addBtn=this.node.getChildByPath("pic_buy/btn_add").getComponent(d),this.lessBtn=this.node.getChildByPath("pic_buy/btn_less").getComponent(d);var e="FeatureBuyPage";p(this.node,e,this.buyBtn,"onClickBuy"),p(this.node,e,this.addBtn,"onClickChangeBet","1"),p(this.node,e,this.lessBtn,"onClickChangeBet","-1"),this.node.getChildByName("Block").on(d.EventType.CLICK,this.hide,this),c.show.on(this.show,this),c.hide.on(this.hide,this),this.node.active=!1}},{key:"show",value:function(){B.getInstance().lockKeyboard=!0,v.getInstance().playSound(g.showBuyWindow),this.currencyLabel.string=I.getCurrencySymbol(),this.updateBuyInfo(),this.node.active=!0,I.fadeIn(this.buyUI,.3,0,255),this.buyUI.scale=new l(.8,.8,1),r(this.buyUI).to(.15,{scale:new l(1.1,1.1,1)},{easing:"sineOut"}).to(.15,{scale:new l(1,1,1)},{easing:"sineIn"}).start()}},{key:"hide",value:function(){this.isHiding||(B.getInstance().lockKeyboard=!1,v.getInstance().playSound(g.btnBuyCancle),this.isHiding=!0,this.forceHide())}},{key:"onClickBuy",value:function(){this.isHiding||(v.getInstance().playSound(g.btnBuyConfirm),this.forceHide(),f.buyFeature.emit())}},{key:"onClickChangeBet",value:function(t,e){var n=parseInt(e);b.changeBetValue.emit(n),this.updateBuyInfo(),this.updateBetBtnInteractable()}},{key:"updateBuyInfo",value:function(){var t=B.getInstance().bet.getBuyFeatureTotal();this.costLabel.string=I.numberFormat(t),this.buyBtn.interactable=-1!==t}},{key:"updateBetBtnInteractable",value:function(){this.addBtn.getComponent(d).interactable=B.getInstance().bet.getPlusEnabled(),this.lessBtn.getComponent(d).interactable=B.getInstance().bet.getLessEnabled()}},{key:"forceHide",value:function(){var t=this;I.fadeOut(this.buyUI,.2,255,0,(function(){t.node.active=!1,t.isHiding=!1})),r(this.buyUI).to(.2,{scale:new l(.8,.8,1)},{easing:"sineOut"}).start()}},{key:"onDestroy",value:function(){c.show.off(this),c.hide.off(this)}}]),c}(y),e(k,"show",new C),e(k,"hide",new C),m=k))||m);u._RF.pop()}}}));

System.register("chunks:///_virtual/FetchRequestUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,s,a,o,c,i;return{setters:[function(e){t=e.createClass,r=e.classCallCheck,n=e.defineProperty,s=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){o=e.cclegacy,c=e._decorator,i=e.AsyncDelegate}],execute:function(){var u;o._RF.push({},"9f756S1+U9DxJCyxtZsPvIO","FetchRequestUtils",void 0);var h=c.ccclass;c.property,e("FetchRequestUtils",h("FetchRequestUtils")(u=function(){function e(){r(this,e),n(this,"onErrorDelegate",void 0),this.onErrorDelegate=new i}var o;return t(e,[{key:"sendRequest",value:(o=s(a().mark((function e(t,r){var n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t.url,{method:t.method,body:t.content,headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(24e4)});case 3:if((n=e.sent).ok){e.next=12;break}if(404!==n.status){e.next=10;break}throw this.onErrorDelegate.dispatch(-1),new Error("404");case 10:throw this.onErrorDelegate.dispatch(n.status),new Error("HTTP_ERROR_".concat(n.status));case 12:return e.next=14,n.json();case 14:if(!(s=e.sent)||!s.data){e.next=19;break}r(s),e.next=21;break;case 19:throw this.onErrorDelegate.dispatch(-1),new Error("INVALID_RESPONSE");case 21:e.next=36;break;case 23:if(e.prev=23,e.t0=e.catch(0),"TimeoutError"!==e.t0.name){e.next=30;break}throw this.onErrorDelegate.dispatch(-2),new Error("TIMEOUT");case 30:if("TypeError"!==e.t0.name){e.next=35;break}throw this.onErrorDelegate.dispatch(-1),new Error("NETWORK_ERROR");case 35:throw e.t0;case 36:case"end":return e.stop()}}),e,this,[[0,23]])}))),function(e,t){return o.apply(this,arguments)})}]),e}())||u),e("FETCH_METHODS",function(e){return e.POST="POST",e.GET="GET",e}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/FreeGameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioKey.ts","./XEvent.ts","./AudioManager.ts","./Utils.ts"],(function(e){var t,n,i,o,s,a,l,r,c,u,h,d,g,p,y,f,v,m,w,C,L,S,P,b;return{setters:[function(e){t=e.defineProperty,n=e.applyDecoratedDescriptor,i=e.inherits,o=e.createSuper,s=e.classCallCheck,a=e.initializerDefineProperty,l=e.assertThisInitialized,r=e.createClass},function(e){c=e.cclegacy,u=e._decorator,h=e.Prefab,d=e.Sprite,g=e.sp,p=e.Vec3,y=e.tween,f=e.instantiate,v=e.Label,m=e.Component},function(e){w=e.AudioKey},function(e){C=e.XEvent,L=e.XEvent4,S=e.XEvent3},function(e){P=e.AudioManager},function(e){b=e.Utils}],execute:function(){var F,k,I,B,M,N,A,_,E,U;c._RF.push({},"fef091WUjpAOo0TLEXKTvm9","FreeGameUI",void 0);var x=u.ccclass,O=u.property;e("FreeGameUI",(F=x("FreeGameUI"),k=O({type:h,tooltip:"移動分數"}),I=O({type:h,tooltip:"倍數閃光特效"}),B=O({type:h,tooltip:"倍數飛行特效"}),F((U=function(e){i(c,e);var n=o(c);function c(){var e;s(this,c);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=n.call.apply(n,[this].concat(o)),a(l(e),"moveScore",A,l(e)),a(l(e),"multiplyLight",_,l(e)),a(l(e),"multiplyFly",E,l(e)),t(l(e),"progressList",[]),t(l(e),"levelList",[]),e}return r(c,[{key:"onLoad",value:function(){c.show.on(this.show,this),c.hide.on(this.hide,this),c.showMoveScore.on(this.showMoveScore,this),c.addProgress.on(this.addProgress,this),this.node.active=!1;for(var e=0;e<8;e++){var t=this.node.getChildByName("FgProgress_".concat(e));this.progressList.push(t)}for(var n=0;n<2;n++){var i=this.node.getChildByPath("Level/Level_".concat(n));this.levelList.push(i)}}},{key:"show",value:function(){this.progressList.forEach((function(e){e.getChildByName("image").getComponent(d).grayscale=!0,e.getChildByName("ani_multiply").getComponent(g.Skeleton).node.active=!1})),this.levelList.forEach((function(e){e.getChildByName("image").getComponent(d).grayscale=!0,e.getChildByName("ani_multiply").getComponent(g.Skeleton).node.active=!1})),this.node.active=!0,this.node.scale=new p(.6,.6,1),y(this.node).to(.2,{scale:new p(1.02,1.02,1)},{easing:"sineOut"}).to(.2,{scale:new p(1,1,1)},{easing:"sineIn"}).start(),b.fadeIn(this.node,.2,0,255)}},{key:"hide",value:function(){var e=this;b.fadeOut(this.node,.2,255,0,(function(){e.node.active=!1}))}},{key:"showMoveScore",value:function(e,t,n,i){var o=this;P.getInstance().playSound(w.wildFishMove);var s=f(this.moveScore);s.setParent(this.node),s.setPosition(t),s.getChildByPath("numLayout/currency").getComponent(v).string=b.getCurrencySymbol(),s.getChildByPath("numLayout/Label").getComponent(v).string=b.numberFormat(e),y(s).to(i,{position:n},{easing:"sineIn"}).call((function(){o.creatLight(new p(n.x,n.y-57,0),"hitbubble"),s.destroy()})).start()}},{key:"addProgress",value:function(e,t,n){var i=this;if(!(e>=this.progressList.length)){var o=this.progressList[e],s=o.position;this.creatLight(t,"light");var a=b.calculateAngle(t,s),l=f(this.multiplyFly);l.setParent(this.node),l.setPosition(t),l.angle=a,l.getComponent(g.Skeleton).setAnimation(0,"fly",!0),y(l).to(.4,{position:s},{easing:"sineOut"}).call((function(){P.getInstance().playSound(w.wildCount),l.destroy(),i.showNodeFx(o,(function(){n()})),3===e?(i.showNodeFx(i.levelList[0]),P.getInstance().playSound(w.wildMultWin)):7===e&&(i.showNodeFx(i.levelList[1]),P.getInstance().playSound(w.wildMultWin))})).start()}}},{key:"showNodeFx",value:function(e,t){var n=e.getChildByName("ani_multiply").getComponent(g.Skeleton);n.node.active=!0,n.setAnimation(0,"light",!1),n.setCompleteListener((function(){n.setCompleteListener(null),n.node.active=!1})),e.getChildByName("image").getComponent(d).grayscale=!1,y(e).to(.2,{scale:new p(1.3,1.3,1)},{easing:"sineOut"}).to(.2,{scale:new p(1,1,1)}).call((function(){null==t||t()})).start()}},{key:"creatLight",value:function(e,t){var n=f(this.multiplyLight);n.setParent(this.node),n.setPosition(e),n.getComponent(g.Skeleton).setAnimation(0,t,!1),b.delay(.4).then((function(){b.fadeOut(n,.2,255,0,(function(){n.destroy()}))}))}},{key:"onDestroy",value:function(){c.show.off(this),c.hide.off(this),c.showMoveScore.off(this),c.addProgress.off(this)}}]),c}(m),t(U,"show",new C),t(U,"hide",new C),t(U,"showMoveScore",new L),t(U,"addProgress",new S),A=n((N=U).prototype,"moveScore",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(N.prototype,"multiplyLight",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(N.prototype,"multiplyFly",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=N))||M));c._RF.pop()}}}));

System.register("chunks:///_virtual/GameConst.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseConst.ts","./BaseType.ts"],(function(e){var i,t,n,T,s,o,m,p;return{setters:[function(e){i=e.inherits,t=e.createSuper,n=e.classCallCheck,T=e.createClass,s=e.defineProperty},function(e){o=e.cclegacy},function(e){m=e.BaseConst},function(e){p=e.TurboMode}],execute:function(){var a,r;o._RF.push({},"d59daEBmS1JZ6frs+x4ENMO","GameConst",void 0);var F=e("GameConst",function(e){i(o,e);var s=t(o);function o(){return n(this,o),s.apply(this,arguments)}return T(o)}(m));s(F,"SCATTER_WIN_COUNT",3),s(F,"payLineData",[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[1,0,0,0,1],[1,2,2,2,1],[2,1,0,1,2],[0,1,2,1,0],[2,2,1,0,0],[0,0,1,2,2],[2,1,1,1,0]]),s(F,"REEL_COL",5),s(F,"REEL_ROW",3),s(F,"SCATTER_MAPPING",{3:10,4:15,5:20}),s(F,"BS_INIT_RESULT",[[15,16,17],[1,6,2],[8,0,7],[3,5,4],[18,19,20]]),s(F,"SLOT_TIME",(s(r={},p.Normal,{spinIntervalTime:.04,stopIntervalTime:.2,beginTime:.5,loopTime:.25,stopTime:.5,skipStopTime:.3,spinTime:1,mipieTime:2,showWinTime:2,waitNextSpinTime:.1}),s(r,p.Fast,{spinIntervalTime:0,stopIntervalTime:.1,beginTime:.4,loopTime:.2,stopTime:.4,skipStopTime:.3,spinTime:.7,mipieTime:2,showWinTime:2,waitNextSpinTime:.1}),s(r,p.Turbo,{spinIntervalTime:0,stopIntervalTime:0,beginTime:.3,loopTime:.15,stopTime:.3,skipStopTime:.3,spinTime:.4,mipieTime:2,showWinTime:2,waitNextSpinTime:.1}),r)),m.SLOT_TIME=F.SLOT_TIME;var l=e("SymbolID",function(e){return e[e.Wild=0]="Wild",e[e.H1=1]="H1",e[e.H2=2]="H2",e[e.H3=3]="H3",e[e.H4=4]="H4",e[e.F1=5]="F1",e[e.F2=6]="F2",e[e.F3=7]="F3",e[e.F4=8]="F4",e[e.F5=9]="F5",e[e.F6=10]="F6",e[e.F7=11]="F7",e[e.F8=12]="F8",e[e.LA=15]="LA",e[e.LK=16]="LK",e[e.LQ=17]="LQ",e[e.LJ=18]="LJ",e[e.LT=19]="LT",e[e.Scatter=20]="Scatter",e}({}));e("FISH_ODDS",(s(a={},l.F1,2),s(a,l.F2,5),s(a,l.F3,10),s(a,l.F4,15),s(a,l.F5,20),s(a,l.F6,25),s(a,l.F7,50),s(a,l.F8,2e3),a));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameInformationUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./BaseEvent.ts","./XEvent.ts","./Utils.ts","./SlotData.ts"],(function(e){var t,n,o,i,a,s,r,l,c,h,u,d,f,y,v,p,m,b,k,I;return{setters:[function(e){t=e.defineProperty,n=e.applyDecoratedDescriptor,o=e.inherits,i=e.createSuper,a=e.classCallCheck,s=e.assertThisInitialized,r=e.initializerDefineProperty,l=e.createClass},function(e){c=e.cclegacy,h=e._decorator,u=e.Node,d=e.Label,f=e.Vec3,y=e.Button,v=e.Component},function(e){p=e.DataManager},function(e){m=e.BaseEvent},function(e){b=e.XEvent},function(e){k=e.Utils},function(e){I=e.SlotData}],execute:function(){var g,C,w,B,S,D,L,E;c._RF.push({},"e07b90f849AG5eDuWehXd+S","GameInformationUI",void 0);var M=h.ccclass,O=h.property;e("GameInformationUI",(g=M("GameInformationUI"),C=O([u]),w=O(d),g((E=function(e){o(c,e);var n=i(c);function c(){var e;a(this,c);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return e=n.call.apply(n,[this].concat(i)),t(s(e),"backMask",null),t(s(e),"closeBtn",null),t(s(e),"content",null),r(s(e),"symbolOdds",D,s(e)),r(s(e),"verLabel",L,s(e)),e}return l(c,[{key:"onLoad",value:function(){m.showGameInformation.on(this.show,this),this.setupNode(),this.node.active=!1,this.verLabel.string="Ver:0.9.1"}},{key:"setupNode",value:function(){this.backMask=this.node.getChildByName("BackMask"),this.closeBtn=this.node.getChildByPath("ScrollView/CloseBtn"),this.content=this.node.getChildByPath("ScrollView/view/content")}},{key:"show",value:function(){this.updateSymbolOdds(),p.getInstance().lockKeyboard=!0,k.fadeIn(this.node,.15,0,255),k.tweenScaleTo(this.node,.15,.8,1),this.content.setPosition(new f(0,0,0)),this.node.active=!0,this.backMask.once(y.EventType.CLICK,this.hide,this),this.closeBtn.once(y.EventType.CLICK,this.hide,this)}},{key:"updateSymbolOdds",value:function(){for(var e=this,t=function(){var t=parseInt(e.symbolOdds[n].name.split("_")[1]),o=I.getPayBySymbolID(t),i="";o.forEach((function(e){i+=e.count+" "+e.cent+"\n"})),e.symbolOdds[n].getChildByPath("Score").getComponent(d).string=i},n=0;n<this.symbolOdds.length;n++)t()}},{key:"hide",value:function(){var e=this;p.getInstance().lockKeyboard=!1,k.tweenScaleTo(this.node,.1,1,.9),k.fadeOut(this.node,.1,255,0,(function(){e.node.active=!1})),this.backMask.off(y.EventType.CLICK,this.hide,this),this.closeBtn.off(y.EventType.CLICK,this.hide,this)}},{key:"onDestroy",value:function(){m.showGameInformation.off(this)}}]),c}(v),t(E,"show",new b),D=n((S=E).prototype,"symbolOdds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=n(S.prototype,"verLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=S))||B));c._RF.pop()}}}));

System.register("chunks:///_virtual/GameMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FeatureBuyBtn.ts","./FeatureBuyPage.ts","./AudioKey.ts","./GameConst.ts","./MessageHandler.ts","./IdleTask.ts","./SettingsController.ts","./SlotMachine.ts","./DataManager.ts","./BaseEvent.ts","./XEvent.ts","./AudioManager.ts","./KeyboardManager.ts","./TaskManager.ts","./ScreenAdapter.ts","./Utils.ts","./InGameMenuPanel.ts","./CharacterUI.ts"],(function(e){var t,n,a,i,r,s,o,c,u,l,d,p,f,g,m,y,_,h,I,b,v,k,M,B,w,S,C,F,G,T,A,D,z,P;return{setters:[function(e){t=e.defineProperty,n=e.applyDecoratedDescriptor,a=e.inherits,i=e.createSuper,r=e.classCallCheck,s=e.initializerDefineProperty,o=e.assertThisInitialized,c=e.createClass,u=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){d=e.cclegacy,p=e._decorator,f=e.Node,g=e.Component,m=e.UIOpacity},function(e){y=e.FeatureBuyBtn},function(e){_=e.FeatureBuyPage},function(e){h=e.AudioKey},function(e){I=e.GameConst},function(e){b=e.MessageHandler},function(e){v=e.IdleTask},function(e){k=e.SettingsController},function(e){M=e.SlotMachine,B=e.slotAudioKey},function(e){w=e.DataManager},function(e){S=e.BaseEvent},function(e){C=e.XEvent},function(e){F=e.AudioManager},function(e){G=e.KeyboardManager},function(e){T=e.TaskManager},function(e){A=e.ScreenAdapter},function(e){D=e.Utils},function(e){z=e.InGameMenuPanel},function(e){P=e.CharacterUI}],execute:function(){var E,R,x,U,K,O,H,L;d._RF.push({},"65771qhfodJwIw2iAmDE9d9","GameMain",void 0);var V=p.ccclass,N=p.property;e("GameMain",(E=V("GameMain"),R=N({type:f,tooltip:"初始遮黑"}),x=N({tooltip:"是否為假老虎機"}),E((t(L=function(e){a(d,e);var t,n=i(d);function d(){var e;r(this,d);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),s(o(e),"topBlack",O,o(e)),s(o(e),"isFake",H,o(e)),e}return c(d,[{key:"onLoad",value:(t=u(l().mark((function e(){var t,n,a=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getInstance().loadBundleAudios();case 2:B.reelStop=h.reelStop,this.topBlack.active=!0,this.topBlack.getComponent(m).opacity=255,!1===this.isFake?this.initGame():(t={name:"",account:"token5800",agent_account:"CS8901",credit:5e8,currency:"IDR",free_spin_data:[{free_spin_id:"",bet:0,end_date:"",rounds_left:0}],is_anchor:!1,simulator_data:{}},w.getInstance().userData=t,n={game_id:5800,line_bet:[10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10],coin_value:[.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.12,.13,.14,.15,.16,.17,.18,.19,.2,.22,.24,.26,.28,.3,.32,.34],bet_available_idx:0,line_total:30,line_available:[30],line_bet_default_index:0,coin_value_default_index:0,win:1,big_win:20,super_win:50,mega_win:100,spin_mode:1,buy_spin:{allow_buy:1,multiplier:50,limit_total:6e6}},w.getInstance().gameData=n,this.scheduleOnce((function(){a.initGame()}),0)),y.click.on(this.clickFeatureBuyBtn,this),M.startMi.on((function(e){F.getInstance().playSound(h.teasing),F.getInstance().editMusicVolume(.1),P.win.emit()}),this),M.stopMi.on((function(){F.getInstance().stopSound(h.teasing),F.getInstance().editMusicVolume(1)}),this);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"initGame",value:function(){var e=this;A.handleResize(),D.fadeOut(this.topBlack,.3,255,0,(function(){e.topBlack.active=!1})),M.initResultParser.emit(I.BS_INIT_RESULT),k.refreshCredit.emit(w.getInstance().userCredit),k.refreshBet.emit(w.getInstance().bet.getBetTotal()),k.refreshWin.emit(0,0);var t=1===w.getInstance().gameData.buy_spin.allow_buy;S.buyFeatureVisible.emit(t);var n=-1!==w.getInstance().bet.getBuyFeatureTotal();S.buyFeatureEnabled.emit(n),G.getInstance().initialize(),k.getInstance().initialize(),b.getInstance().initialize(),z.initialize.emit(),T.getInstance().addTask(new v),F.getInstance().playMusic(h.bgmMg)}},{key:"clickFeatureBuyBtn",value:function(){_.show.emit()}},{key:"update",value:function(e){T.getInstance().update(e)}}]),d}(g),"shake",new C),t(L,"fsOpening",new C),O=n((K=L).prototype,"topBlack",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(K.prototype,"isFake",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=K))||U));d._RF.pop()}}}));

System.register("chunks:///_virtual/GameTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TaskManager.ts"],(function(e){var t,n,s,a,i;return{setters:[function(e){t=e.createClass,n=e.classCallCheck,s=e.defineProperty},function(e){a=e.cclegacy},function(e){i=e.TaskManager}],execute:function(){a._RF.push({},"98bb3kyx+FG8aHlHMVH7QUt","GameTask",void 0);e("GameTask",function(){function e(){n(this,e),s(this,"name",void 0),s(this,"executed",!1)}return t(e,[{key:"getName",value:function(){return this.name}},{key:"baseExecute",value:function(){this.executed=!0,this.execute()}},{key:"finish",value:function(){i.getInstance().finishEvent.emit(this)}}]),e}());a._RF.pop()}}}));

System.register("chunks:///_virtual/i18n.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,a,t,i,l,r,u,o,s,g,c,p,f,d,y,h,v;return{setters:[function(e){n=e.applyDecoratedDescriptor,a=e.defineProperty,t=e.createClass,i=e.classCallCheck,l=e.initializerDefineProperty,r=e.inherits,u=e.createSuper,o=e.assertThisInitialized,s=e.createForOfIteratorHelper,g=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){p=e.cclegacy,f=e._decorator,d=e.JsonAsset,y=e.Enum,h=e.director,v=e.Component}],execute:function(){var b,k,L,m,D,j,C,w,z,x,F,T,I,N,P,R,_;p._RF.push({},"a764214k0RPM6zuB7j1jDiH","i18n",void 0);var M=function(e){return e.en="en",e.zh_cn="zh-cn",e.id="id",e.ko="ko",e.vi="vi",e.th="th",e.ms="ms",e.ph="ph",e.jp="jp",e}(M||{}),H=f.ccclass,J=f.property,O=f.disallowMultiple,A=f.executeInEditMode,B=e("i18nLanguageData",(b=H("i18nLanguageData"),k=J({displayName:"ID"}),L=J({type:d,displayName:"JsonFile"}),b((j=n((D=t((function e(){i(this,e),l(this,"id",j,this),l(this,"jsonFile",C,this)}))).prototype,"id",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=n(D.prototype,"jsonFile",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=D))||m));e("i18n",(w=H("i18n"),z=O(!0),x=A(!0),F=J({type:[B],displayName:"JsonDataList",group:{name:"setting",id:"0"}}),T=J({type:y(M),displayName:"預覽語言",group:{name:"develop",id:"1"}}),w(I=z(I=x((_=function(e){r(f,e);var n,p=u(f);function f(){var e;i(this,f);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return e=p.call.apply(p,[this].concat(t)),l(o(e),"languageData",P,o(e)),l(o(e),"previewLanguage",R,o(e)),a(o(e),"isLoadDone",!1),e}return t(f,[{key:"onLoad",value:function(){f.instance&&f.instance!==this?this.node.destroy():(f.instance=this,h.addPersistRootNode(this.node),this.loadLanguage())}},{key:"loadLanguage",value:(n=g(c().mark((function e(){var n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.language={},e.t0=c().keys(this.languageData);case 2:if((e.t1=e.t0()).done){e.next=13;break}if(n=e.t1.value,0!==(a=this.languageData[n]).id.length){e.next=7;break}return e.abrupt("continue",2);case 7:if(null==f.language[a.id]){e.next=9;break}return e.abrupt("continue",2);case 9:return this.parseLanguage(a.id,a.jsonFile),e.abrupt("continue",2);case 13:this.isLoadDone=!0,f.refreshLanguageContent();case 15:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"parseLanguage",value:function(e,n){if(null==f.language[e]&&(f.language[e]={}),null!=n&&null!=n.json){var a=Object.keys(n.json);for(var t in a){var i=a[t],l=Object.keys(n.json[i]);for(var r in null==f.language[e][i]&&(f.language[e][i]={}),l){var u=l[r],o=parseInt(l[r]);f.language[e][i][o]=n.json[i][u]}}}}}],[{key:"getLanguage",value:function(){return f.languageType}},{key:"setLanguage",value:function(e){f.languageType=e}},{key:"getContent",value:function(e,n){var a,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||0==e.length)return null;if(!0!==(null===(a=f.instance)||void 0===a?void 0:a.isLoadDone))return null==t||f.labelContents.push(t),null;if(0===n)return null;if(null==f.language)return null;if(null==f.language[e])return null;var i=f.languageType;return null==f.language[e][i]&&(i=M.en),null==f.language[e][i][n]?(console.warn("i18n Can not find language --\x3e key : ".concat(e," , id : ").concat(n," , lang : ").concat(i)),null):f.language[e][i][n]}},{key:"refreshLanguageContent",value:function(){if(0!=f.labelContents.length){var e,n=s(f.labelContents);try{for(n.s();!(e=n.n()).done;){e.value.displayContent()}}catch(e){n.e(e)}finally{n.f()}f.labelContents=[]}}},{key:"init",value:function(e){f.languageType=e}}]),f}(v),a(_,"instance",void 0),a(_,"language",void 0),a(_,"languageType","en"),a(_,"labelContents",[]),P=n((N=_).prototype,"languageData",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=n(N.prototype,"previewLanguage",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.en}}),I=N))||I)||I)||I));p._RF.pop()}}}));

System.register("chunks:///_virtual/IdleTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Notice.ts","./SettingsController.ts","./DataManager.ts","./BaseEvent.ts","./GameTask.ts","./TaskManager.ts","./BaseType.ts","./SpinTask.ts"],(function(e){var t,n,i,a,s,o,u,c,r,l,f,g,h,p,d;return{setters:[function(e){t=e.inherits,n=e.createSuper,i=e.classCallCheck,a=e.defineProperty,s=e.assertThisInitialized,o=e.createClass},function(e){u=e.cclegacy},function(e){c=e.Notice},function(e){r=e.SettingsController},function(e){l=e.DataManager},function(e){f=e.BaseEvent},function(e){g=e.GameTask},function(e){h=e.TaskManager},function(e){p=e.ModuleID},function(e){d=e.SpinTask}],execute:function(){u._RF.push({},"c52b1srxxhG4o7qbyUhjMQp","IdleTask",void 0);e("IdleTask",function(e){t(g,e);var u=n(g);function g(){var e;i(this,g);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=u.call.apply(u,[this].concat(n)),a(s(e),"name","IdleTask"),e}return o(g,[{key:"execute",value:function(){l.getInstance().curModuleID=p.BS,l.getInstance().isAutoMode?(l.getInstance().isAutoTimes&&l.getInstance().autoSpinCount>0&&(l.getInstance().autoSpinCount-=1,r.updateAutoSpinCount.emit()),this.onSpin(!1)):this.idleState()}},{key:"idleState",value:function(){f.resetSpin.emit(),f.buyFeatureEnabled.emit(!0),r.refreshBet.emit(l.getInstance().bet.getBetTotal()),f.clickSpin.on(this.onSpin,this),f.buyFeature.on((function(){r.clickSpin.emit(!0)}),this)}},{key:"onSpin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?l.getInstance().bet.getBuyFeatureTotal():l.getInstance().bet.getBetTotal();if(r.refreshWin.emit(0,0),l.getInstance().userCredit<t)r.refreshCredit.emit(l.getInstance().userCredit),c.showNoBalance.emit(),this.idleState();else{f.clickSpin.off(this),f.buyFeature.off(this);var n=new d;n.isBuyFs=e,n.betCredit=t,h.getInstance().addTask(n),this.finish()}}},{key:"update",value:function(e){}}]),g}(g));u._RF.pop()}}}));

System.register("chunks:///_virtual/InGameInformation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,i,o,e,a;return{setters:[function(n){t=n.defineProperty,i=n.createClass,o=n.classCallCheck},function(n){e=n.cclegacy,a=n._decorator}],execute:function(){var r,s;e._RF.push({},"cb379PXqB5AWL49zc+wdQYx","InGameInformation",void 0);var c=a.ccclass;a.property,n("InGameInformation",c("InGameInformation")((s=function(){function n(){o(this,n),t(this,"inGameMenuConfig",{imageURL:"",isAvailable:!1,hot:[],new:[],gameList:[],favList:[]}),t(this,"inGameListStore",{}),t(this,"promotionInformation",[]),t(this,"jackpotInformation",[]),t(this,"jackpotTierData",{mini:0,minor:0,major:0,grand:0,content:""}),t(this,"userAccount",void 0),t(this,"jackpot_notifications",{notification:!0,settings:{myGrand:!0,myMajor:!0,myMinor:!1,myMini:!1,otherGrand:!0,otherMajor:!0,otherMinor:!1,otherMini:!1}})}return i(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}(),t(s,"_instance",void 0),r=s))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/InGameMenuContent.ts",["cc"],(function(){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"1bfd770fHdNub21SJfZyHtQ","InGameMenuContent",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/InGameMenuController.ts",["cc"],(function(){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"99979XRjNlEorTfqfjLuF36","InGameMenuController",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/InGameMenuDisplayLanguage.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,a,t,i,o;return{setters:[function(n){e=n.defineProperty,a=n.createClass,t=n.classCallCheck},function(n){i=n.cclegacy,o=n._decorator}],execute:function(){var r,c;i._RF.push({},"c221cAv1XpDl6DS2JGNOo3d","InGameMenuDisplayLanguage",void 0);var u=o.ccclass;o.property,n("InGameMenuDisplayLanguage",u("InGameMenuDisplayLanguage")((c=function(){function n(){t(this,n),e(this,"totalBetMessage",void 0),e(this,"promotionNotification",void 0),e(this,"jackpotNotification",void 0),e(this,"myJackpotNotification",void 0)}return a(n,[{key:"setDisplayLanguage",value:function(n){var e={en:"Qualifying promo bet amount must be higher than ${minBet}","zh-cn":"合格的促销投注金额必须高于 ${minBet}",ko:"적격 프로모션 베팅 금액은 ${minBet} 보다 높아야 합니다",id:"Jumlah taruhan promo yang memenuhi syarat harus lebih tinggi dari ${minBet}",vi:"Số tiền đặt cược khuyến mãi đủ điều kiện phải cao hơn ${minBet}",th:"จำนวนเงินเดิมพันโปรโมชั่นที่มีคุณสมบัติจะต้องสูงกว่า ${minBet}",ms:"Amaun pertaruhan promosi yang layak mestilah lebih tinggi daripada ${minBet}",ph:"Ang halaga ng qualifying promo bet ay dapat na mas mataas sa ${minBet}"},a=e[n]?n:"en";this.totalBetMessage=e[a],this.promotionNotification={en:"Congratulation, You Won ${currency} ${prize}","zh-cn":"恭喜，您赢得了 ${currency} ${prize}",ko:"축하합니다. ${currency} ${prize}에 당첨되셨습니다",id:"Selamat, Anda Memenangkan ${currency} ${prize}",vi:"Xin chúc mừng, bạn đã giành được ${currency} ${prize}",th:"ยินดีด้วย คุณได้รับ ${currency} ${prize}",ms:"Tahniah, Anda Memenangi ${currency} ${prize}",ph:"Binabati kita, Nanalo ka ng ${currency} ${prize}"}[a],this.jackpotNotification={en:"${playerName} Won ${currency}${wonAmount}!!","zh-cn":"${playerName}赢了${currency}${wonAmount}!!",ko:"${playerName} 승리 ${currency}${wonAmount}!!",id:"${playerName} Memenangkan ${currency}${wonAmount}!!",vi:"${playerName} Đã thắng ${currency}${wonAmount}!!",th:"${playerName} ชนะ ${currency}${wonAmount}!!",ms:"${playerName} Menang ${currency}${wonAmount}!!",ph:"${playerName} Nanalo ng ${currency}${wonAmount}!!"}[a],this.myJackpotNotification={en:"You Won ${currency}${wonAmount}!!","zh-cn":"您赢得了 ${currency}${wonAmount}!!",ko:"${currency}${wonAmount}을 획득하셨습니다!!",id:"Anda Memenangkan ${currency}${wonAmount}!!",vi:"Bạn đã giành được ${currency}${wonAmount}!!",th:"คุณได้รับ ${currency}${wonAmount}!!",ms:"Anda Memenangi ${currency}${wonAmount}!!",ph:"Nanalo ka ng ${currency}${wonAmount}!!"}[a]}},{key:"getTotalBetMessage",value:function(n){return this.totalBetMessage.replace(/\${minBet}/g,n)}},{key:"getPromotionNotification",value:function(n,e){return this.promotionNotification.replace(/\${currency}/g,n).replace(/\${prize}/g,e)}},{key:"getJackpotNotification",value:function(n,e,a,t){return t?this.myJackpotNotification.replace(/\${currency}/g,e).replace(/\${wonAmount}/g,a):this.jackpotNotification.replace(/\${playerName}/g,n).replace(/\${currency}/g,e).replace(/\${wonAmount}/g,a)}}],[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}(),e(c,"_instance",void 0),r=c))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/InGameMenuPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./AudioManager.ts","./AudioKey.ts","./InGameInformation.ts","./NetworkManager.ts","./XEvent.ts"],(function(t){var n,e,o,i,a,r,s,c,m,u,p,l,h,d,f,y,_,g,v,I,k,P,C,b,S,w,B;return{setters:[function(t){n=t.defineProperty,e=t.applyDecoratedDescriptor,o=t.inherits,i=t.createSuper,a=t.classCallCheck,r=t.initializerDefineProperty,s=t.assertThisInitialized,c=t.createClass,m=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){p=t.cclegacy,l=t._decorator,h=t.SpriteFrame,d=t.Button,f=t.UITransform,y=t.Vec3,_=t.tween,g=t.easing,v=t.sp,I=t.Sprite,k=t.Component},function(t){P=t.addBtnClickEvent},function(t){C=t.AudioManager},function(t){b=t.AudioKey},function(t){S=t.InGameInformation},function(t){w=t.NetworkManager},function(t){B=t.XEvent}],execute:function(){var G,M,D,F,U,A,E,T,z,L,N,x;p._RF.push({},"5447cQEDs9Bfq8bmeeDi/Rx","InGameMenuPanel",void 0);var J=l.ccclass,O=l.property;t("InGameMenuPanel",(G=J("InGameMenuPanel"),M=O({type:h}),D=O({type:h}),F=O({type:h}),U=O({type:h}),G((x=function(t){o(k,t);var e,p,l,h=i(k);function k(){var t;a(this,k);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return t=h.call.apply(h,[this].concat(o)),r(s(t),"cashDropSF",T,s(t)),r(s(t),"cashDropFinishSF",z,s(t)),r(s(t),"tournamentSF",L,s(t)),r(s(t),"tournamentFinishSF",N,s(t)),n(s(t),"promotionUI",null),n(s(t),"redDot",null),n(s(t),"arrowLBtn",null),n(s(t),"on",null),n(s(t),"off",null),n(s(t),"inGameMenuStatus",!1),n(s(t),"btnJackpot",null),n(s(t),"btnPromotion",null),n(s(t),"isOpen",!1),n(s(t),"promotionReciprocalTime",[]),t}return c(k,[{key:"onLoad",value:function(){this.promotionUI=this.node.getChildByPath("PromotionUI"),this.btnJackpot=this.node.getChildByPath("PromotionUI/BtnJackpot").getComponent(d),this.btnPromotion=this.node.getChildByPath("PromotionUI/BtnPromotion").getComponent(d),this.redDot=this.node.getChildByPath("PromotionUI/ArrowBtn/RedDot"),this.arrowLBtn=this.node.getChildByPath("PromotionUI/ArrowBtn"),this.on=this.node.getChildByPath("PromotionUI/ArrowBtn/On"),this.off=this.node.getChildByPath("PromotionUI/ArrowBtn/Off"),this.setupEvent()}},{key:"setupEvent",value:function(){var t="InGameMenuPanel";P(this.node,t,this.arrowLBtn.getComponent(d),"onClickBtn"),P(this.node,t,this.btnPromotion.getComponent(d),"onClickPromotion"),P(this.node,t,this.btnJackpot.getComponent(d),"onClickJackpot"),k.onClickInGameMenu.on(this.onClickInGameMenu,this),k.initialize.on(this.initialize,this)}},{key:"onClickBtn",value:function(){C.getInstance().playSound(b.btnClick),this.isOpen=!this.isOpen,this.on.active=this.isOpen,this.off.active=!this.isOpen,this.redDot.active&&(this.redDot.active=!1);var t=this.promotionUI.getComponent(f).width,n=this.isOpen?new y(-t,0,0):new y(-60,0,0);_(this.promotionUI).to(.3,{position:n},{easing:g.sineOut}).start()}},{key:"onClickPromotion",value:function(){"undefined"!=typeof __GAME_PLUGIN__&&null!=__GAME_PLUGIN__&&(__GAME_PLUGIN__.dispatch({type:"setting/setPromotionTableDialogShow",payload:!0}),C.getInstance().playSound(b.btnClick))}},{key:"onClickJackpot",value:function(){C.getInstance().playSound(b.btnClick)}},{key:"onClickInGameMenu",value:function(){var t;"undefined"!=typeof __GAME_PLUGIN__&&null!=__GAME_PLUGIN__&&(__GAME_PLUGIN__.dispatch({type:"setting/setGameListDialogShow",payload:!0}),null!=(null===(t=document.getElementsByClassName("igm_close"))||void 0===t?void 0:t[0])&&C.getInstance().playSound(b.btnClick))}},{key:"initialize",value:(l=m(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setPromotionBriefData();case 2:return t.next=4,this.setInGameMenuStatus();case 4:this.createIcon();case 5:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"setPromotionBriefData",value:(p=m(u().mark((function t(){var n,e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.getInstance().sendPromotionBrief();case 2:for(n=t.sent,e=0;e<n.length;e++)2===n[e].promotion_type?S.instance.jackpotInformation.push({promotion_id:n[e].promotion_id,end_date:n[e].end_date,promotion_name:n[e].promotion_name,time_zone:n[e].time_zone,min_bet:n[e].min_bet,currency:n[e].currency}):S.instance.promotionInformation.push({promotion_id:n[e].promotion_id,begin_date:n[e].begin_date,end_date:n[e].end_date,promotion_name:n[e].promotion_name,time_zone:n[e].time_zone,min_bet:n[e].min_bet,budget:n[e].budget,currency:n[e].currency,promotion_type:n[e].promotion_type});case 4:case"end":return t.stop()}}),t)}))),function(){return p.apply(this,arguments)})},{key:"setInGameMenuStatus",value:(e=m(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.getInstance().sendInGameMenuStatus();case 2:this.inGameMenuStatus=t.sent;case 3:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"createIcon",value:function(){var t=S.instance.promotionInformation.length,n=S.instance.jackpotInformation.length;if(this.runPromotionTimeExpand(),this.btnPromotion.node.active=t>0,t>0){this.updatePromotion();var e=S.instance.promotionInformation[0].promotion_type,o=this.btnPromotion.node.getChildByName("CashDropSpine").getComponent(v.Skeleton),i=this.btnPromotion.node.getChildByName("TournamentSpine").getComponent(v.Skeleton);0===e?(o.node.active=!0,i.node.active=!1,o.setAnimation(0,"play",!0)):(o.node.active=!1,i.node.active=!0,i.setAnimation(0,"play",!0))}(this.btnJackpot.node.active=n>0,n>0)&&this.btnJackpot.node.getChildByName("JackpotSpine").getComponent(v.Skeleton).setAnimation(0,"play_0",!0);var a=t+n;this.promotionUI.active=a>0}},{key:"updatePromotion",value:function(){var t=this,n=0;setInterval((function(){var e=""===t.promotionReciprocalTime[n];t.btnPromotion.node.getChildByName("LabelTime").active=!e;var o=S.instance.promotionInformation[n].promotion_type,i=t.btnPromotion.node.getChildByName("Sprite").getComponent(I);i.spriteFrame=0===o?e?t.cashDropFinishSF[n]:t.cashDropSF[n]:e?t.tournamentFinishSF[n]:t.tournamentSF[n],++n>=S.instance.promotionInformation.length&&(n=0)}),5e3)}},{key:"runPromotionTimeExpand",value:function(){for(var t=this,n=S.instance.promotionInformation,e=0;e<n.length;e++){var o=new Date(n[e].end_date.replace(/-/g,"/")).getTime()-new Date((new Date).toLocaleString("sv-SE",{timeZone:n[e].time_zone}).replace(/-/g,"/")).getTime();if(o<0)this.promotionReciprocalTime[e]="";else{var i=Math.floor(o/1e3),a=Math.floor(i/86400),r=Math.floor(i%86400/3600),s=Math.floor(i%3600/60);this.promotionReciprocalTime[e]=0===a?"".concat(r,"h ").concat(s,"m "):"".concat(a,"d ").concat(r,"h ")}}setTimeout((function(){t.runPromotionTimeExpand()}),6e4)}}]),k}(k),n(x,"initialize",new B),n(x,"onClickInGameMenu",new B),T=e((E=x).prototype,"cashDropSF",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(E.prototype,"cashDropFinishSF",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(E.prototype,"tournamentSF",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=e(E.prototype,"tournamentFinishSF",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=E))||A));p._RF.pop()}}}));

System.register("chunks:///_virtual/KeyboardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./BaseEvent.ts"],(function(e){var n,t,a,i,o,c,s,r;return{setters:[function(e){n=e.createClass,t=e.defineProperty,a=e.classCallCheck},function(e){i=e.cclegacy,o=e.input,c=e.Input},function(e){s=e.DataManager},function(e){r=e.BaseEvent}],execute:function(){i._RF.push({},"6461cebEqhB+YkxTO3E1GLD","KeyboardManager",void 0);var u=e("KeyboardManager",function(){function e(){a(this,e)}return n(e,[{key:"initialize",value:function(){o.on(c.EventType.KEY_DOWN,this.onKeyDown,this)}},{key:"onKeyDown",value:function(e){s.getInstance().lockKeyboard||s.getInstance().isAutoMode||!s.getInstance().isBS()||r.keyDown.emit(e.keyCode)}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}());t(u,"instance",void 0),i._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18n.ts"],(function(e){var t,a,n,i,r,l,s,u,g,o,c,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inherits,n=e.createSuper,i=e.classCallCheck,r=e.initializerDefineProperty,l=e.assertThisInitialized,s=e.createClass},function(e){u=e.cclegacy,g=e._decorator,o=e.CCInteger,c=e.Label},function(e){y=e.i18n}],execute:function(){var p,f,h,d,b,L,v,C,K;u._RF.push({},"9d6cfJOuElJgqF8YN+ulfsW","LanguageLabel",void 0);var D=g.ccclass,I=g.property,k=g.executeInEditMode;e("LanguageLabel",(p=D("LanguageLabel"),f=k(!0),h=I({displayName:"LanguageKey"}),d=I({displayName:"LanguageID",type:o}),b=I({displayName:"刷新語系文字"}),p(L=f((C=t((v=function(e){a(u,e);var t=n(u);function u(){var e;i(this,u);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),r(l(e),"languageKey",C,l(e)),r(l(e),"languageID",K,l(e)),e}return s(u,[{key:"getMessage",get:function(){return!1},set:function(e){this.displayContent()}},{key:"start",value:function(){this.node.setKey=this.setKey,this.displayContent()}},{key:"setKey",set:function(e){this.languageKey=e,this.displayContent()}},{key:"displayContent",value:function(){if(null!=this.languageKey&&0!=this.languageKey.length){var e=y.getContent(this.languageKey,this.languageID,this);null!=e&&0!=e.length&&(this.string=e)}}}]),u}(c)).prototype,"languageKey",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),K=t(v.prototype,"languageID",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(v.prototype,"getMessage",[b],Object.getOwnPropertyDescriptor(v.prototype,"getMessage"),v.prototype),L=v))||L)||L));u._RF.pop()}}}));

System.register("chunks:///_virtual/LayerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,a,n,t,i,o,c,l,s,u,y,p;return{setters:[function(e){r=e.defineProperty,a=e.applyDecoratedDescriptor,n=e.inherits,t=e.createSuper,i=e.classCallCheck,o=e.initializerDefineProperty,c=e.assertThisInitialized,l=e.createClass},function(e){s=e.cclegacy,u=e._decorator,y=e.Node,p=e.Component}],execute:function(){var d,f,v,h,g,L;s._RF.push({},"a034aV98GRKq6NNunoxp0pK","LayerManager",void 0);var m=u.ccclass,C=u.property;e("LayerManager",(d=m("LayerManager"),f=C({type:y}),d((r(L=function(e){n(a,e);var r=t(a);function a(){var e;i(this,a);for(var n=arguments.length,t=new Array(n),l=0;l<n;l++)t[l]=arguments[l];return e=r.call.apply(r,[this].concat(t)),o(c(e),"layers",g,c(e)),e}return l(a,[{key:"onLoad",value:function(){a.instance=this}},{key:"getLayer",value:function(e){return this.layers[e]}},{key:"addChildToLayer",value:function(e,r,a){this.layers[a].getChildByName("Reel"+e).addChild(r)}},{key:"removeChildFromLayer",value:function(e,r){e.removeFromParent()}}],[{key:"getInstance",value:function(){return a.instance||(a.instance=new a),a.instance}}]),a}(p),"instance",void 0),g=a((h=L).prototype,"layers",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=h))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Notice.ts","./BaseConfig.ts","./DataManager.ts","./NetworkManager.ts","./i18n.ts","./ScreenAdapter.ts","./Utils.ts"],(function(e){var n,t,r,a,o,s,i,c,u,l,p,f,g,h,d,m,y,v,k,w,S,C,P,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inherits,r=e.createSuper,a=e.classCallCheck,o=e.initializerDefineProperty,s=e.assertThisInitialized,i=e.defineProperty,c=e.createClass,u=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){p=e.cclegacy,f=e._decorator,g=e.ProgressBar,h=e.Label,d=e.sp,m=e.Component,y=e.director},function(e){v=e.Notice},function(e){k=e.BaseConfig},function(e){w=e.DataManager},function(e){S=e.NetworkManager},function(e){C=e.i18n},function(e){P=e.ScreenAdapter},function(e){b=e.Utils}],execute:function(){var x,I,B,D,L,G;p._RF.push({},"05086L7qlxL8pQnEoHa3B9+","Loading",void 0);var U=f.ccclass,M=f.property,A=f.disallowMultiple;e("Loading",(x=U("Loading"),I=A(!0),B=M({tooltip:"遊戲場景名稱"}),x(D=I((G=n((L=function(e){t(D,e);var n,p,f,m,x,I,B=r(D);function D(){var e;a(this,D);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return e=B.call.apply(B,[this].concat(t)),o(s(e),"GameScene",G,s(e)),i(s(e),"progressBar",null),i(s(e),"progressLabel",null),i(s(e),"logoSpine",null),e}return c(D,[{key:"onLoad",value:function(){P.setupResize(),this.initUI(),w.getInstance().urlParam.initUrlParameters(),C.init(w.getInstance().urlParam.lang)}},{key:"initUI",value:function(){this.progressBar=this.node.getChildByPath("ProgressBar").getComponent(g),this.progressLabel=this.node.getChildByPath("ProgressBar/Value").getComponent(h),this.logoSpine=this.node.getChildByPath("Logo").getComponent(d.Skeleton),this.logoSpine.setAnimation(0,"in",!1),this.logoSpine.addAnimation(0,"loop",!0)}},{key:"start",value:(I=u(l().mark((function e(){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.sendUserData().then(this.sendGameData).then(this.getCurrencyJson).then((function(){n.loadGameScene()})).catch((function(e){v.showError.emit(405)}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return I.apply(this,arguments)})},{key:"sendUserData",value:(x=u(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getInstance().sendUserData();case 2:case"end":return e.stop()}}),e)}))),function(){return x.apply(this,arguments)})},{key:"sendGameData",value:(m=u(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getInstance().sendGameData();case 2:case"end":return e.stop()}}),e)}))),function(){return m.apply(this,arguments)})},{key:"getRenewToken",value:(f=u(l().mark((function e(){var n,t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=w.getInstance().urlParam.token,!(null!=(t=sessionStorage.getItem(n))&&t.length>0)){e.next=5;break}return w.getInstance().urlParam.token=t,e.abrupt("return",t);case 5:return e.next=7,S.getInstance().sendRenewToken();case 7:return r=e.sent,w.getInstance().urlParam.token=r,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)})},{key:"loadGameScene",value:(p=u(l().mark((function e(){var n,t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,y.preloadScene(this.GameScene,(function(e,r,a){var o=e/r,s=Math.floor(100*o);o>n&&(n=o),t.progressBar.progress=n,t.progressLabel.string=s+"%"}),(function(){y.loadScene(t.GameScene,(function(e,n){}))}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"getCurrencyJson",value:(n=u(l().mark((function e(){var n,t,r,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,t=window.location.protocol,"localhost"!==(r=window.location.hostname)&&"127.0.0.1"!==r||(r="gc.ifun7.vip"),a="".concat(t,"//").concat(r,"/webAssets/game/common.json"),e.next=8,fetch(a).then((function(e){return e.json()}));case 8:n=e.sent,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(1),e.next=15,b.loadCurrency();case 15:n=e.sent;case 16:o=w.getInstance().currency,k.CurrencySymbol=n.CurrencySymbol[o],k.DecimalPlaces=parseInt(n.DecimalPlaces[o]);case 19:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(){return n.apply(this,arguments)})}]),D}(m)).prototype,"GameScene",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Game"}}),D=L))||D)||D));p._RF.pop()}}}));

System.register("chunks:///_virtual/Logger.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,t,o;return{setters:[function(e){n=e.createClass,r=e.defineProperty,t=e.classCallCheck},function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"11e91RTYepHPKmKbjeQeROu","Logger",void 0);var c=e("Logger",function(){function e(){t(this,e)}return n(e,null,[{key:"debugSwitch",get:function(){return this._debugSwitch},set:function(e){this._debugSwitch=e}},{key:"trace",value:function(){return(new Error).stack}},{key:"debug",value:function(e){if(this._debugSwitch){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];var o;if(r.length>0)(o=console).debug.apply(o,["[DEBUG] ".concat(e)].concat(r));else console.debug("[DEBUG] ".concat(e))}}},{key:"log",value:function(){for(var e,n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];(e=console).log.apply(e,["[LOG]"].concat(r))}},{key:"warn",value:function(){for(var e,n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];(e=console).warn.apply(e,["[WARN]"].concat(r))}},{key:"error",value:function(){for(var e,n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];(e=console).error.apply(e,["[ERROR]"].concat(r))}},{key:"getAt",value:function(){var e=(new Error).stack;return(null==e?void 0:e.split("\n")[2])||"unknown location"}}]),e}());r(c,"_debugSwitch",!1),o._RF.pop()}}}));

System.register("chunks:///_virtual/Logo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./BundleLoader.ts"],(function(e){var t,n,o,a,r,c,u,s,i,l;return{setters:[function(e){t=e.inherits,n=e.createSuper,o=e.classCallCheck,a=e.createClass},function(e){r=e.cclegacy,c=e._decorator,u=e.Sprite,s=e.Component},function(e){i=e.DataManager},function(e){l=e.BundleLoader}],execute:function(){var g;r._RF.push({},"3081d70s3tBz6gNITNXAzTd","Logo",void 0);var p=c.ccclass;c.property,e("Logo",p("Logo")(g=function(e){t(c,e);var r=n(c);function c(){return o(this,c),r.apply(this,arguments)}return a(c,[{key:"onLoad",value:function(){var e=this,t=i.getInstance().urlParam.lang;l.onLoaded("language","".concat(t,"/texture"),(function(t){e.node.getComponent(u).spriteFrame=t.logo}))}}]),c}(s))||g);r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./InGameInformation.ts","./InGameMenuDisplayLanguage.ts","./InGameMenuPanel.ts","./UIPromotionTips.ts","./InGameMenuContent.ts","./config.ts","./promotionalContent.ts","./AutoSpin.ts","./LanguageLabel.ts","./Notice.ts","./SettingsController.ts","./SuperSpin.ts","./BaseSymbol.ts","./BaseSymbolData.ts","./SlotMachine.ts","./SlotType.ts","./BaseConfig.ts","./BaseConst.ts","./BetData.ts","./DataManager.ts","./UrlParam.ts","./BaseEvent.ts","./XEvent.ts","./BundleLoader.ts","./Loading.ts","./AudioManager.ts","./KeyboardManager.ts","./OrientationManager.ts","./PromoManager.ts","./ErrorCodeConfig.ts","./FetchRequestUtils.ts","./NetworkApi.ts","./NetworkManager.ts","./DelayTask.ts","./GameTask.ts","./TaskManager.ts","./BaseType.ts","./InGameMenuController.ts","./Logger.ts","./ScreenAdapter.ts","./Utils.ts","./WorkOnBlurManager.ts","./WorkTimerManager.ts","./i18n.ts","./BackgroundUI.ts","./BigWinUI.ts","./AddSpinUI.ts","./BootCatchUI.ts","./CharacterUI.ts","./FeatureBuyBtn.ts","./FeatureBuyPage.ts","./FreeGameUI.ts","./GameInformationUI.ts","./Logo.ts","./PayTableUI.ts","./ReelBlackUI.ts","./SlowMotionUI.ts","./Symbol.ts","./SymbolData.ts","./TimeUI.ts","./TotalWinUI.ts","./TransUI.ts","./WinScoreUI.ts","./LayerManager.ts","./AudioKey.ts","./GameConst.ts","./SlotData.ts","./GameMain.ts","./MessageHandler.ts","./AutoSpinDelayTask.ts","./BackBSSettleTask.ts","./BootCatchTask.ts","./EndGameTask.ts","./IdleTask.ts","./SpinTask.ts","./StopTask.ts","./TotalWinTask.ts","./TransTask.ts","./UpdateFreeTimesTask.ts","./WinScatterTask.ts","./WinSymbolTask.ts","./main.ts","./spineRunInEditor.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/main.ts",["cc"],(function(){var e,t;return{setters:[function(a){e=a.cclegacy,t=a.sys}],execute:function(){e._RF.push({},"b45e93aYGlPZoWUdWlK+gRo","main",void 0);var a=navigator.userAgent,n=a.match(/OS (\d+)_/i),r=n?parseInt(n[1],10):null;if(/iP(hone|od|ad)/.test(a)&&r&&r<14&&t.hasFeature){var s=t.hasFeature;t.hasFeature=function(e){return"WEBP"!==e&&s(e)}}e._RF.pop()}}}));

System.register("chunks:///_virtual/MessageHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConst.ts","./AutoSpinDelayTask.ts","./BackBSSettleTask.ts","./BootCatchTask.ts","./IdleTask.ts","./StopTask.ts","./TotalWinTask.ts","./TransTask.ts","./UpdateFreeTimesTask.ts","./WinScatterTask.ts","./WinSymbolTask.ts","./BaseEvent.ts","./TaskManager.ts","./Utils.ts"],(function(e){var t,n,a,s,i,r,l,o,u,c,d,f,T,p,m,g,h,k,_;return{setters:[function(e){t=e.createClass,n=e.defineProperty,a=e.classCallCheck},function(e){s=e.cclegacy},function(e){i=e.GameConst,r=e.SymbolID},function(e){l=e.AutoSpinDelayTask},function(e){o=e.BackBSSettleTask},function(e){u=e.BootCatchTask},function(e){c=e.IdleTask},function(e){d=e.StopTask},function(e){f=e.TotalWinTask},function(e){T=e.TransTask},function(e){p=e.UpdateFreeTimesTask},function(e){m=e.WinScatterTask},function(e){g=e.WinSymbolTask},function(e){h=e.BaseEvent},function(e){k=e.TaskManager},function(e){_=e.Utils}],execute:function(){s._RF.push({},"1d89dg/FRNFJrKBQAjkjbwM","MessageHandler",void 0);var S=e("MessageHandler",function(){function e(){a(this,e),n(this,"fgBonus1",!1),n(this,"fgBonus2",!1),n(this,"fsTotalWin",0),n(this,"freeSpinTimes",0)}return t(e,[{key:"initialize",value:function(){h.onSpinResult.on(this.parseBSResult,this)}},{key:"parseBSResult",value:function(e){var t=this,n=e.main_game;if(this.handleGameResult(n,!1),this.fsTotalWin=0,this.freeSpinTimes=0,e.get_sub_game){this.fgBonus1=!1,this.fgBonus2=!1;var a=e.main_game.scatter_info.position.map((function(e){return e[0]*i.REEL_ROW+e[1]})),s=new m;s.winPos=a,k.getInstance().addTask(s),this.freeSpinTimes=i.SCATTER_MAPPING[e.main_game.scatter_info.amount];var r=new T;r.freeSpinTimes=this.freeSpinTimes,r.isFirstTrans=!0,r.wildMultiplier=1,k.getInstance().addTask(r),e.sub_game.game_result.forEach((function(e,n){t.freeSpinTimes--;var a=new p;a.freeSpinTimes=t.freeSpinTimes,k.getInstance().addTask(a),t.handleGameResult(e,!0),0===t.freeSpinTimes&&t.handleRetrigger(e)}));var u=new f;u.totalWin=e.sub_game.pay_credit_total,u.backBSParser=e.main_game.game_result,u.totalFreeSpinTimes=e.sub_game.game_result.length,k.getInstance().addTask(u);var d=new o;d.userCredit=e.user_credit,k.getInstance().addTask(d)}k.getInstance().addTask(new l),k.getInstance().addTask(new c)}},{key:"handleGameResult",value:function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=new d;if(s.resultPattern=e.game_result,k.getInstance().addTask(s),null!==(t=e.extra)&&void 0!==t&&t.no_m_add_spin){var l=new u;k.getInstance().addTask(l),this.freeSpinTimes+=1;var o=new p;o.freeSpinTimes=this.freeSpinTimes,k.getInstance().addTask(o)}var c=null;if(a&&null!==(n=e.extra)&&void 0!==n&&n.wild_pos){var f,T,m=e.game_result.flat(),h=[],S=[];m.forEach((function(e,t){e>=r.F1&&e<=r.F8&&(h.push(t),S.push(e))}));var v=null===(f=e.extra)||void 0===f?void 0:f.wild_pos.map((function(e){return e[0]*i.REEL_ROW+e[1]}));c={allWildPos:v,allFishPos:h,fishSymbolIDs:S,totalWildCount:null===(T=e.extra)||void 0===T?void 0:T.total_wild_count}}var w=[];e.pay_line.length>0&&e.pay_line.forEach((function(t){var n=_.getLinePathPosition(t.pay_line,t.amount,e.game_result,i.payLineData);w.push({payLineID:t.pay_line,winPos:n.winPos,winSymbolIDs:n.winSymbolIDs,payCredit:t.pay_credit})}));var y=new g;y.winLineData=w,y.winFishData=c,y.isSubGame=a,y.curFsTotalWin=this.fsTotalWin,y.payCreditTotal=e.pay_credit_total,k.getInstance().addTask(y),this.fsTotalWin+=e.pay_credit_total}},{key:"handleRetrigger",value:function(e){if(e.extra.total_wild_count>=4&&!1===this.fgBonus1){var t=new T;t.freeSpinTimes=10,t.isFirstTrans=!1,t.wildMultiplier=2,k.getInstance().addTask(t),this.fgBonus1=!0,this.freeSpinTimes+=10;var n=new p;n.wildMultiplier=2,n.freeSpinTimes=this.freeSpinTimes,k.getInstance().addTask(n)}else if(e.extra.total_wild_count>=8&&!1===this.fgBonus2){var a=new T;a.freeSpinTimes=10,a.isFirstTrans=!1,a.wildMultiplier=4,k.getInstance().addTask(a),this.fgBonus2=!0,this.freeSpinTimes+=10;var s=new p;s.wildMultiplier=4,s.freeSpinTimes=this.freeSpinTimes,k.getInstance().addTask(s)}}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}());n(S,"instance",void 0),s._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkApi.ts",["cc"],(function(_){var e;return{setters:[function(_){e=_.cclegacy}],execute:function(){e._RF.push({},"eeca6+ySVxKsq4nkbM4lzaa","NetworkApi",void 0);_("NetworkApi",function(_){return _.RENEW_TOKEN="renew_token",_.GET_USER_DATA="get_user_data",_.GET_GAME_DATA="get_game_data",_.GET_JACKPOT="get_jackpot",_.GET_CASH_DROP="get_cash_drop",_.GET_TOURNAMENT="get_tournament",_.GET_PROMOTION_BRIEF="get_promotion_brief",_.GET_CASH_DROP_PRIZE_RECORD="get_cash_drop_prize_record",_.GET_TOURNAMENT_PRIZE_RECORD="get_tournament_prize_record",_.GET_JP="get_jp",_.GET_JP_AMOUNT="get_jp_amount",_.GET_JP_PRIZE_RECORD="get_jp_prize_record",_.GET_IN_GAME_MENU_STATUS="get_in_game_menu_status",_.GET_EXTRA_DATA="get_extra_data",_.SPIN="spin",_.GET_IN_GAME_MENU="get_in_game_menu",_.UPDATE_IN_GAME_MENU_FAVORITE_GAME="update_in_game_menu_favorite_game",_.GET_IN_GAME_MENU_GAME_URL="get_in_game_menu_game_url",_.GET_FREE_SPIN_TOTAL_PAYOUT="get_free_spin_total_payout",_.REEL_STOP="reel_stop",_}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Notice.ts","./DataManager.ts","./ErrorCodeConfig.ts","./FetchRequestUtils.ts","./NetworkApi.ts"],(function(e){var t,n,r,a,s,o,u,i,c,p,d,h,f;return{setters:[function(e){t=e.defineProperty,n=e.createClass,r=e.classCallCheck,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,u=e._decorator},function(e){i=e.Notice},function(e){c=e.DataManager},function(e){p=e.ErrorCodeConfig},function(e){d=e.FetchRequestUtils,h=e.FETCH_METHODS},function(e){f=e.NetworkApi}],execute:function(){var l,v;o._RF.push({},"40348BbemxB8oOg5h8He2kA","NetworkManager",void 0);var m=u.ccclass;u.property,e("NetworkManager",m("NetworkManager")((v=function(){function e(){r(this,e),t(this,"fetchRequest",void 0),t(this,"errorCodeConfig",void 0),this.fetchRequest=new d,this.fetchRequest.onErrorDelegate.add(this.onFetchError.bind(this)),this.errorCodeConfig=new p}var o,u,l,v,m,_,g,E,k,w,R,y,T,x,G,I,M,C;return n(e,[{key:"onFetchError",value:function(e){console.error("網路錯誤: ".concat(e)),-1===e||-2===e?i.showError.emit(-1):i.showError.emit(e)}},{key:"checkErrorCode",value:function(e){if(0!==e.error_code){var t=this.errorCodeConfig.errorCodes.get(e.error_code)||"Unknown Error",n="".concat(e.error_code," - ").concat(t);return this.errorCodeConfig.retryErrorCodes.includes(e.error_code)?(console.warn("需要重試的錯誤: ".concat(n)),i.showError.emit(e.error_code)):this.errorCodeConfig.closeAndContinueCodes.includes(e.error_code)?(console.error("需要關閉並繼續的錯誤: ".concat(n)),i.showError.emit(e.error_code)):(console.error("一般錯誤: ".concat(n)),i.showError.emit(e.error_code)),!1}return!0}},{key:"sendRequest",value:(C=a(s().mark((function e(t){var n,r,a,o=this,u=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r={command:t,token:c.getInstance().urlParam.token,data:n},a={url:c.getInstance().urlParam.serverUrl,method:h.POST,content:JSON.stringify(r)},e.abrupt("return",new Promise((function(e,t){o.fetchRequest.sendRequest(a,(function(t){o.checkErrorCode(t)&&e(t)})).catch((function(e){t(e)}))})));case 4:case"end":return e.stop()}}),e)}))),function(e){return C.apply(this,arguments)})},{key:"sendRenewToken",value:(M=a(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest(f.RENEW_TOKEN);case 2:return t=e.sent,e.abrupt("return",t.data[0].token);case 4:case"end":return e.stop()}}),e,this)}))),function(){return M.apply(this,arguments)})},{key:"sendSpin",value:(I=a(s().mark((function e(t,n){var r,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=c.getInstance().bet,a={game_id:c.getInstance().urlParam.gameId,coin_value:r.getCoinValue(),line_bet:r.getLineBet(),line_num:r.getLineTotal(),bet_credit:r.getBetTotal(),buy_spin:t},e.next=5,this.sendRequest(f.SPIN,a);case 5:o=e.sent,c.getInstance().spinResult=o.data,n(o.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n(null);case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e,t){return I.apply(this,arguments)})},{key:"sendFreeSpinTotalPayout",value:(G=a(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest(f.GET_FREE_SPIN_TOTAL_PAYOUT,{free_spin_id:t});case 2:return n=e.sent,e.abrupt("return",n.data[0]);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return G.apply(this,arguments)})},{key:"sendReelStop",value:(x=a(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest(f.REEL_STOP);case 2:e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)})},{key:"sendPromotionBrief",value:(T=a(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest(f.GET_PROMOTION_BRIEF,{promotion_id:"-1"});case 2:return t=e.sent,e.abrupt("return",this.processPromotionBrief(t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return T.apply(this,arguments)})},{key:"processPromotionBrief",value:function(e){var t=e.data;t.sort((function(e,t){var n=new Date((new Date).toLocaleString("sv-SE",{timeZone:e.time_zone}).replace(/-/g,"/")),r=new Date(e.end_date.replace(/-/g,"/")).getTime()-n.getTime();return new Date(t.end_date.replace(/-/g,"/")).getTime()-n.getTime()>r?1:-1}));for(var n=t.filter((function(e){return 1===e.promotion_type})),r=t.length-1;r>=0;r--)1===t[r].promotion_type&&t.splice(r,1);return t=t.concat(n)}},{key:"sendCashDrop",value:(y=a(s().mark((function e(){var t,n,r=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"-1",e.next=3,this.sendRequest(f.GET_CASH_DROP,{promotion_id:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"sendCashDropPrizeRecord",value:(R=a(s().mark((function e(){var t,n,r=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"-1",e.next=3,this.sendRequest(f.GET_CASH_DROP_PRIZE_RECORD,{promotion_id:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)}))),function(){return R.apply(this,arguments)})},{key:"sendTournament",value:(w=a(s().mark((function e(){var t,n,r=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"-1",e.next=3,this.sendRequest(f.GET_TOURNAMENT,{promotion_id:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"sendTournamentPrizeRecord",value:(k=a(s().mark((function e(){var t,n,r=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"-1",e.next=3,this.sendRequest(f.GET_TOURNAMENT_PRIZE_RECORD,{promotion_id:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"sendExtraData",value:(E=a(s().mark((function e(){var t,n,r=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:60,e.next=3,this.sendRequest(f.GET_EXTRA_DATA,{interval:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)}))),function(){return E.apply(this,arguments)})},{key:"sendInGameMenuStatus",value:(g=a(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest(f.GET_IN_GAME_MENU_STATUS);case 2:return t=e.sent,e.abrupt("return",t.data[0].status);case 4:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"sendInGameMenuGameUrl",value:(_=a(s().mark((function e(t,n,r){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest(f.GET_IN_GAME_MENU_GAME_URL,{game_id:t,lang:n,b:r});case 2:return a=e.sent,e.abrupt("return",a.data[0].url);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return _.apply(this,arguments)})},{key:"sendUserData",value:(m=a(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest(f.GET_USER_DATA);case 2:t=e.sent,c.getInstance().userData=t.data[0];case 4:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"sendGameData",value:(v=a(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest(f.GET_GAME_DATA,{game_id:c.getInstance().urlParam.gameId});case 2:t=e.sent,c.getInstance().gameData=t.data[0];case 4:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"sendJackpot",value:(l=a(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest(f.GET_JACKPOT);case 2:e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"sendInGameMenu",value:(u=a(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest(f.GET_IN_GAME_MENU);case 2:t=e.sent,this.getInGameMenu(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getInGameMenu",value:function(e){if(e.game&&e.game.length>0){for(var t=e.game,n=0;n<t.length;n++)1==t[n][1]?c.getInstance().inGameMenuStore.new.push(t[n][0]):2==t[n][1]&&c.getInstance().inGameMenuStore.hot.push(t[n][0]),c.getInstance().inGameMenuStore.gameList.push(t[n][0]);for(var r=e.favorite,a=0;a<r.length;a++)c.getInstance().inGameMenuStore.favList.push(r[a]);c.getInstance().inGameMenuStore.imageURL=e.image;for(var s=e.game_name,o=0;o<s.length;o++)c.getInstance().gameNameList[s[o].game_id]=s[o].language}}},{key:"sendUpdateInGameMenuFavoriteGame",value:(o=a(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest(f.UPDATE_IN_GAME_MENU_FAVORITE_GAME,{favorite:t});case 2:e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})}],[{key:"getInstance",value:function(){return e._instance||(e._instance=new e),e._instance}}]),e}(),t(v,"_instance",void 0),l=v))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/Notice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./XEvent.ts","./ErrorCodeConfig.ts"],(function(o){var e,t,i,n,r,a,s,c,l,h,f,C,d,u;return{setters:[function(o){e=o.defineProperty,t=o.inherits,i=o.createSuper,n=o.classCallCheck,r=o.assertThisInitialized,a=o.createClass},function(o){s=o.cclegacy,c=o._decorator,l=o.Button,h=o.Label,f=o.Component},function(o){C=o.XEvent1,d=o.XEvent},function(o){u=o.ErrorCodeConfig}],execute:function(){var v,B;s._RF.push({},"b65a7As4K5AfaIsYCJga463","Notice",void 0);var N=c.ccclass;o("Notice",N("Notice")((B=function(o){t(c,o);var s=i(c);function c(){var o;n(this,c);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return o=s.call.apply(s,[this].concat(i)),e(r(o),"infoError",void 0),e(r(o),"infoNoBalance",void 0),e(r(o),"errorCodeConfig",void 0),o}return a(c,[{key:"onLoad",value:function(){var o=this;c.showError.on(this.showError,this),c.showNoBalance.on(this.showNoBalance,this),this.errorCodeConfig=new u,this.infoError=this.node.getChildByName("InfoError"),this.infoNoBalance=this.node.getChildByName("InfoNoBalance"),this.infoError.getChildByName("Click").on(l.EventType.CLICK,(function(){o.onCloseNotice()}),this),this.infoNoBalance.getChildByName("Click").on(l.EventType.CLICK,(function(){window.location.reload(),o.onCloseNotice()}),this)}},{key:"showError",value:function(o){var e=this.errorCodeConfig.getErrorDescription(o);this.infoError.getChildByName("Label").getComponent(h).string=e,this.node.getChildByPath("BlackMask").active=!0,this.infoError.active=!0}},{key:"showNoBalance",value:function(){this.node.getChildByPath("BlackMask").active=!0,this.infoNoBalance.active=!0}},{key:"onCloseNotice",value:function(){this.node.getChildByPath("BlackMask").active=!1,this.infoError.active=!1,this.infoNoBalance.active=!1}}]),c}(f),e(B,"showError",new C),e(B,"showNoBalance",new d),v=B))||v);s._RF.pop()}}}));

System.register("chunks:///_virtual/OrientationManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseEvent.ts","./BaseType.ts"],(function(t){var i,e,n,r,a,o,l,p,c,u,s,f,g,b,h,d,y,m,z,w,S;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.createClass,n=t.classCallCheck,r=t.initializerDefineProperty,a=t.inherits,o=t.createSuper,l=t.defineProperty,p=t.assertThisInitialized},function(t){c=t.cclegacy,u=t._decorator,s=t.Node,f=t.SpriteFrame,g=t.Vec3,b=t.Size,h=t.Vec2,d=t.UITransform,y=t.Sprite,m=t.Layout,z=t.Component},function(t){w=t.BaseEvent},function(t){S=t.OrientationtMode}],execute:function(){var P,v,L,O,F,A,C,B,E,R,T,k,M,_,N,x,D,X,Y,j,G,I,U,V,q,H,W,J,K,Q,Z,$,tt,it,et,nt,rt,at,ot,lt,pt,ct,ut,st,ft,gt,bt,ht,dt,yt,mt,zt,wt,St,Pt,vt,Lt,Ot,Ft,At,Ct,Bt,Et,Rt,Tt,kt,Mt,_t,Nt,xt,Dt,Xt,Yt,jt,Gt,It,Ut,Vt,qt,Ht,Wt,Jt,Kt,Qt,Zt,$t,ti,ii,ei;c._RF.push({},"9430fCxgGREUr5qkMMkG/3W","OrientationManager",void 0);var ni=u.ccclass,ri=u.property,ai=(P=ni("OrientationNode"),v=ri({type:s,tooltip:"目標節點"}),L=ri({type:s,tooltip:"直式位置節點"}),O=ri({type:s,tooltip:"橫式位置節點"}),P((C=i((A=e((function t(){n(this,t),r(this,"target",C,this),r(this,"portraitPos",B,this),r(this,"landscapePos",E,this)}))).prototype,"target",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(A.prototype,"portraitPos",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(A.prototype,"landscapePos",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=A))||F),oi=(R=ni("OrientationActive"),T=ri({type:s,tooltip:"目標節點"}),k=ri({tooltip:"直式顯示/隱藏"}),M=ri({tooltip:"橫式顯示/隱藏"}),R((x=i((N=e((function t(){n(this,t),r(this,"target",x,this),r(this,"portraitActive",D,this),r(this,"landscapeActive",X,this)}))).prototype,"target",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(N.prototype,"portraitActive",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=i(N.prototype,"landscapeActive",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=N))||_),li=(Y=ni("OrientationScale"),j=ri({type:s,tooltip:"目標節點"}),G=ri({tooltip:"直式縮放比例"}),I=ri({tooltip:"橫式縮放比例"}),Y((q=i((V=e((function t(){n(this,t),r(this,"target",q,this),r(this,"portraitScale",H,this),r(this,"landscapeScale",W,this)}))).prototype,"target",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(V.prototype,"portraitScale",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g(1,1,1)}}),W=i(V.prototype,"landscapeScale",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g(1,1,1)}}),U=V))||U),pi=(J=ni("OrientationPosition"),K=ri({type:s,tooltip:"目標節點"}),Q=ri({tooltip:"直式位置"}),Z=ri({tooltip:"橫式位置"}),J((it=i((tt=e((function t(){n(this,t),r(this,"target",it,this),r(this,"portraitPosition",et,this),r(this,"landscapePosition",nt,this)}))).prototype,"target",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(tt.prototype,"portraitPosition",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g(0,0,0)}}),nt=i(tt.prototype,"landscapePosition",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g(0,0,0)}}),$=tt))||$),ci=(rt=ni("OrientationSize"),at=ri({type:s,tooltip:"目標節點"}),ot=ri({tooltip:"直式尺寸"}),lt=ri({tooltip:"橫式尺寸"}),rt((ut=i((ct=e((function t(){n(this,t),r(this,"target",ut,this),r(this,"portraitSize",st,this),r(this,"landscapeSize",ft,this)}))).prototype,"target",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=i(ct.prototype,"portraitSize",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new b(0,0)}}),ft=i(ct.prototype,"landscapeSize",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new b(0,0)}}),pt=ct))||pt),ui=(gt=ni("OrientationSpriteFrame"),bt=ri({type:s,tooltip:"目標節點"}),ht=ri({type:f,tooltip:"直式貼圖"}),dt=ri({type:f,tooltip:"橫式貼圖"}),gt((zt=i((mt=e((function t(){n(this,t),r(this,"target",zt,this),r(this,"portraitSpriteFrame",wt,this),r(this,"landscapeSpriteFrame",St,this)}))).prototype,"target",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=i(mt.prototype,"portraitSpriteFrame",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=i(mt.prototype,"landscapeSpriteFrame",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=mt))||yt),si=(Pt=ni("OrientationLayoutPadding"),vt=ri({type:s,tooltip:"目標節點"}),Lt=ri({tooltip:"直式邊距 (左,右)"}),Ot=ri({tooltip:"直式邊距 (上,下)"}),Ft=ri({tooltip:"直式間距 (X,Y)"}),At=ri({tooltip:"橫式邊距 (左,右)"}),Ct=ri({tooltip:"橫式邊距 (上,下)"}),Bt=ri({tooltip:"橫式間距 (X,Y)"}),Pt((Tt=i((Rt=e((function t(){n(this,t),r(this,"target",Tt,this),r(this,"portraitPaddingLR",kt,this),r(this,"portraitPaddingTB",Mt,this),r(this,"portraitSpacing",_t,this),r(this,"landscapePaddingLR",Nt,this),r(this,"landscapePaddingTB",xt,this),r(this,"landscapeSpacing",Dt,this)}))).prototype,"target",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=i(Rt.prototype,"portraitPaddingLR",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(0,0)}}),Mt=i(Rt.prototype,"portraitPaddingTB",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(0,0)}}),_t=i(Rt.prototype,"portraitSpacing",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(0,0)}}),Nt=i(Rt.prototype,"landscapePaddingLR",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(0,0)}}),xt=i(Rt.prototype,"landscapePaddingTB",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(0,0)}}),Dt=i(Rt.prototype,"landscapeSpacing",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(0,0)}}),Et=Rt))||Et);t("OrientationManager",(Xt=ni("OrientationManager"),Yt=ri({tooltip:"是否切換為橫式"}),jt=ri({type:[ai],tooltip:"直橫式搬移控制"}),Gt=ri({type:[oi],tooltip:"直橫式顯示/隱藏控制"}),It=ri({type:[li],tooltip:"直橫式縮放控制"}),Ut=ri({type:[pi],tooltip:"直橫式位置控制"}),Vt=ri({type:[ci],tooltip:"直橫式尺寸控制"}),qt=ri({type:[ui],tooltip:"直橫式貼圖控制"}),Ht=ri({type:[si],tooltip:"直橫式LayoutPadding控制"}),Xt((i((Jt=function(t){a(c,t);var i=o(c);function c(){var t;n(this,c);for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return t=i.call.apply(i,[this].concat(a)),l(p(t),"_isLandscape",!1),r(p(t),"orientationNode",Kt,p(t)),r(p(t),"orientationActive",Qt,p(t)),r(p(t),"orientationScale",Zt,p(t)),r(p(t),"orientationPosition",$t,p(t)),r(p(t),"orientationSize",ti,p(t)),r(p(t),"orientationSpriteFrame",ii,p(t)),r(p(t),"orientationLayoutPadding",ei,p(t)),t}return e(c,[{key:"isLandscape",get:function(){return this._isLandscape},set:function(t){this._isLandscape!==t&&(this._isLandscape=t)}},{key:"onLoad",value:function(){w.changeOrientation.on(this.onChangeOrientation,this)}},{key:"onDestroy",value:function(){w.changeOrientation.off(this.onChangeOrientation)}},{key:"onChangeOrientation",value:function(t){var i=t===S.Landscape;this.orientationNode&&this.orientationNode.forEach((function(t,e){t.target.parent=i?t.landscapePos:t.portraitPos})),this.orientationActive&&this.orientationActive.forEach((function(t,e){t.target.active=i?t.landscapeActive:t.portraitActive})),this.orientationScale&&this.orientationScale.forEach((function(t,e){var n=t.target;if(n){var r=i?t.landscapeScale:t.portraitScale;n.setScale(r)}})),this.orientationPosition&&this.orientationPosition.forEach((function(t,e){var n=t.target;if(n){var r=i?t.landscapePosition:t.portraitPosition;n.setPosition(r)}})),this.orientationSize&&this.orientationSize.forEach((function(t,e){var n=t.target;if(n){var r,a=i?t.landscapeSize:t.portraitSize;null===(r=n.getComponent(d))||void 0===r||r.setContentSize(a)}})),this.orientationSpriteFrame&&this.orientationSpriteFrame.forEach((function(t,e){var n=t.target;if(n){var r=n.getComponent(y);if(r){var a=i?t.landscapeSpriteFrame:t.portraitSpriteFrame;r.spriteFrame=a}}})),this.orientationLayoutPadding&&this.orientationLayoutPadding.forEach((function(t,e){var n=t.target;if(n){var r=n.getComponent(m);if(r){var a=i?t.landscapePaddingLR:t.portraitPaddingLR,o=i?t.landscapePaddingTB:t.portraitPaddingTB,l=i?t.landscapeSpacing:t.portraitSpacing;r.paddingLeft=a.x,r.paddingRight=a.y,r.paddingTop=o.x,r.paddingBottom=o.y,r.spacingX=l.x,r.spacingY=l.y,r.updateLayout()}}}))}}]),c}(z)).prototype,"isLandscape",[Yt],Object.getOwnPropertyDescriptor(Jt.prototype,"isLandscape"),Jt.prototype),Kt=i(Jt.prototype,"orientationNode",[jt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qt=i(Jt.prototype,"orientationActive",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zt=i(Jt.prototype,"orientationScale",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$t=i(Jt.prototype,"orientationPosition",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ti=i(Jt.prototype,"orientationSize",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ii=i(Jt.prototype,"orientationSpriteFrame",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ei=i(Jt.prototype,"orientationLayoutPadding",[Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wt=Jt))||Wt));c._RF.pop()}}}));

System.register("chunks:///_virtual/PayTableUI.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"f1584zB1p1LEpi8D1Ya3dws","PayTableUI",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/PromoManager.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"dc5165w3hRHzYKUzlBVR4Qn","PromoManager",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/promotionalContent.ts",["cc"],(function(){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"0584dDh9aRKh6I5+uThlP5p","promotionalContent",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ReelBlackUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./XEvent.ts","./Utils.ts"],(function(e){var t,n,i,o,s,c,a,h,r,u;return{setters:[function(e){t=e.defineProperty,n=e.inherits,i=e.createSuper,o=e.classCallCheck,s=e.createClass},function(e){c=e.cclegacy,a=e._decorator,h=e.Component},function(e){r=e.XEvent},function(e){u=e.Utils}],execute:function(){var l,f;c._RF.push({},"7070ftrDDhA0IQGOtRiy1Eh","ReelBlackUI",void 0);var d=a.ccclass;a.property,e("ReelBlackUI",d("ReelBlackUI")((t(f=function(e){n(c,e);var t=i(c);function c(){return o(this,c),t.apply(this,arguments)}return s(c,[{key:"onLoad",value:function(){c.show.on(this.show,this),c.hide.on(this.hide,this),this.node.active=!1}},{key:"show",value:function(){this.node.active||(this.node.active=!0,u.fadeIn(this.node,.1,0,255))}},{key:"hide",value:function(){var e=this;this.node.active&&u.fadeOut(this.node,.1,255,0,(function(){e.node.active=!1}))}},{key:"onDestroy",value:function(){c.show.off(this),c.hide.off(this)}}]),c}(h),"show",new r),t(f,"hide",new r),l=f))||l);c._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseEvent.ts","./BaseType.ts"],(function(e){var n,i,s,t,r,o,a,c,u,l;return{setters:[function(e){n=e.createClass,i=e.defineProperty,s=e.classCallCheck},function(e){t=e.cclegacy,r=e.game,o=e.Game,a=e.view,c=e.ResolutionPolicy},function(e){u=e.BaseEvent},function(e){l=e.OrientationtMode}],execute:function(){t._RF.push({},"c12c7ALkn1AU4ZmsPqJK1GG","ScreenAdapter",void 0);var v=e("ScreenAdapter",function(){function e(){s(this,e)}return n(e,null,[{key:"setupResize",value:function(){r.on(o.EVENT_ENGINE_INITED,(function(){"undefined"!=typeof ResizeObserver?(e.resizeObserver=new ResizeObserver((function(){return e.handleResize()})),e.resizeObserver.observe(r.canvas)):window.addEventListener("resize",e.handleResize),e.handleResize()}))}},{key:"cleanupResize",value:function(){"undefined"!=typeof ResizeObserver&&e.resizeObserver?(e.resizeObserver.disconnect(),e.resizeObserver=null):window.removeEventListener("resize",e.handleResize)}},{key:"handleResize",value:function(){if(r.canvas){var e=r.canvas.getBoundingClientRect(),n=e.width/e.height;n>1?(n>1280/720?a.setDesignResolutionSize(1280,720,c.FIXED_HEIGHT):a.setDesignResolutionSize(1280,720,c.FIXED_WIDTH),u.changeOrientation.emit(l.Landscape)):(n<.5625?a.setDesignResolutionSize(720,1280,c.FIXED_WIDTH):a.setDesignResolutionSize(720,1280,c.FIXED_HEIGHT),u.changeOrientation.emit(l.Portrait))}}},{key:"destroy",value:function(){e.cleanupResize()}}]),e}());i(v,"resizeObserver",null),t._RF.pop()}}}));

System.register("chunks:///_virtual/SettingsController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./BaseEvent.ts","./XEvent.ts","./AudioManager.ts","./BaseType.ts","./Utils.ts","./InGameMenuPanel.ts"],(function(t){var e,n,i,o,a,s,u,l,r,p,c,h,B,d,f,g,C,S,b,y,m,v,k,M,A,I,w,O,N,V,F,T,E,z;return{setters:[function(t){e=t.defineProperty,n=t.applyDecoratedDescriptor,i=t.inherits,o=t.createSuper,a=t.classCallCheck,s=t.initializerDefineProperty,u=t.assertThisInitialized,l=t.createClass,r=t.asyncToGenerator,p=t.regeneratorRuntime},function(t){c=t.cclegacy,h=t._decorator,B=t.Node,d=t.Label,f=t.Button,g=t.KeyCode,C=t.Animation,S=t.tween,b=t.Vec3,y=t.screen,m=t.Tween,v=t.Component},function(t){k=t.DataManager},function(t){M=t.BaseEvent},function(t){A=t.XEvent2,I=t.XEvent1,w=t.XEvent},function(t){O=t.AudioManager},function(t){N=t.AudioMode,V=t.ModuleID,F=t.TurboMode},function(t){T=t.addBtnClickEvent,E=t.Utils},function(t){z=t.InGameMenuPanel}],execute:function(){var P,_,R,W,D,L,G,H,K,X,x,U,j,q,J,Y,Q,Z,$,tt,et,nt,it,ot,at,st,ut,lt,rt,pt;c._RF.push({},"1c69aK8/IVCfJAeDzUC+YIR","SettingsController",void 0);var ct=h.ccclass,ht=h.property;t("SettingsController",(P=ct("SettingsController"),_=ht({type:B,tooltip:"bet資訊"}),R=ht({type:B,tooltip:"SPIN節點"}),W=ht({type:B,tooltip:"自動按鈕"}),D=ht({type:B,tooltip:"加速按鈕"}),L=ht({type:B,tooltip:"選項按鈕"}),G=ht({type:B,tooltip:"全螢幕按鈕"}),H=ht({type:B,tooltip:"聲音按鈕"}),K=ht({type:B,tooltip:"下注紀錄按鈕"}),X=ht({type:B,tooltip:"收藏按鈕"}),x=ht({type:B,tooltip:"資訊說明按鈕"}),U=ht({type:B,tooltip:"返回按鈕"}),j=ht({type:B,tooltip:"增加下注按鈕"}),q=ht({type:B,tooltip:"減少下注按鈕"}),P((pt=function(t){i(h,t);var n,c=o(h);function h(){var t;a(this,h);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=c.call.apply(c,[this].concat(i)),s(u(t),"betInfo",Q,u(t)),s(u(t),"spinNode",Z,u(t)),s(u(t),"autoBtn",$,u(t)),s(u(t),"turboBtn",tt,u(t)),s(u(t),"optionBtn",et,u(t)),s(u(t),"screenBtn",nt,u(t)),s(u(t),"audioBtn",it,u(t)),s(u(t),"recordBtn",ot,u(t)),s(u(t),"favoritesBtn",at,u(t)),s(u(t),"informationBtn",st,u(t)),s(u(t),"backBtn",ut,u(t)),s(u(t),"addBetBtn",lt,u(t)),s(u(t),"minusBetBtn",rt,u(t)),e(u(t),"porControllerBtns",null),e(u(t),"porOptionMenu",null),e(u(t),"landOptionMenu",null),e(u(t),"isOpenOption",!1),e(u(t),"isFullScreen",!1),e(u(t),"audioMode",N.AudioOn),e(u(t),"spinBtn",null),e(u(t),"stopSpinBtn",null),e(u(t),"freeSpin",null),e(u(t),"stopAutoSpinBtn",null),e(u(t),"balanceValue",null),e(u(t),"totalWinValue",null),e(u(t),"totalBetValue",null),e(u(t),"totalBet",0),t}return l(h,[{key:"onLoad",value:function(){h._instance=this,this.setNode(),this.setupBtnEvent(),this.setEventListen()}},{key:"setNode",value:function(){this.porControllerBtns=this.node.getChildByName("Por_ControllerBtns"),this.porOptionMenu=this.node.getChildByName("Por_OptionMenu"),this.landOptionMenu=this.node.getChildByName("Land_OptionMenu"),this.balanceValue=this.betInfo.getChildByPath("Balance/Value").getComponent(d),this.totalWinValue=this.betInfo.getChildByPath("TotalWin/Value").getComponent(d),this.totalBetValue=this.betInfo.getChildByPath("TotalBet/Value").getComponent(d),this.spinBtn=this.spinNode.getChildByName("SpinBtn"),this.stopSpinBtn=this.spinNode.getChildByName("StopSpinBtn"),this.freeSpin=this.spinNode.getChildByName("FreeSpin"),this.stopAutoSpinBtn=this.spinNode.getChildByName("StopAutoSpinBtn")}},{key:"setupBtnEvent",value:function(){var t="SettingsController";T(this.node,t,this.spinBtn.getComponent(f),"onClickSpin"),T(this.node,t,this.stopSpinBtn.getComponent(f),"onClickStopSpin"),T(this.node,t,this.autoBtn.getComponent(f),"onClickAuto"),T(this.node,t,this.turboBtn.getComponent(f),"onClickTurbo"),T(this.node,t,this.optionBtn.getComponent(f),"onClickOption"),T(this.node,t,this.screenBtn.getComponent(f),"onClickScreen"),T(this.node,t,this.audioBtn.getComponent(f),"onClickAudio"),T(this.node,t,this.recordBtn.getComponent(f),"onClickRecord"),T(this.node,t,this.favoritesBtn.getComponent(f),"onClickFavorites"),T(this.node,t,this.informationBtn.getComponent(f),"onClickInformation"),T(this.node,t,this.backBtn.getComponent(f),"onClickOption"),T(this.node,t,this.stopAutoSpinBtn.getComponent(f),"onStopAutoSpin"),T(this.node,t,this.addBetBtn.getComponent(f),"changeBet","1"),T(this.node,t,this.minusBetBtn.getComponent(f),"changeBet","-1")}},{key:"setEventListen",value:function(){M.resetSpin.on(this.onResetSpin,this),M.changeScene.on(this.sceneChange,this),M.setTurboBtnState.on(this.setTurboBtnState,this),M.runAutoSpin.on(this.runAutoSpin,this),M.stopAutoSpin.on(this.onStopAutoSpin,this),h.refreshCredit.on(this.refreshCredit,this),h.refreshBet.on(this.refreshBet,this),h.refreshWin.on(this.refreshWin,this),h.setEnabled.on(this.setBtnInteractable,this),h.updateAutoSpinCount.on(this.updateAutoSpinCount,this),h.updateFreeSpinCount.on(this.updateFreeSpinCount,this),h.changeBetValue.on(this.changeBetValue,this),h.clickSpin.on(this.handleClickSpin,this)}},{key:"onDestroy",value:function(){M.resetSpin.off(this),h.refreshCredit.off(this),h.refreshBet.off(this),h.refreshWin.off(this),h.setEnabled.off(this),h.updateAutoSpinCount.off(this),h.updateFreeSpinCount.off(this)}},{key:"initialize",value:function(){var t=this;M.keyDown.on((function(e){e!=g.SPACE&&e!=g.ENTER||t.handleClickSpin()}),this),this.updateBetBtnInteractable()}},{key:"setBtnInteractable",value:function(t){this.spinBtn.getComponent(f).interactable=t,this.autoBtn.getComponent(f).interactable=t,this.turboBtn.getComponent(f).interactable=t,this.optionBtn.getComponent(f).interactable=t,this.informationBtn.getComponent(f).interactable=t,k.getInstance().lockKeyboard=!t,t?this.updateBetBtnInteractable():(this.addBetBtn.getComponent(f).interactable=!1,this.minusBetBtn.getComponent(f).interactable=!1)}},{key:"updateBetBtnInteractable",value:function(){this.addBetBtn.getComponent(f).interactable=k.getInstance().bet.getPlusEnabled(),this.minusBetBtn.getComponent(f).interactable=k.getInstance().bet.getLessEnabled()}},{key:"sceneChange",value:function(t){t===V.BS?k.getInstance().isAutoMode?(this.spinBtn.active=!1,this.stopSpinBtn.active=!0,this.stopAutoSpinBtn.active=!0,this.freeSpin.active=!1):this.onResetSpin():(this.spinBtn.active=!1,this.stopSpinBtn.active=!1,this.stopAutoSpinBtn.active=!1,this.freeSpin.active=!0)}},{key:"onClickSpin",value:(n=r(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.handleClickSpin();case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"handleClickSpin",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.clickAnim(this.spinBtn),this.rotateAnim(this.spinBtn),this.setBtnInteractable(!1),E.fadeOut(this.spinBtn,.1,255,0,(function(){t.spinBtn.active=!1,t.stopSpinBtn.active=!0,t.stopSpinBtn.getComponent(f).interactable=!0,t.stopSpinBtn.getComponent(C).play("stopSpinShow")})),M.clickSpin.emit(e)}},{key:"clickAnim",value:function(t){S(t).to(.1,{scale:new b(.7,.7,.7)}).to(.15,{scale:new b(1,1,1)},{easing:"backOut"}).start()}},{key:"rotateAnim",value:function(t){S(t).by(.2,{angle:-180},{easing:"linear"}).call((function(){t.angle=0})).start()}},{key:"onResetSpin",value:function(){var t=this;this.spinBtn.active||E.fadeOut(this.stopSpinBtn,.1,255,0,(function(){t.stopSpinBtn.active=!1,t.freeSpin.active=!1,t.stopAutoSpinBtn.active=!1,t.spinBtn.active=!0,t.spinBtn.getComponent(C).play("spinBtnShow"),t.setBtnInteractable(!0)}))}},{key:"onClickStopSpin",value:function(){this.clickAnim(this.stopSpinBtn),this.stopSpinBtn.getComponent(f).interactable=!1,M.clickStop.emit()}},{key:"onStopAutoSpin",value:function(){this.stopAutoSpinBtn.active=!1,k.getInstance().isAutoMode=!1,k.getInstance().autoSpinCount=0,this.stopSpinBtn.getComponent(f).interactable=!1}},{key:"runAutoSpin",value:function(){0!==k.getInstance().autoSpinCount?(this.stopAutoSpinBtn.active=!0,k.getInstance().autoSpinCount>0&&k.getInstance().autoSpinCount--,this.updateAutoSpinCount(),this.handleClickSpin()):this.onStopAutoSpin()}},{key:"updateAutoSpinCount",value:function(){var t=this.stopAutoSpinBtn.getChildByName("Label").getComponent(d);this.tweenScale(t.node),k.getInstance().autoSpinCount<0?t.string="∞":t.string=k.getInstance().autoSpinCount.toString()}},{key:"updateFreeSpinCount",value:function(t){var e=this.freeSpin.getChildByName("Label").getComponent(d);this.tweenScale(e.node),e.string=t.toString()}},{key:"tweenScale",value:function(t){S(t).to(.1,{scale:new b(1.5,1.5,1)}).to(.2,{scale:new b(1,1,1)}).start()}},{key:"onClickAuto",value:function(){M.showAutoSpin.emit()}},{key:"changeBet",value:function(t,e){var n=parseInt(e);this.changeBetValue(n)}},{key:"changeBetValue",value:function(t){k.getInstance().bet.getChangeBetValue(t);var e=k.getInstance().bet.getBetTotal();this.refreshBet(e),this.updateBetBtnInteractable();var n=k.getInstance().bet.getBuyFeatureTotal();M.buyFeatureEnabled.emit(-1!==n)}},{key:"onClickTurbo",value:function(){var t=k.getInstance().curTurboMode;t=(t+1)%3,k.getInstance().curTurboMode=t,this.setTurboBtnState(t)}},{key:"setTurboBtnState",value:function(t){var e=this.turboBtn.getChildByName("Normal"),n=this.turboBtn.getChildByName("Speed"),i=this.turboBtn.getChildByName("Turbo");e.active=t===F.Normal,n.active=t===F.Fast,i.active=t===F.Turbo}},{key:"onClickOption",value:function(){this.isOpenOption=!this.isOpenOption,k.getInstance().lockKeyboard=this.isOpenOption,this.isOpenOption?(this.porControllerBtns.getComponent(C).play("optionMenuHide"),this.porOptionMenu.getComponent(C).play("optionMenuShow"),this.landOptionMenu.getComponent(C).play("optionMenuShow"),E.fadeIn(this.landOptionMenu,.2,0,255),E.fadeIn(this.porOptionMenu,.2,0,255),E.fadeOut(this.porControllerBtns,.2,255,0)):(this.porControllerBtns.getComponent(C).play("optionMenuShow"),this.porOptionMenu.getComponent(C).play("optionMenuHide"),this.landOptionMenu.getComponent(C).play("optionMenuHide"),E.fadeIn(this.porControllerBtns,.2,0,255),E.fadeOut(this.landOptionMenu,.2,255,0),E.fadeOut(this.porOptionMenu,.2,255,0))}},{key:"onClickScreen",value:function(){this.isFullScreen=!this.isFullScreen;var t=this.screenBtn.getChildByName("FullScreenOn"),e=this.screenBtn.getChildByName("FullScreenOff");t.active=!this.isFullScreen,e.active=this.isFullScreen,this.isFullScreen?y.requestFullScreen():y.exitFullScreen()}},{key:"onClickAudio",value:function(){this.audioMode=(this.audioMode+1)%3;var t=this.audioBtn.getChildByName("AudioOn"),e=this.audioBtn.getChildByName("MusicOff"),n=this.audioBtn.getChildByName("AudioOff");t.active=this.audioMode===N.AudioOn,e.active=this.audioMode===N.MusicOff,n.active=this.audioMode===N.AudioOff;var i=O.getInstance();switch(this.audioMode){case N.AudioOn:i.setSoundMute(!1),i.setMusicMute(!1);break;case N.MusicOff:i.setMusicMute(!0),i.setSoundMute(!1);break;case N.AudioOff:i.setSoundMute(!0),i.setMusicMute(!0)}}},{key:"onClickRecord",value:function(){var t=k.getInstance().getFullBetrecordurl();window.open(t,"_blank")}},{key:"onClickFavorites",value:function(){z.onClickInGameMenu.emit()}},{key:"onClickInformation",value:function(){M.showGameInformation.emit()}},{key:"refreshCredit",value:function(t){var e=k.getInstance().userCredit;e!==t?E.runNumberCurrency(.3,this.balanceValue,{curValue:e,finalValue:t}):this.balanceValue.string=E.numberFormatCurrency(t)}},{key:"refreshBet",value:function(t){m.stopAllByTarget(this.totalBetValue.node),t!==this.totalBet&&S(this.totalBetValue.node).to(.1,{scale:new b(1.2,1.2,1)}).to(.1,{scale:new b(1,1,1)}).start(),this.totalBet=t,this.totalBetValue.string=E.numberFormatCurrency(t)}},{key:"refreshWin",value:function(t,e){e<=0?this.totalWinValue.string="":E.runNumberCurrency(.3,this.totalWinValue,{curValue:t,finalValue:e})}},{key:"getSpinPos",value:function(){var t=this.spinNode.parent.parent.position,e=this.spinNode.parent.position;return t.clone().add(e)}}],[{key:"getInstance",value:function(){return h._instance}}]),h}(v),e(pt,"_instance",null),e(pt,"refreshWin",new A),e(pt,"refreshCredit",new I),e(pt,"refreshBet",new I),e(pt,"setEnabled",new I),e(pt,"updateAutoSpinCount",new w),e(pt,"updateFreeSpinCount",new I),e(pt,"changeBetValue",new I),e(pt,"clickSpin",new I),e(pt,"runAutoSpin",new w),Q=n((Y=pt).prototype,"betInfo",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(Y.prototype,"spinNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(Y.prototype,"autoBtn",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=n(Y.prototype,"turboBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=n(Y.prototype,"optionBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=n(Y.prototype,"screenBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=n(Y.prototype,"audioBtn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=n(Y.prototype,"recordBtn",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=n(Y.prototype,"favoritesBtn",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=n(Y.prototype,"informationBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=n(Y.prototype,"backBtn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=n(Y.prototype,"addBetBtn",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=n(Y.prototype,"minusBetBtn",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=Y))||J));c._RF.pop()}}}));

System.register("chunks:///_virtual/SlotData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConst.ts","./DataManager.ts","./Utils.ts"],(function(t){var n,o,u,c,i,p,e;return{setters:[function(t){n=t.createClass,o=t.defineProperty,u=t.classCallCheck},function(t){c=t.cclegacy},function(t){i=t.SymbolID},function(t){p=t.DataManager},function(t){e=t.Utils}],execute:function(){c._RF.push({},"05643LkOKRIVYCi0wjamKCr","SlotData",void 0);var a=t("SlotData",function(){function t(){u(this,t)}return n(t,null,[{key:"getPayBySymbolID",value:function(t){var n=new Map([[i.H1,"H1"],[i.H2,"H2"],[i.H3,"H3"],[i.H4,"H4"],[i.LA,"LA"],[i.LK,"LK"],[i.LQ,"LQ"],[i.LJ,"LJ"],[i.LT,"LT"]]),o=[],u=this.payloadTemplate.symbolPoints[n.get(t)];return u&&u.forEach((function(t){o.push({count:t.count,cent:e.numberFormatCurrency(t.point*p.getInstance().bet.getBetTotal())})}),this),o}}]),t}());o(a,"fsWildMultiply",0),o(a,"payloadTemplate",{symbolPoints:{H1:[{count:5,point:200},{count:4,point:20},{count:3,point:5},{count:2,point:.5}],H2:[{count:5,point:100},{count:4,point:15},{count:3,point:3}],H3:[{count:5,point:50},{count:4,point:10},{count:3,point:2}],H4:[{count:5,point:50},{count:4,point:10},{count:3,point:2}],LA:[{count:5,point:10},{count:4,point:2.5},{count:3,point:.2}],LK:[{count:5,point:10},{count:4,point:2.5},{count:3,point:.2}],LQ:[{count:5,point:5},{count:4,point:1},{count:3,point:.2}],LJ:[{count:5,point:5},{count:4,point:1},{count:3,point:.2}],LT:[{count:5,point:5},{count:4,point:1},{count:3,point:.2}]}}),c._RF.pop()}}}));

System.register("chunks:///_virtual/SlotMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseSymbol.ts","./BaseConst.ts","./DataManager.ts","./BaseEvent.ts","./XEvent.ts","./AudioManager.ts","./Utils.ts"],(function(e){var t,n,o,i,r,s,l,a,c,h,u,p,m,y,b,f,S,g,d,v,w,T,L,M,k,I,R,P,B,C,E;return{setters:[function(e){t=e.defineProperty,n=e.applyDecoratedDescriptor,o=e.inherits,i=e.createSuper,r=e.classCallCheck,s=e.assertThisInitialized,l=e.initializerDefineProperty,a=e.createClass,c=e.asyncToGenerator,h=e.regeneratorRuntime},function(e){u=e.cclegacy,p=e._decorator,m=e.Node,y=e.Prefab,b=e.UITransform,f=e.Vec3,S=e.instantiate,g=e.tween,d=e.easing,v=e.Tween,w=e.Component,T=e.Button},function(e){L=e.BaseSymbol},function(e){M=e.BaseConst},function(e){k=e.DataManager},function(e){I=e.BaseEvent},function(e){R=e.XEvent1,P=e.XEvent2,B=e.XEvent},function(e){C=e.AudioManager},function(e){E=e.Utils}],execute:function(){var x,_,D,H,N,A,O,z,W,U,X,F,K,G;u._RF.push({},"1fd79irHgJCJoeIKoXW1GkH","SlotMachine",void 0);var J=e("slotAudioKey",{reelStop:"reelStop"}),j=p.ccclass,V=p.property;e("SlotMachine",(x=j("SlotMachine"),_=V({type:m,tooltip:"轉動軸(順序),注意子節點下層需要多長一個symbol節點"}),D=V({type:m,tooltip:"scatter層"}),H=V({type:m,tooltip:"勝利層"}),N=V({type:m,tooltip:"急停節點"}),A=V({type:y,tooltip:"symbol"}),x((G=function(e){o(w,e);var n,u,p,y=i(w);function w(){var e;r(this,w);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=y.call.apply(y,[this].concat(o)),t(s(e),"reelCol",5),t(s(e),"reelRow",[]),l(s(e),"reelList",W,s(e)),l(s(e),"scatterLayer",U,s(e)),l(s(e),"winLayer",X,s(e)),l(s(e),"skipUI",F,s(e)),l(s(e),"symbolPrefab",K,s(e)),t(s(e),"symbolWidth",void 0),t(s(e),"symbolHeight",void 0),t(s(e),"miNodeCount",5),t(s(e),"reelMainSymbol",[]),t(s(e),"reelTopSymbol",[]),t(s(e),"reelBottomSymbol",[]),t(s(e),"reelSymbols",[]),t(s(e),"allMainSymbols",[]),t(s(e),"allMainSymbolPos",[]),t(s(e),"isRunMi",!1),t(s(e),"resultPattern",[]),t(s(e),"mipieList",[]),t(s(e),"reelStopping",[]),t(s(e),"reelStopped",[]),e}return a(w,[{key:"onLoad",value:function(){w.instance=this,this.reelMainSymbol=Array.from({length:this.reelList.length},(function(){return[]})),this.reelTopSymbol=Array.from({length:this.reelList.length},(function(){return[]})),this.reelBottomSymbol=Array.from({length:this.reelList.length},(function(){return[]})),this.reelSymbols=Array.from({length:this.reelList.length},(function(){return[]})),this.reelCol=this.reelList.length,this.reelRow=this.reelList.map((function(e){return e.children.length/3})),this.symbolWidth=this.reelList[0].children[0].getComponent(b).contentSize.width,this.symbolHeight=this.reelList[0].children[0].getComponent(b).contentSize.height,this.initCreatReel(),w.initResultParser.on(this.initResultParser,this),w.slotRun.on(this.onSlotRun,this),w.backBSParser.on(this.onBackBSParser,this),I.clickStop.on(this.onSlotSkip,this),w.showSymbolWin.on(this.onShowSymbolWin,this)}},{key:"initCreatReel",value:function(){for(var e=this,t=function(t){var n=e.reelList[t];n.children.forEach((function(o,i){var r=new f(n.position.x,o.position.y,0);if(i>=e.reelRow[t]&&i<2*e.reelRow[t]){var s=S(o);s.name="PosNode_".concat(t,"_").concat(i),s.setParent(e.scatterLayer),s.setPosition(r);var l=S(o);l.name="PosNode_".concat(t,"_").concat(i),l.setParent(e.winLayer),l.setPosition(r)}}))},n=0;n<this.reelList.length;n++)t(n)}},{key:"initResultParser",value:function(e){for(var t=this,n=function(n){var o=t.reelList[n],i=t.reelRow[n],r=2*t.reelRow[n],s=3*t.reelRow[n];o.children.forEach((function(l,a){if(!(a>s-1)){var c=S(t.symbolPrefab).getComponent(L);c.scatterLayer=t.scatterLayer,c.winLayer=t.winLayer,c.parentNode=l,c.node.setParent(l),a<i?(t.reelTopSymbol[n].push(c),t.reelSymbols[n].push(c),c.setRandomSymbolID()):a<r?(t.reelMainSymbol[n].push(c),t.reelSymbols[n].push(c),c.posID=n*i+a-i,c.setSymbolID(e[n][a-i]),t.allMainSymbols.push(c.node),t.allMainSymbolPos.push(new f(o.x,l.position.y,0))):(t.reelBottomSymbol[n].push(c),t.reelSymbols[n].push(c),c.setRandomSymbolID())}}))},o=0;o<this.reelList.length;o++)n(o);for(var i=0;i<this.reelList.length;i++){var r=this.reelList[i],s=new m("MiNode_".concat(i));s.addComponent(b),s.getComponent(b).setContentSize(this.symbolWidth,this.symbolHeight*this.miNodeCount),s.getComponent(b).anchorY=1;for(var l=0;l<this.miNodeCount;l++){var a=new f(0,-this.symbolHeight*l-this.symbolHeight/2,0),c=S(this.symbolPrefab).getComponent(L);c.scatterLayer=this.scatterLayer,c.winLayer=this.winLayer,c.parentNode=s,c.node.name="Symbol_".concat(i,"_").concat(l),c.node.setParent(s),c.node.setPosition(a),this.reelSymbols[i].push(c)}s.setParent(r);var h=r.getComponent(b).contentSize.height;s.setPosition(new f(0,-h/2,0)),s.active=!1}}},{key:"onBackBSParser",value:function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++){this.reelMainSymbol[t][n].backBS(e[t][n])}}},{key:"onSlotRun",value:(p=c(h().mark((function e(t,n){var o,i,r,s=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.reelStopping=Array(this.reelList.length).fill(!1),this.reelStopped=Array(this.reelList.length).fill(!1),this.resultPattern=t,this.mipieList=n,o=M.SLOT_TIME[k.getInstance().curTurboMode].spinTime,g(this.node).delay(o).call((function(){s.onSlotStop()})).start(),this.reelSymbols.forEach((function(e){e.forEach((function(e){e.onSpin()}))})),this.scheduleOnce((function(){s.skipUI.once(T.EventType.CLICK,s.onSlotSkip,s)}),M.SLOT_TIME[k.getInstance().curTurboMode].beginTime),i=0;case 9:if(!(i<this.reelList.length)){e.next=19;break}if(this.showHideTopBottomNode(i,!0),this.startSlotRun(i),!((r=M.SLOT_TIME[k.getInstance().curTurboMode].spinIntervalTime)>0)){e.next=16;break}return e.next=16,E.delay(r);case 16:i++,e.next=9;break;case 19:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"onSlotStop",value:(u=c(h().mark((function e(){var t,n,o,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.reelList.length)){e.next=8;break}return n=this.handleMi(t),o=n.runTime,i=n.backTime,e.next=5,this.stopSlotRun(t,o,i);case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"startSlotRun",value:function(e){var t=this;if(!this.reelStopping[e]){var n=M.SLOT_TIME[k.getInstance().curTurboMode].beginTime,o=M.SLOT_TIME[k.getInstance().curTurboMode].loopTime,i=this.reelList[e],r=this.symbolHeight*this.reelRow[e],s=this.reelBottomSymbol[e],l=this.reelMainSymbol[e],a=this.reelTopSymbol[e],c=new f(i.x,r,0),h=new f(i.x,-r,0),u=function e(){for(var t=0;t<s.length;t++)s[t].setSymbolID(a[t].symbolID);for(var n=0;n<l.length;n++)l[n].setRandomSymbolID();for(var r=0;r<a.length;r++)a[r].setRandomSymbolID();i.position=c,g(i).to(o,{position:h}).call(e).start()};g(i).to(n,{position:h},{easing:d.backIn}).call((function(){t.blurShow(e),u()})).start()}}},{key:"stopSlotRun",value:(n=c(h().mark((function e(t,n,o){var i=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=c(h().mark((function e(r){var s,l,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.reelStopping[t]){e.next=3;break}return r(),e.abrupt("return");case 3:if(i.reelStopping[t]=!0,s=!1,l=i.resultPattern[t],i.resetReelToTop(t,l),i.blurHide(t),i.tweenSlotStop(t,n,o,(function(){s||r()})),i.mipieList[t]||t===i.reelList.length-1){e.next=16;break}if(!((a=M.SLOT_TIME[k.getInstance().curTurboMode].stopIntervalTime)>0)){e.next=14;break}return e.next=14,E.delay(a);case 14:s=!0,r();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(e,t,o){return n.apply(this,arguments)})},{key:"tweenSlotStop",value:function(e,t,n,o){var i=this,r=this.reelList[e];g(r).to(t,{position:new f(r.x,-10,0)},{easing:d.cubicOut}).call((function(){C.getInstance().playOnceSound(J.reelStop)})).to(n,{position:new f(r.x,0,0)}).call(c(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.reelStopped[e]=!0,i.showHideTopBottomNode(e,!1),r.getChildByName("MiNode_".concat(e)).active=!1,i.reelMainSymbol[e].forEach((function(e){e.onStop()})),e===i.reelList.length-1&&(i.stopMiAll(),w.slotRunFinish.emit()),null==o||o();case 6:case"end":return t.stop()}}),t)})))).start()}},{key:"showHideTopBottomNode",value:function(e,t){this.reelTopSymbol[e].forEach((function(e){e.node.active=t})),this.reelBottomSymbol[e].forEach((function(e){e.node.active=t}))}},{key:"handleMi",value:function(e){if(this.mipieList[e]){this.isRunMi=!0,w.startMi.emit(e);var t=M.SLOT_TIME[k.getInstance().curTurboMode].mipieTime;return{runTime:.9*t,backTime:.1*t}}var n=M.SLOT_TIME[k.getInstance().curTurboMode].stopTime;return{runTime:.8*n,backTime:.2*n}}},{key:"resetReelToTop",value:function(e,t){var n=this.reelList[e],o=this.symbolHeight*this.reelRow[e],i=this.reelRow[e],r=2*this.reelRow[e];v.stopAllByTarget(n);for(var s=n.position.y,l=Math.ceil((o-s)/this.symbolHeight),a=[],c=0;c<i;c++){var h=r-(l-c),u=this.reelSymbols[e][h].symbolID;a.push(u)}for(var p=0;p<this.reelTopSymbol[e].length;p++)this.reelTopSymbol[e][p].setRandomSymbolID();for(var m=0;m<this.reelMainSymbol[e].length;m++)t?this.reelMainSymbol[e][m].setSymbolID(t[m]):this.reelMainSymbol[e][m].setRandomSymbolID();if(this.mipieList[e]){for(var y=0;y<this.reelBottomSymbol[e].length;y++)this.reelBottomSymbol[e][y].setRandomSymbolID();var S=n.getChildByName("MiNode_".concat(e));S.active=!0;for(var g=S.getComponent(b).contentSize.height,d=S.children.length,w=d-i,T=0;T<d;T++){var M=S.children[T].getComponent(L);T<w?M.setRandomSymbolID():M.setSymbolID(a[T-w]),n.position=new f(n.x,o+g,0)}}else{for(var k=0;k<this.reelBottomSymbol[e].length;k++)this.reelBottomSymbol[e][k].setSymbolID(a[k]);n.position=new f(n.x,o,0)}}},{key:"onSlotSkip",value:function(){v.stopAllByTarget(this.node),this.skipUI.off(m.EventType.TOUCH_END,this.onSlotSkip,this);for(var e=M.SLOT_TIME[k.getInstance().curTurboMode].skipStopTime,t=.8*e,n=.2*e,o=0;o<this.reelStopped.length;o++)this.reelStopped[o]||(v.stopAllByTarget(this.reelList[o]),this.reelStopping[o]?this.tweenSlotStop(o,t,n):this.stopSlotRun(o,t,n)),this.mipieList[o]=!1}},{key:"stopMiAll",value:function(){this.isRunMi&&(w.stopMi.emit(),this.isRunMi=!1)}},{key:"blurShow",value:function(e){this.reelSymbols[e].forEach((function(e){e.blurShow()}))}},{key:"blurHide",value:function(e){this.reelSymbols[e].forEach((function(e){e.blurHide()}))}},{key:"onShowSymbolWin",value:function(e){for(var t=Array.from({length:this.allMainSymbols.length},(function(e,t){return t})).filter((function(t){return!e.includes(t)})),n=0;n<e.length;n++){this.allMainSymbols[e[n]].getComponent(L).symbolWin()}for(var o=0;o<t.length;o++){this.allMainSymbols[t[o]].getComponent(L).symbolLose()}}}],[{key:"getInstance",value:function(){return w.instance}},{key:"getSymbolList",value:function(){return w.instance.allMainSymbols}},{key:"getSymbolPosList",value:function(){return w.instance.allMainSymbolPos}}]),w}(w),t(G,"instance",void 0),t(G,"initResultParser",new R),t(G,"slotRun",new P),t(G,"slotStop",new B),t(G,"slotSkip",new B),t(G,"slotRunFinish",new B),t(G,"startMi",new R),t(G,"stopMi",new B),t(G,"showSymbolWin",new R),t(G,"showBlack",new B),t(G,"backBSParser",new R),W=n((z=G).prototype,"reelList",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=n(z.prototype,"scatterLayer",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(z.prototype,"winLayer",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(z.prototype,"skipUI",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(z.prototype,"symbolPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=z))||O));u._RF.pop()}}}));

System.register("chunks:///_virtual/SlotType.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"547c2FMkYtD5pCBY5IfoSiw","SlotType",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/SlowMotionUI.ts",["cc"],(function(){var t;return{setters:[function(o){t=o.cclegacy}],execute:function(){t._RF.push({},"12956PwJxlGwopmtoZ6cJh9","SlowMotionUI",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/spineRunInEditor.ts",["cc"],(function(){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"c2392ATIpZLxrXgqKTfN0UA","spineRunInEditor",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/SpinTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SettingsController.ts","./DataManager.ts","./BaseEvent.ts","./AudioManager.ts","./NetworkManager.ts","./GameTask.ts","./TaskManager.ts","./BaseType.ts","./ReelBlackUI.ts","./WinScoreUI.ts","./AudioKey.ts","./IdleTask.ts","./SlotData.ts"],(function(e){var t,n,a,s,i,r,o,u,c,l,f,d,g,p,k,y,S,h,I,T,m,M;return{setters:[function(e){t=e.inherits,n=e.createSuper,a=e.classCallCheck,s=e.defineProperty,i=e.assertThisInitialized,r=e.createClass,o=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){c=e.cclegacy},function(e){l=e.SettingsController},function(e){f=e.DataManager},function(e){d=e.BaseEvent},function(e){g=e.AudioManager},function(e){p=e.NetworkManager},function(e){k=e.GameTask},function(e){y=e.TaskManager},function(e){S=e.TurboMode},function(e){h=e.ReelBlackUI},function(e){I=e.WinScoreUI},function(e){T=e.AudioKey},function(e){m=e.IdleTask},function(e){M=e.SlotData}],execute:function(){c._RF.push({},"228f28Yyt5IsZSNgrJg+G3A","SpinTask",void 0);e("SpinTask",function(e){t(v,e);var c,k=n(v);function v(){var e;a(this,v);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=k.call.apply(k,[this].concat(n)),s(i(e),"name","BaseSpinTask"),s(i(e),"isBuyFs",!1),s(i(e),"betCredit",0),e}return r(v,[{key:"execute",value:(c=o(u().mark((function e(){var t,n,a=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.getInstance().playSound(T.spinClick),d.buyFeatureEnabled.emit(!1),l.setEnabled.emit(!1),h.hide.emit(),M.fsWildMultiply=1,I.hideWin.emit(),this.isBuyFs&&(f.getInstance().curTurboMode=S.Normal,d.setTurboBtnState.emit(S.Normal)),f.getInstance().isAutoMode&&0===f.getInstance().autoSpinCount&&(f.getInstance().isAutoMode=!1),t=f.getInstance().isBS(),n=this.isBuyFs?1:0,p.getInstance().sendSpin(n,(function(e){if(e){d.onSpinResult.emit(e);var n=f.getInstance().userCredit-a.betCredit;l.refreshCredit.emit(n),f.getInstance().userCredit=n}else t&&y.getInstance().addTask(new m);a.finish()}));case 11:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"update",value:function(e){}}]),v}(k));c._RF.pop()}}}));

System.register("chunks:///_virtual/StopTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SettingsController.ts","./SlotMachine.ts","./BaseEvent.ts","./GameTask.ts","./ReelBlackUI.ts","./GameConst.ts"],(function(t){var e,n,i,s,a,o,r,u,c,l,f,p,h,v;return{setters:[function(t){e=t.inherits,n=t.createSuper,i=t.classCallCheck,s=t.defineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy},function(t){u=t.SettingsController},function(t){c=t.SlotMachine},function(t){l=t.BaseEvent},function(t){f=t.GameTask},function(t){p=t.ReelBlackUI},function(t){h=t.GameConst,v=t.SymbolID}],execute:function(){r._RF.push({},"ba568ALKMlPRqzOnjmbCndB","StopTask",void 0);t("StopTask",function(t){e(f,t);var r=n(f);function f(){var t;i(this,f);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t=r.call.apply(r,[this].concat(n)),s(a(t),"name","StopTask"),s(a(t),"resultPattern",void 0),s(a(t),"freeSpinTimes",void 0),t}return o(f,[{key:"execute",value:function(){var t=this;p.hide.emit(),l.stopLineLoop.emit();var e=this.getMipieList();c.slotRun.emit(this.resultPattern,e),u.setEnabled.emit(!1),c.slotRunFinish.once((function(){t.finish()}),this)}},{key:"getMipieList",value:function(){for(var t=[],e=0,n=0;n<h.REEL_COL;n++){t.push(e>=h.SCATTER_WIN_COUNT-1);for(var i=0;i<h.REEL_ROW;i++){this.resultPattern[n][i]===v.Scatter&&e++}}return t}},{key:"update",value:function(t){}}]),f}(f));r._RF.pop()}}}));

System.register("chunks:///_virtual/SuperSpin.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"a1875Bz3SBA1KxVrA/N0AGu","SuperSpin",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Symbol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioKey.ts","./GameConst.ts","./SlotData.ts","./BaseSymbol.ts","./SlotMachine.ts","./DataManager.ts","./AudioManager.ts","./Utils.ts"],(function(t){var e,i,n,s,o,a,r,l,c,h,u,m,y,p,d,b,S,g,v,f,I,D,L,F,C,w,k,B,M,H;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inherits,n=t.createSuper,s=t.classCallCheck,o=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.defineProperty,l=t.createClass,c=t.asyncToGenerator,h=t.regeneratorRuntime},function(t){u=t.cclegacy,m=t._decorator,y=t.SpriteFrame,p=t.sp,d=t.Sprite,b=t.Label,S=t.Tween,g=t.tween,v=t.Vec3,f=t.UIOpacity,I=t.instantiate},function(t){D=t.AudioKey},function(t){L=t.SymbolID,F=t.FISH_ODDS},function(t){C=t.SlotData},function(t){w=t.BaseSymbol},function(t){k=t.SlotMachine},function(t){B=t.DataManager},function(t){M=t.AudioManager},function(t){H=t.Utils}],execute:function(){var A,W,N,P,T,O,z,R,_;u._RF.push({},"689e3zu3EpJ6qMyLrF44YjB","Symbol",void 0);var K=new Map([[L.Wild,0],[L.H1,1],[L.H2,2],[L.H3,3],[L.H4,4],[L.F1,5],[L.F2,6],[L.F3,7],[L.F4,8],[L.F5,9],[L.F6,10],[L.F7,11],[L.F8,12],[L.LA,13],[L.LK,14],[L.LQ,15],[L.LJ,16],[L.LT,17],[L.Scatter,18]]),J=new Map([[L.Wild,"animation"],[L.H1,"H1"],[L.H2,"H2"],[L.H3,"H3"],[L.H4,"H4"],[L.F1,"F1"],[L.F2,"F2"],[L.F3,"F3"],[L.F4,"F4"],[L.F5,"F5"],[L.F6,"F6"],[L.F7,"F7"],[L.F8,"F8"],[L.LA,"LA"],[L.LK,"LK"],[L.LQ,"LQ"],[L.LJ,"LJ"],[L.LT,"LT"],[L.Scatter,"animation"]]),x=m.ccclass,Q=m.property;t("Symbol",(A=x("Symbol"),W=Q({type:y}),N=Q({type:y}),P=Q({type:p.SkeletonData}),A((z=e((O=function(t){i(m,t);var e,u=n(m);function m(){var t;s(this,m);for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t=u.call.apply(u,[this].concat(i)),o(a(t),"normalImageList",z,a(t)),o(a(t),"blurImageList",R,a(t)),o(a(t),"spineDataList",_,a(t)),r(a(t),"symIDLabel",void 0),r(a(t),"posIDLabel",void 0),r(a(t),"blur",void 0),r(a(t),"normal",void 0),r(a(t),"spine",void 0),r(a(t),"score",void 0),r(a(t),"multiply",void 0),r(a(t),"normalSymbolID",[1,2,3,4,5,6,7,8,9,10,15,16,17,18,19]),r(a(t),"specialSymbolID",[0,16]),r(a(t),"specialRate",.1),r(a(t),"wildScore",0),t}return l(m,[{key:"onLoad",value:function(){var t=this;this.blur=this.node.getChildByName("Blur").getComponent(d),this.normal=this.node.getChildByName("Normal").getComponent(d),this.symIDLabel=this.node.getChildByName("symIDLabel").getComponent(b),this.posIDLabel=this.node.getChildByName("posIDLabel").getComponent(b),this.spine=this.node.getChildByName("Spine").getComponent(p.Skeleton),this.score=this.node.getChildByName("Score"),this.multiply=this.node.getChildByName("Multiply"),k.startMi.on((function(e){t.isScatter()&&t.isStop&&(t.node.parent=t.scatterLayer.children[t.posID],t.spine.setAnimation(0,J.get(t.symbolID),!0))}),this),k.stopMi.on((function(){t.isScatter()&&(S.stopAllByTarget(t.node),t.reset())}),this),this.reset()}},{key:"setRandomSymbolID",value:function(){Math.random()<this.specialRate?this.symbolID=this.specialSymbolID[Math.floor(Math.random()*this.specialSymbolID.length)]:this.symbolID=this.normalSymbolID[Math.floor(Math.random()*this.normalSymbolID.length)],this.setSymbolID(this.symbolID)}},{key:"setSymbolID",value:function(t){this.symbolID=t;var e=K.get(t);if(this.spine.skeletonData=this.spineDataList[e],this.normal.spriteFrame=this.normalImageList[e],this.blur.spriteFrame=this.blurImageList[e],this.isScatter()&&this.isStop?this.node.parent=this.scatterLayer.children[this.posID]:this.node.parent=this.parentNode,this.multiply.active=!1,this.isWild()){var i=C.fsWildMultiply;i>1&&(this.multiply.getChildByName("Label").getComponent(b).string="x".concat(i),this.multiply.active=!0),this.wildScore=0,this.score.active=!1}this.setScoreState()}},{key:"onSpin",value:function(){this.isStop=!1,this.reset()}},{key:"onStop",value:function(){this.isScatter()&&(M.getInstance().playSound(D.scatterShow),g(this.node).to(.2,{scale:new v(1.3,1.3,1)},{easing:"sineOut"}).to(.5,{scale:new v(1,1,1)},{easing:"bounceOut"}).start()),this.isWild()&&!B.getInstance().isBS()&&M.getInstance().playSound(D.wildShow),this.isStop=!0}},{key:"blurShow",value:function(){this.blur.node.active||(H.fadeIn(this.blur.node,.05,0,255),this.blur.node.active=!0,H.fadeOut(this.normal.node,.05,255,150))}},{key:"blurHide",value:function(){var t=this;this.blur.node.active&&(H.fadeIn(this.normal.node,.05,150,255),H.fadeOut(this.blur.node,.2,255,0,(function(){t.blur.node.active=!1})))}},{key:"symbolWin",value:function(){this.spine.node.active=!0,this.normal.node.active=!1,this.node.parent=this.winLayer.children[this.posID];var t=J.get(this.symbolID);this.spine.timeScale=this.isWild()||this.isScatter()?1:2,this.spine.setAnimation(0,t,!0)}},{key:"showWildScore",value:function(t){M.getInstance().playSound(D.wildCash),this.score.active||(this.score.active=!0,this.score.getComponent(f).opacity=255),this.score.getChildByPath("numLayout/currency").getComponent(b).string=H.getCurrencySymbol(),this.score.getChildByPath("numLayout/Label").getComponent(b).string=H.numberFormat(t),g(this.score).to(.1,{scale:new v(1.4,1.4,1)}).to(.2,{scale:new v(1,1,1)}).start()}},{key:"wildScoreFinish",value:(e=c(h().mark((function t(e){var i=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(i.multiply.active){var n=I(i.multiply);n.setParent(i.node);var s=n.getChildByName("ani_multiply").getComponent(p.Skeleton);s.node.active=!0,s.setAnimation(0,"hitbubble",!1);var o=i.score.position;g(n).to(.4,{position:o},{easing:"sineIn"}).call((function(){s.setAnimation(0,"light",!1)})).to(.1,{scale:new v(1.2,1.2,1)}).call((function(){H.fadeOut(n,.2,255,0,(function(){n.destroy()}));var s=C.fsWildMultiply,o=e*s;i.showWildScore(o),t()})).start()}else i.showWildScore(e),t()})));case 1:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})},{key:"symbolLose",value:function(){this.reset()}},{key:"reset",value:function(){this.node.setScale(1,1,1),this.node.parent=this.parentNode,this.normal.node.active=!0,this.spine.node.active=!1,this.blur.node.active=!1}},{key:"backBS",value:function(t){this.reset(),this.setSymbolID(t)}},{key:"setIsMi",value:function(t){}},{key:"isScatter",value:function(){return this.symbolID===L.Scatter}},{key:"isWild",value:function(){return this.symbolID===L.Wild}},{key:"setScoreState",value:function(){if(this.symbolID>=L.F1&&this.symbolID<=L.F6){this.score.active=!0;var t=B.getInstance().isBS();this.score.getComponent(f).opacity=t?128:255;var e=B.getInstance().bet.getBetTotal(),i=F[this.symbolID]*e;this.score.getChildByPath("numLayout/currency").getComponent(b).string=H.getCurrencySymbol(),this.score.getChildByPath("numLayout/Label").getComponent(b).string=H.numberFormat(i)}else this.score.active=!1}}]),m}(w)).prototype,"normalImageList",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(O.prototype,"blurImageList",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(O.prototype,"spineDataList",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=O))||T));u._RF.pop()}}}));

System.register("chunks:///_virtual/SymbolData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseSymbolData.ts"],(function(t){var a,e,r,c,o,n,s;return{setters:[function(t){a=t.inherits,e=t.createSuper,r=t.classCallCheck,c=t.createClass},function(t){o=t.cclegacy,n=t._decorator},function(t){s=t.BaseSymbolData}],execute:function(){var l;o._RF.push({},"391d7rF/qdA64eInoeFzHO4","SymbolData",void 0);var u=n.ccclass;n.property,t("SymbolData",u("SymbolData")(l=function(t){a(n,t);var o=e(n);function n(){return r(this,n),o.apply(this,arguments)}return c(n)}(s))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/TaskManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./XEvent.ts"],(function(s){var t,e,n,a,i;return{setters:[function(s){t=s.createClass,e=s.defineProperty,n=s.classCallCheck},function(s){a=s.cclegacy},function(s){i=s.XEvent1}],execute:function(){a._RF.push({},"2765dNYAp5BWJ+Iha1hyqmA","TaskManager",void 0);var u=s("TaskManager",function(){function s(){n(this,s),e(this,"finishEvent",new i),e(this,"tasks",[]),e(this,"curTask",void 0),this.finishEvent.on(this.onFinishTask,this)}return t(s,[{key:"addTask",value:function(s){this.tasks.push(s),this.curTask||(this.curTask=this.tasks.shift())}},{key:"update",value:function(s){this.curTask&&(!1===this.curTask.executed?this.curTask.baseExecute():this.curTask.update(s))}},{key:"onFinishTask",value:function(s){s==this.curTask&&this.doNextTask()}},{key:"doNextTask",value:function(){this.curTask=this.tasks.shift(),this.curTask&&this.curTask.baseExecute()}}],[{key:"getInstance",value:function(){return s.instance||(s.instance=new s),s.instance}}]),s}());e(u,"instance",void 0),a._RF.pop()}}}));

System.register("chunks:///_virtual/TimeUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,a,r,o,s,c,l,u;return{setters:[function(e){t=e.inherits,n=e.createSuper,i=e.classCallCheck,a=e.defineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,c=e._decorator,l=e.Label,u=e.Component}],execute:function(){var v;s._RF.push({},"eb40eu/sQNOtoe3v9kSSdwU","TimeUI",void 0);var d=c.ccclass;c.property,e("TimeUI",d("TimeUI")(v=function(e){t(c,e);var s=n(c);function c(){var e;i(this,c);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=s.call.apply(s,[this].concat(n)),a(r(e),"timeInterval",null),a(r(e),"onVisibilityChange",(function(){document.hidden||e.updateTime()})),e}return o(c,[{key:"onLoad",value:function(){var e=this;this.updateTime(),this.timeInterval=setInterval((function(){e.updateTime()}),1e3),document.addEventListener("visibilitychange",this.onVisibilityChange,!1)}},{key:"updateTime",value:function(){var e=new Date,t=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0"),i=String(e.getSeconds()).padStart(2,"0"),a="".concat(t,":").concat(n,":").concat(i);this.node.getComponent(l).string=a}},{key:"onDestroy",value:function(){this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null),document.removeEventListener("visibilitychange",this.onVisibilityChange,!1)}}]),c}(u))||v);s._RF.pop()}}}));

System.register("chunks:///_virtual/TotalWinTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotMachine.ts","./BaseEvent.ts","./GameTask.ts","./BaseType.ts","./FreeGameUI.ts","./ReelBlackUI.ts","./TotalWinUI.ts","./SlotData.ts"],(function(e){var t,i,n,a,s,o,c,l,r,u,f,h,p,T,k;return{setters:[function(e){t=e.inherits,i=e.createSuper,n=e.classCallCheck,a=e.defineProperty,s=e.assertThisInitialized,o=e.createClass},function(e){c=e.cclegacy},function(e){l=e.SlotMachine},function(e){r=e.BaseEvent},function(e){u=e.GameTask},function(e){f=e.ModuleID},function(e){h=e.FreeGameUI},function(e){p=e.ReelBlackUI},function(e){T=e.TotalWinUI},function(e){k=e.SlotData}],execute:function(){c._RF.push({},"e1e1djqQihOVpvslTlby2iu","TotalWinTask",void 0);e("TotalWinTask",function(e){t(u,e);var c=i(u);function u(){var e;n(this,u);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=c.call.apply(c,[this].concat(i)),a(s(e),"name","TotalWinTask"),a(s(e),"totalWin",void 0),a(s(e),"backBSParser",void 0),a(s(e),"totalFreeSpinTimes",void 0),e}return o(u,[{key:"execute",value:function(){var e=this;T.show.emit(this.totalWin,this.totalFreeSpinTimes,(function(){r.stopLineLoop.emit(),p.hide.emit(),r.changeScene.emit(f.BS),h.hide.emit(),k.fsWildMultiply=1,l.backBSParser.emit(e.backBSParser)}),(function(){e.finish()}))}},{key:"update",value:function(e){}}]),u}(u));c._RF.pop()}}}));

System.register("chunks:///_virtual/TotalWinUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseEvent.ts","./XEvent.ts","./AudioManager.ts","./Utils.ts","./AudioKey.ts"],(function(t){var n,e,i,o,a,s,u,l,r,c,h,m,d,f,p,w,y,C,v,g,T,_;return{setters:[function(t){n=t.defineProperty,e=t.inherits,i=t.createSuper,o=t.classCallCheck,a=t.assertThisInitialized,s=t.createClass,u=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){r=t.cclegacy,c=t._decorator,h=t.sp,m=t.Label,d=t.tween,f=t.Component,p=t.Button,w=t.KeyCode,y=t.Tween},function(t){C=t.BaseEvent},function(t){v=t.XEvent4},function(t){g=t.AudioManager},function(t){T=t.Utils},function(t){_=t.AudioKey}],execute:function(){var b,L;r._RF.push({},"645bcfn6zNPG7brTIemtz7C","TotalWinUI",void 0);var k=function(t){return t.totalWin_loop="totalWin_loop",t.totalWin_in="totalWin_in",t}(k||{}),B=c.ccclass;t("TotalWinUI",B("TotalWinUI")((L=function(t){e(v,t);var r,c,f=i(v);function v(){var t;o(this,v);for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return t=f.call.apply(f,[this].concat(i)),n(a(t),"totalwin_ani",void 0),n(a(t),"num_totalwin",void 0),n(a(t),"currencyLabel",void 0),n(a(t),"totalTimesLabel",void 0),n(a(t),"showTime",void 0),n(a(t),"sens",void 0),n(a(t),"runNum",{curValue:0,finalValue:0}),n(a(t),"countdown",{curTime:0,finalTime:10}),n(a(t),"cbComplete",void 0),t}return s(v,[{key:"onLoad",value:function(){this.totalwin_ani=this.node.getChildByName("totalwin_ani").getComponent(h.Skeleton),this.currencyLabel=this.node.getChildByPath("totalwin_ani/Content/numLayout/currency").getComponent(m),this.num_totalwin=this.node.getChildByPath("totalwin_ani/Content/numLayout/num_totalwin").getComponent(m),this.totalTimesLabel=this.node.getChildByPath("totalwin_ani/Content/totalTimes/Label").getComponent(m),this.showTime=this.node.getChildByPath("totalwin_ani/Content/Layout/ShowTime").getComponent(m),this.sens=this.node.getChildByName("Sens"),v.show.on(this.show,this),this.node.active=!1}},{key:"show",value:(c=u(l().mark((function t(n,e,i,o){var a=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.node.active=!0,T.fadeIn(this.node,.3,0,255),this.totalTimesLabel.string=e.toString(),this.currencyLabel.string=T.getCurrencySymbol(),this.cbComplete=o,this.num_totalwin.string="",this.totalwin_ani.setAnimation(0,k.totalWin_in,!1),this.totalwin_ani.addAnimation(0,k.totalWin_loop,!0),this.runNum.curValue=0,this.runNum.finalValue=n,g.getInstance().playSound(_.totalWin),T.runNumber(1.5,this.num_totalwin,this.runNum),this.runCountdown(),t.next=15,T.delay(1);case 15:null==i||i(),this.sens.once(p.EventType.CLICK,this.onComplete,this),C.keyDown.once((function(t){t===w.SPACE&&a.onComplete()}),this);case 18:case"end":return t.stop()}}),t,this)}))),function(t,n,e,i){return c.apply(this,arguments)})},{key:"runCountdown",value:function(){var t=this;this.showTime.string=this.countdown.finalTime.toString(),this.countdown.curTime=this.countdown.finalTime,d(this.countdown).to(this.countdown.finalTime,{curTime:0},{onUpdate:function(){t.showTime.string=Math.ceil(t.countdown.curTime).toString()},onComplete:function(){t.onComplete()}}).start()}},{key:"onComplete",value:(r=u(l().mark((function t(){var n=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.sens.off(p.EventType.CLICK,this.onComplete,this),C.keyDown.off(this),y.stopAllByTarget(this.runNum),y.stopAllByTarget(this.countdown),this.num_totalwin.getComponent(m).string=T.numberFormat(this.runNum.finalValue),t.next=7,T.delay(1);case 7:T.fadeOut(this.node,.3,255,0,(function(){var t;n.node.active=!1,null===(t=n.cbComplete)||void 0===t||t.call(n)}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"onDestroy",value:function(){v.show.off(this)}}]),v}(f),n(L,"show",new v),b=L))||b);r._RF.pop()}}}));

System.register("chunks:///_virtual/TransTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SettingsController.ts","./DataManager.ts","./BaseEvent.ts","./AudioManager.ts","./GameTask.ts","./BaseType.ts","./FeatureBuyBtn.ts","./FreeGameUI.ts","./AudioKey.ts","./TransUI.ts"],(function(e){var t,n,i,s,a,r,u,o,c,l,f,T,p,d,g,h,m;return{setters:[function(e){t=e.inherits,n=e.createSuper,i=e.classCallCheck,s=e.defineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){u=e.cclegacy},function(e){o=e.SettingsController},function(e){c=e.DataManager},function(e){l=e.BaseEvent},function(e){f=e.AudioManager},function(e){T=e.GameTask},function(e){p=e.ModuleID},function(e){d=e.FeatureBuyBtn},function(e){g=e.FreeGameUI},function(e){h=e.AudioKey},function(e){m=e.TransUI}],execute:function(){u._RF.push({},"48e28UdXSBMbLLnz++IUJZH","TransTask",void 0);e("TransTask",function(e){t(T,e);var u=n(T);function T(){var e;i(this,T);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=u.call.apply(u,[this].concat(n)),s(a(e),"name","TransTask"),s(a(e),"freeSpinTimes",0),s(a(e),"isFirstTrans",!0),s(a(e),"wildMultiplier",0),s(a(e),"timer",{curTime:0,finalTime:10}),e}return r(T,[{key:"execute",value:function(){var e=this;this.isFirstTrans&&(c.getInstance().curModuleID=p.FG,f.getInstance().playMusic(h.bgmFg),d.hide.emit(),c.getInstance().isAutoMode&&0===c.getInstance().autoSpinCount&&(c.getInstance().isAutoMode=!1)),o.updateFreeSpinCount.emit(this.freeSpinTimes),m.show.emit(this.freeSpinTimes,this.wildMultiplier,(function(){e.isFirstTrans&&(l.changeScene.emit(p.FG),g.show.emit())}),(function(){e.finish()}))}},{key:"update",value:function(e){}}]),T}(T));u._RF.pop()}}}));

System.register("chunks:///_virtual/TransUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioKey.ts","./DataManager.ts","./BaseEvent.ts","./XEvent.ts","./BundleLoader.ts","./AudioManager.ts","./Utils.ts"],(function(e){var t,n,i,o,s,a,c,r,u,h,l,d,f,g,p,m,v,w,C,y,_,T,S,k,L,B;return{setters:[function(e){t=e.defineProperty,n=e.inherits,i=e.createSuper,o=e.classCallCheck,s=e.assertThisInitialized,a=e.createClass,c=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){u=e.cclegacy,h=e._decorator,l=e.sp,d=e.Label,f=e.Sprite,g=e.tween,p=e.Component,m=e.Button,v=e.KeyCode,w=e.Tween},function(e){C=e.AudioKey},function(e){y=e.DataManager},function(e){_=e.BaseEvent},function(e){T=e.XEvent4,S=e.XEvent},function(e){k=e.BundleLoader},function(e){L=e.AudioManager},function(e){B=e.Utils}],execute:function(){var b,I;u._RF.push({},"81b0dFV+LdE8qKAkOuYeyQ8","TransUI",void 0);var x=function(e){return e.fg_loop="fg_loop",e.fg_in="fg_in",e}(x||{}),A=h.ccclass;h.property,e("TransUI",A("TransUI")((I=function(e){n(T,e);var u,h,p=i(T);function T(){var e;o(this,T);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=p.call.apply(p,[this].concat(i)),t(s(e),"cutscene_ani",void 0),t(s(e),"num_freeSpin",void 0),t(s(e),"showTime",void 0),t(s(e),"wildNode",void 0),t(s(e),"wildLabel",void 0),t(s(e),"countdown",{curTime:0,finalTime:10}),t(s(e),"sens",void 0),t(s(e),"cbComplete",void 0),e}return a(T,[{key:"onLoad",value:function(){this.setLanguage(),this.cutscene_ani=this.node.getChildByName("cutscene_ani").getComponent(l.Skeleton),this.num_freeSpin=this.node.getChildByPath("cutscene_ani/Content/num_freeSpin").getComponent(d),this.showTime=this.node.getChildByPath("cutscene_ani/Content/Layout/ShowTime").getComponent(d),this.wildNode=this.node.getChildByPath("cutscene_ani/Content/Wild"),this.wildLabel=this.wildNode.getChildByName("Label").getComponent(d),this.sens=this.node.getChildByName("Sens"),T.show.on(this.show,this),this.node.active=!1,this.wildNode.active=!1}},{key:"setLanguage",value:function(){var e=this,t=y.getInstance().urlParam.lang;k.onLoaded("language","".concat(t,"/texture"),(function(t){e.node.getChildByPath("cutscene_ani/ribbon/tx_get").getComponent(f).spriteFrame=t.tx_get,e.node.getChildByPath("cutscene_ani/Content/tx_getFree").getComponent(f).spriteFrame=t.tx_getFree}))}},{key:"show",value:(h=c(r().mark((function e(t,n,i,o){var s=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L.getInstance().editMusicVolume(.1),L.getInstance().playSound(C.bgTrans),L.getInstance().playSound(C.trans),this.node.active=!0,n>1?(this.wildNode.active=!0,this.wildLabel.string="x".concat(n)):this.wildNode.active=!1,this.cbComplete=o,B.fadeIn(this.node,.3,0,255),this.cutscene_ani.setAnimation(0,x.fg_in,!1),this.cutscene_ani.addAnimation(0,x.fg_loop,!0),this.num_freeSpin.string=t.toString(),this.runCountdown(),e.next=13,B.delay(1);case 13:null==i||i(),this.sens.once(m.EventType.CLICK,this.onComplete,this),_.keyDown.once((function(e){e==v.SPACE&&s.onComplete()}),this);case 16:case"end":return e.stop()}}),e,this)}))),function(e,t,n,i){return h.apply(this,arguments)})},{key:"runCountdown",value:function(){var e=this;this.showTime.string=this.countdown.finalTime.toString(),this.countdown.curTime=this.countdown.finalTime,g(this.countdown).to(this.countdown.finalTime,{curTime:0},{onUpdate:function(){e.showTime.string=Math.ceil(e.countdown.curTime).toString()},onComplete:function(){e.onComplete()}}).start()}},{key:"onComplete",value:(u=c(r().mark((function e(){var t=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L.getInstance().editMusicVolume(1),L.getInstance().stopSound(C.bgTrans),this.sens.off(m.EventType.CLICK,this.onComplete,this),_.keyDown.off(this),w.stopAllByTarget(this.countdown),this.showTime.string="0",B.fadeOut(this.node,.3,255,0,(function(){var e;t.node.active=!1,null===(e=t.cbComplete)||void 0===e||e.call(t)}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"onDestroy",value:function(){T.show.off(this),T.click.off(this)}}]),T}(p),t(I,"show",new T),t(I,"click",new S),b=I))||b);u._RF.pop()}}}));

System.register("chunks:///_virtual/UIPromotionTips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./LanguageLabel.ts","./i18n.ts"],(function(e){var t,n,r,o,a,i,s,c,p,u,l,h,m,d,g,f,T,v,D,y,k,b;return{setters:[function(e){t=e.defineProperty,n=e.inherits,r=e.createSuper,o=e.classCallCheck,a=e.assertThisInitialized,i=e.createClass,s=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){p=e.cclegacy,u=e._decorator,l=e.Node,h=e.Label,m=e.Sprite,d=e.Button,g=e.Toggle,f=e.sys,T=e.Component,v=e.EventTarget},function(e){D=e.DATA_TYPE,y=e.Utils},function(e){k=e.LanguageLabel},function(e){b=e.i18n}],execute:function(){var w,E;p._RF.push({},"0b55bzkizJKprSspodkJF3O","UIPromotionTips",void 0);var _=u.ccclass;u.property,e("UIPromotionTips",_("UIPromotionTips")((E=function(e){n(P,e);var p,u,T,w,E,_=r(P);function P(){var e,n,r,i,s,c,p,u,f,T;o(this,P);for(var v=arguments.length,y=new Array(v),b=0;b<v;b++)y[b]=arguments[b];return T=_.call.apply(_,[this].concat(y)),t(a(T),"onloadData",{content:{node:(e={},t(e,D.TYPE,l),t(e,D.NODE_PATH,"Content"),e),title:(n={},t(n,D.TYPE,k),t(n,D.NODE_PATH,"Content/Title"),n),name:(r={},t(r,D.TYPE,h),t(r,D.NODE_PATH,"Content/Name"),r),time:(i={},t(i,D.TYPE,h),t(i,D.NODE_PATH,"Content/Time"),i),reward:(s={},t(s,D.TYPE,h),t(s,D.NODE_PATH,"Content/Reward/value"),s),date:(c={},t(c,D.TYPE,h),t(c,D.NODE_PATH,"Content/Date/value"),c),mask:(p={},t(p,D.TYPE,m),t(p,D.NODE_PATH,"Mask"),p)},buttons:{confirm:(u={},t(u,D.TYPE,d),t(u,D.NODE_PATH,"Content/Confirm"),t(u,D.CLICK_EVENT,T.clickConfirm),u),toggle:(f={},t(f,D.TYPE,g),t(f,D.NODE_PATH,"Content/Toggle/Toggle"),t(f,D.CLICK_EVENT,T.clickToggle),f)}}),t(a(T),"properties",{lastData:null,openEvent:null}),t(a(T),"promotionData",[]),t(a(T),"promotionTypeTitle",{0:"281",1:"283",2:"0"}),T}return i(P,[{key:"onLoad",value:function(){this.node.setPosition(0,0,0),P.Instance=this,y.initData(this.onloadData,this),this.node.active=!1}},{key:"closeUI",value:(E=s(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.commonFadeIn(this.node,!0),e.next=3,y.commonActiveUITween(this.properties.content.node.node,!1);case 3:this.node.active=!1,this.properties.openEvent.emit("done");case 5:case"end":return e.stop()}}),e,this)}))),function(){return E.apply(this,arguments)})},{key:"openUI",value:(w=s(c().mark((function e(){var t,n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:0,this.properties.is_ready=!1,null!=this.promotionData&&0!=this.promotionData.length){e.next=4;break}return e.abrupt("return");case 4:if(n=this.promotionData[t],0!=this.displayContent(n)){e.next=7;break}return e.abrupt("return");case 7:return this.properties.openEvent=new v,this.node.active=!0,y.commonFadeIn(this.node,!1),this.rollingReward(),e.next=13,y.commonActiveUITween(this.properties.content.node.node,!0,!0);case 13:return this.keepDisplayTimeMessage(),this.properties.is_ready=!0,e.next=17,y.delayEvent(this.properties.openEvent);case 17:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"displayContent",value:function(e){if(null==e)return!1;if(null==e.budget||0===e.budget)return!1;var t=(new Date).getTime();if(t>new Date(e.end_date).getTime())return!1;if(t<new Date(e.begin_date).getTime())return!1;var n=this.promotionTypeTitle[e.promotion_type];if(null==n)return!1;if(!0===this.getStorageToday(e.promotion_id))return!1;var r=e.begin_date.split(" ")[0],o=e.end_date.split(" ")[0],a=y.numberFormat(e.budget/2);return this.properties.content.title.component.string=b.getContent("default",n),this.properties.content.name.component.string=e.promotion_name,this.properties.content.reward.component.string="".concat(a," ").concat(e.currency),this.properties.content.date.component.string="".concat(r," ~ ").concat(o),this.properties.lastData=e,this.properties.content.time.component.string=this.getTimeMessage(),!0}},{key:"rollingReward",value:(T=s(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.properties.content.reward.component,n=this.properties.lastData.budget,r=this.properties.lastData.currency,e.next=5,y.commonTweenNumber(t,n/2,n,1,(function(e){return"".concat(y.numberFormat(e)," ").concat(r)}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return T.apply(this,arguments)})},{key:"keepDisplayTimeMessage",value:(u=s(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=this.node.active){e.next=2;break}return e.abrupt("return");case 2:return this.properties.content.time.component.string=this.getTimeMessage(),e.next=5,y.delay(1e3);case 5:this.keepDisplayTimeMessage();case 6:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getTimeMessage",value:function(){if(null==this.properties.lastData)return"00d:00h:00m:00s";var e=(new Date).getTime(),t=new Date(this.properties.lastData.end_date).getTime();if(e>t)return"00d:00h:00m:00s";var n=Math.floor((t-e)/1e3),r=Math.floor(n/86400);n-=86400*r;var o=Math.floor(n/3600);n-=3600*o;var a=Math.floor(n/60);return n-=60*a,"".concat(r,"d:").concat(o,"h:").concat(a,"m:").concat(n,"s")}},{key:"clickConfirm",value:function(){!1!==this.properties.is_ready&&(this.closeUI(),!1!==this.properties.buttons.toggle.component.isChecked&&this.saveStorageToday(this.properties.lastData.promotion_id))}},{key:"saveStorageToday",value:function(e){var t=this.formatDateToYYYYMMDD(Date.now());f.localStorage.setItem(e,t)}},{key:"getStorageToday",value:function(e){return f.localStorage.getItem(e)===this.formatDateToYYYYMMDD(Date.now())}},{key:"clickToggle",value:function(){}},{key:"formatDateToYYYYMMDD",value:function(e){var t=new Date(e),n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0");return"".concat(n,"-").concat(r,"-").concat(o)}}],[{key:"DisplayPromotion",value:(p=s(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&0!=t.length){e.next=2;break}return e.abrupt("return");case 2:if(null!=P.Instance){e.next=4;break}return e.abrupt("return");case 4:(n=P.Instance).promotionData=t,r=0;case 7:if(!(r<t.length)){e.next=13;break}return e.next=10,n.openUI(r);case 10:r++,e.next=7;break;case 13:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})}]),P}(T),t(E,"Instance",null),w=E))||w);p._RF.pop()}}}));

System.register("chunks:///_virtual/UpdateFreeTimesTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SettingsController.ts","./GameTask.ts","./SlotData.ts"],(function(e){var t,i,n,r,s,a,l,u,c,o,p,f;return{setters:[function(e){t=e.inherits,i=e.createSuper,n=e.classCallCheck,r=e.defineProperty,s=e.assertThisInitialized,a=e.createClass,l=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){c=e.cclegacy},function(e){o=e.SettingsController},function(e){p=e.GameTask},function(e){f=e.SlotData}],execute:function(){c._RF.push({},"859belsH51HYpIkcibuc+N6","UpdateFreeTimesTask",void 0);e("UpdateFreeTimesTask",function(e){t(d,e);var c,p=i(d);function d(){var e;n(this,d);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=p.call.apply(p,[this].concat(i)),r(s(e),"name","UpdateFreeTimesTask"),r(s(e),"wildMultiplier",0),r(s(e),"freeSpinTimes",void 0),e}return a(d,[{key:"execute",value:(c=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.wildMultiplier>0&&(f.fsWildMultiply=this.wildMultiplier),o.updateFreeSpinCount.emit(this.freeSpinTimes),this.finish();case 3:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"update",value:function(e){}}]),d}(p));c._RF.pop()}}}));

System.register("chunks:///_virtual/UrlParam.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,s,i;return{setters:[function(e){t=e.createClass,r=e.classCallCheck,s=e.defineProperty},function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"2e08dtX0TFJurKK2wpi/MQh","UrlParam",void 0);e("UrlParam",function(){function e(){r(this,e),s(this,"token",""),s(this,"gameId",0),s(this,"lang",""),s(this,"betRecordUrl",""),s(this,"homeUrl",""),s(this,"mode",""),s(this,"serverUrl",""),s(this,"b","")}return t(e,[{key:"initUrlParameters",value:function(){var e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e)this.token="testtokenUSD5800",this.gameId=5800,this.lang="zh-cn",this.betRecordUrl="https://gc.ifun7.vip/betrecord/",this.homeUrl="",this.mode="0",this.serverUrl="https://gs.ifun7.vip",this.b="iqazwsxi";else{var t=new URLSearchParams(window.location.search);this.token=t.get(n.TOKEN)||"",this.gameId=parseInt(t.get(n.GAME_ID)||"0"),this.lang=t.get(n.LANGUAGE)||"",this.betRecordUrl=t.get(n.BET_RECORD_URL)||"",this.homeUrl=t.get(n.HOME_URL)||"",this.mode=t.get(n.MODE)||"",this.serverUrl=t.get(n.SERVER_URL)||"",this.b=t.get(n.B)||""}}}]),e}());var n=function(e){return e.TOKEN="token",e.GAME_ID="gameid",e.LANGUAGE="lang",e.BET_RECORD_URL="betrecordurl",e.HOME_URL="homeurl",e.MODE="mode",e.SERVER_URL="serverurl",e.B="b",e}(n||{});i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseConfig.ts"],(function(e){var n,t,r,a,u,o,l,c,i,s,v,f,p,d,h,g,y,E,m,C,k,T,b;return{setters:[function(e){n=e.createClass,t=e.defineProperty,r=e.classCallCheck,a=e.toConsumableArray,u=e.defineAccessor,o=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){c=e.cclegacy,i=e._decorator,s=e.Vec3,v=e.Color,f=e.Component,p=e.tween,d=e.UIOpacity,h=e.Scheduler,g=e.director,y=e.resources,E=e.JsonAsset,m=e.Node,C=e.game,k=e.find,T=e.EventTarget},function(e){b=e.BaseConfig}],execute:function(){e("addBtnClickEvent",(function(e,n,t,r,a){var u=new f.EventHandler;u.target=e,u.component=n,u.handler=r,a&&(u.customEventData=a);t.clickEvents.push(u)})),c._RF.push({},"a6c36p+FfhPDqe4SLwlMU8R","Utils",void 0);i.ccclass,i.property;var N=e("Utils",function(){function e(){r(this,e)}var c,i,f,N,w,O;return n(e,null,[{key:"numberFormat",value:function(n){var t=b.DecimalPlaces;return e.accMul(n,1).toLocaleString("en",{minimumFractionDigits:t,maximumFractionDigits:t})}},{key:"numberFormatCurrency",value:function(n){return b.CurrencySymbol+e.numberFormat(n)}},{key:"getCurrencySymbol",value:function(){return b.CurrencySymbol}},{key:"runNumber",value:function(n,t,r,a){p(r).to(n,{curValue:r.finalValue},{onUpdate:function(){t.string=e.numberFormat(r.curValue)},easing:e.noisyEasing}).call((function(){null==a||a()})).start()}},{key:"runNumberCurrency",value:function(n,t,r){p(r).to(n,{curValue:r.finalValue},{onUpdate:function(){t.string=e.numberFormatCurrency(r.curValue)},easing:e.noisyEasing}).call((function(){t.string=e.numberFormatCurrency(r.curValue)})).start()}},{key:"accNumber",value:function(n){return e.accMul(n,1)}},{key:"accMul",value:function(e,n){var t="".concat(e),r="".concat(n),a=0,u=t.split(".")[1],o=r.split(".")[1];return a+=u?u.length:0,a+=o?o.length:0,+t.replace(".","")*+r.replace(".","")/Math.pow(10,a)}},{key:"accDiv",value:function(n,t){var r,a,u="".concat(n),o="".concat(t),l=(null===(r=u.split(".")[1])||void 0===r?void 0:r.length)||0,c=(null===(a=o.split(".")[1])||void 0===a?void 0:a.length)||0,i=+u.replace(".",""),s=+o.replace(".","");return e.accMul(i/s,+"1e".concat(c-l))}},{key:"accAdd",value:function(n,t){var r,a=0,u=0;try{a=n.toString().split(".")[1].length}catch(e){}try{u=t.toString().split(".")[1].length}catch(e){}return r=Math.pow(10,Math.max(a,u)),(e.accMul(n,r)+e.accMul(t,r))/r}},{key:"fadeIn",value:function(e,n,t,r,a){null==e.getComponent(d)&&e.addComponent(d),e.getComponent(d).opacity=t,p(e.getComponent(d)).to(n,{opacity:r}).call((function(){a&&a()})).start()}},{key:"fadeOut",value:function(e,n,t,r,a){null==e.getComponent(d)&&e.addComponent(d),e.getComponent(d).opacity=t,p(e.getComponent(d)).to(n,{opacity:r}).call((function(){a&&a()})).start()}},{key:"tweenScaleTo",value:function(e,n,t,r,a){e.scale=new s(t,t,1),p(e).to(n,{scale:new s(r,r,1)},{easing:"sineOut"}).call((function(){a&&a()})).start()}},{key:"scheduleOnce",value:function(n,t,r){e.schedule(n,r,0,0,t)}},{key:"schedule",value:function(e,n,t,r,a){h.enableForTarget(n),g.getScheduler().schedule(e,n,t,r,a,!1)}},{key:"unschedule",value:function(e,n){g.getScheduler().unschedule(e,n)}},{key:"accSub",value:function(n,t){return e.accAdd(n,-t)}},{key:"getLinePathPosition",value:function(e,n,t,r){for(var u=r[e],o=[],l=[],c=Math.max.apply(Math,a(r.flat()))+1,i=0;i<u.length&&i<n;i++){var s=u[i],v=i*c+s;o.push(v),l.push(t[s][i])}return{winPos:o,winSymbolIDs:l}}},{key:"uniq",value:function(e){return Array.from(new Set(e))}},{key:"ClearSpine",value:function(e){e.clearTracks(),e.setToSetupPose(),e.setCompleteListener(null)}},{key:"noisyEasing",value:function(e){var n=.01*Math.random();return e<.9?e-e*n:e}},{key:"delay",value:(O=o(l().mark((function n(t){var r=this;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.scheduleOnce((function(){return n()}),t,r)})));case 1:case"end":return n.stop()}}),n)}))),function(e){return O.apply(this,arguments)})},{key:"waitNextFrame",value:(w=o(l().mark((function n(){var t=this;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.scheduleOnce((function(){return n()}),0,t)})));case 1:case"end":return n.stop()}}),n)}))),function(){return w.apply(this,arguments)})},{key:"calculateAngle",value:function(e,n){var t=n.clone().subtract(e);return 180*Math.atan2(t.y,t.x)/Math.PI}},{key:"loadCurrency",value:function(){return new Promise((function(e,n){y.load("data/currency",E,(function(t,r){if(null!=t)return console.error(t),void n(t);e(r.json)}))}))}},{key:"AddHandHoverEvent",value:function(e){e.on(m.EventType.MOUSE_ENTER,(function(){C.canvas.style.cursor="pointer"})),e.on(m.EventType.MOUSE_LEAVE,(function(){C.canvas.style.cursor="default"}))}},{key:"commonFadeIn",value:(N=o(l().mark((function n(t){var r,a,u,o,c,i,s,f,d,h,g,y,E=arguments;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=E.length>1&&void 0!==E[1]&&E[1],u=E.length>2&&void 0!==E[2]?E[2]:null,o=E.length>3&&void 0!==E[3]?E[3]:null,c=E.length>4&&void 0!==E[4]?E[4]:.3,i=E.length>5&&void 0!==E[5]?E[5]:null,null!=t){n.next=7;break}return n.abrupt("return");case 7:if(!i||!0!==i.running){n.next=9;break}return n.abrupt("return");case 9:if(!0!==(null===(r=this.activeUIEventTarget)||void 0===r?void 0:r.running)){n.next=11;break}return n.abrupt("return");case 11:if(null==(s=o)&&(s=e.getColorComponent(t)),null!=s){n.next=15;break}return n.abrupt("return");case 15:return f=null!=u?u:this.activeUIAlpha,d=a?f[1]:f[0],h=a?f[0]:f[1],(g=null!=i?i:new T).removeAll("done"),g.running=!0,s.color=d,y={value:d.a},p(y).to(c,{value:h.a},{easing:"smooth",onUpdate:function(){s.color=new v(h.r,h.g,h.b,y.value)},onComplete:function(){i.emit("done")}}).start(),n.next=26,this.delayEvent(i);case 26:g.running=!1,t.active=!a;case 28:case"end":return n.stop()}}),n,this)}))),function(e){return N.apply(this,arguments)})},{key:"commonActiveUITween",value:(f=o(l().mark((function n(t,r){var a,u,o,c,i,s,f,d,h,g,y,E=arguments;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=!(E.length>2&&void 0!==E[2])||E[2],c=E.length>3&&void 0!==E[3]?E[3]:.3,null!=t){n.next=4;break}return n.abrupt("return");case 4:if(!0!==(null===(a=this.activeUIEventTarget)||void 0===a?void 0:a.running)){n.next=6;break}return n.abrupt("return");case 6:return i=r?this.activeUIScale[0]:this.activeUIScale[1],s=r?this.activeUIScale[1]:this.activeUIScale[0],this.activeUIEventTarget=null!==(u=this.activeUIEventTarget)&&void 0!==u?u:new T,this.activeUIEventTarget.removeAll("done"),this.activeUIEventTarget.running=!0,t.setScale(i),t.active=!0,p(t).to(c,{scale:s},{easing:"backOut",onComplete:function(n){return e.activeUIEventTarget.emit("done")}}).start(),null!=(f=e.getColorComponent(t))&&(!1===o?(d=r?this.activeUIAlpha[0]:this.activeUIAlpha[1],h=r?this.activeUIAlpha[1]:this.activeUIAlpha[0],f.color=d,p(f).to(c,{color:h},{easing:"smooth"}).start()):(y=r?{value:255}:{value:0},p(g=r?{value:0}:{value:255}).to(c,y,{easing:"smooth",onUpdate:function(){f.color=new v(255,255,255,g.value)}}).start())),n.next=18,this.delayEvent(this.activeUIEventTarget);case 18:this.activeUIEventTarget.running=!1,t.active=r;case 20:case"end":return n.stop()}}),n,this)}))),function(e,n){return f.apply(this,arguments)})},{key:"getColorComponent",value:function(e){if(null==e)return null;var n=e._components;if(null==n||0===n.length)return null;for(var t in n){var r=n[t];if(null!=r&&(null!=r.color&&r.color instanceof v))return r}return null}},{key:"delayEvent",value:(i=o(l().mark((function e(){var n,t,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>0&&void 0!==r[0]?r[0]:null,t=r.length>1&&void 0!==r[1]?r[1]:"done",null!=n){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,new Promise((function(e){n.once(t,e)}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"initData",value:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"properties";if(null!=n&&null!=t){var a=t[r];null==a&&(a={});for(var u=0;u<Object.keys(n).length;u++){var o=Object.keys(n)[u],l=n[o],c=e.processProperty(t,o,l),i=c.property,s=c.haveInitEvent;a[o]=i,null!=s&&s()}}}},{key:"processProperty",value:function(n,t,r){for(var a=null,u=0;u<Object.keys(r).length;u++){var o=Object.keys(r)[u],l=r[o];if("INIT_EVENT"!==o){var c=void 0,i=void 0;if(null!=l){if(null!=l[P.SCENE_PATH]){if(null==(i=l[P.SCENE_PATH])||"string"!=typeof i)continue;if(null==(c=k(i))){console.error("Node not found: "+l[P.SCENE_PATH],[t,r,i,n]),console.log("subProperty",l);continue}}else{if(null==(i=l[P.NODE_PATH])||"string"!=typeof i)continue;if(null==(c=""===i?n.node:n.node.getChildByPath(i))){console.error("Node not found: "+l[P.NODE_PATH]),console.log("subProperty",l);continue}}var s=l[P.TYPE]?l[P.TYPE]:m,v=s==m?c:c.getComponent(s);if(null!=v){var f=e.initPropertyData(v);null!=l[P.CLICK_EVENT]&&(c.on(m.EventType.TOUCH_END,l[P.CLICK_EVENT],n),e.AddHandHoverEvent(c)),f[P.NODE]=c,f[P.COMPONENT]=v,f[P.TYPE]=s,f[P.NODE_PATH]=i,f[P.CLICK_EVENT]=l[P.CLICK_EVENT];var p=l;delete p[P.NODE],delete p[P.COMPONENT],delete p[P.TYPE],delete p[P.NODE_PATH],delete p[P.CLICK_EVENT],Object.keys(p).length>0&&(f=e.mergeJsonData(f,p)),r[t]&&r[t][o]?r[o]=e.mergeJsonData(r[t][o],f):r[o]=f}}}else{a=l.bind(n)}}return{property:r,haveInitEvent:a}}},{key:"initPropertyData",value:function(e){var n;return t(n={},P.NODE,m),t(n,P.COMPONENT,e),t(n,P.TYPE,null),t(n,P.NODE_PATH,""),t(n,P.CLICK_EVENT,Function),u("get",n,"node",(function(){return this[P.NODE]})),u("get",n,"component",(function(){return this[P.COMPONENT]})),u("get",n,"type",(function(){return this[P.TYPE]})),u("get",n,"clickEvent",(function(){return this[P.CLICK_EVENT]})),n}},{key:"mergeJsonData",value:function(e,n){var t=null!=e?e:{};if(null==n)return t;var r=Object.keys(n);for(var a in r){var u=r[a];t[u]=n[u]}return t}},{key:"commonTweenNumber",value:(c=o(l().mark((function n(t){var r,a,u,o,c,i,s,v,f,d=arguments;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:0,a=d.length>2?d[2]:void 0,u=d.length>3?d[3]:void 0,o=d.length>4?d[4]:void 0,c=d.length>5?d[5]:void 0,null!=t){n.next=8;break}return n.abrupt("return");case 8:if(i={value:r},s=null!=o?o:e.numberFormat,t.string=s(r),(v=p(i).to(u,{value:a},{easing:"smooth",onUpdate:function(){t.string=s(i.value),c&&(c.value=i.value)},onComplete:function(){null!=c&&(c.emit("done"),c.done=!0)}})).start(),v.isDone=function(e){return i.value===a},!c){n.next=17;break}return f=new Promise((function(e){c.once("done",(function(){return e()}))})),n.abrupt("return",{tween:v,eventPromise:f,data:i});case 17:return n.next=19,e.delay(1e3*u);case 19:return n.abrupt("return",{tween:v,data:i});case 20:case"end":return n.stop()}}),n)}))),function(e){return c.apply(this,arguments)})}]),e}());t(N,"activeUIScale",[new s(.7,.7,1),new s(1,1,1)]),t(N,"activeUIAlpha",[new v(255,255,255,0),new v(255,255,255,255)]),t(N,"activeUIEventTarget",null);var P=e("DATA_TYPE",function(e){return e[e.NODE=0]="NODE",e[e.COMPONENT=1]="COMPONENT",e[e.TYPE=2]="TYPE",e[e.NODE_PATH=3]="NODE_PATH",e[e.CLICK_EVENT=4]="CLICK_EVENT",e[e.SCENE_PATH=5]="SCENE_PATH",e}({}));c._RF.pop()}}}));

System.register("chunks:///_virtual/WinScatterTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReelBlackUI.ts","./AudioKey.ts","./SlotMachine.ts","./DataManager.ts","./BaseEvent.ts","./AudioManager.ts","./GameTask.ts","./Utils.ts"],(function(t){var e,n,a,i,s,r,c,o,u,l,f,p,d,h,y,k,v;return{setters:[function(t){e=t.inherits,n=t.createSuper,a=t.classCallCheck,i=t.defineProperty,s=t.assertThisInitialized,r=t.createClass,c=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){u=t.cclegacy},function(t){l=t.ReelBlackUI},function(t){f=t.AudioKey},function(t){p=t.SlotMachine},function(t){d=t.DataManager},function(t){h=t.BaseEvent},function(t){y=t.AudioManager},function(t){k=t.GameTask},function(t){v=t.Utils}],execute:function(){u._RF.push({},"6ceddro4ItEwotdSu+j/sOZ","WinScatterTask",void 0);t("WinScatterTask",function(t){e(S,t);var u,k=n(S);function S(){var t;a(this,S);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=k.call.apply(k,[this].concat(n)),i(s(t),"name","WinScatterTask"),i(s(t),"winPos",void 0),i(s(t),"payCredit",void 0),t}return r(S,[{key:"execute",value:(u=c(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.getInstance().playSound(f.scatterWin),l.show.emit(),p.showSymbolWin.emit(this.winPos),d.getInstance().isStopUntilFeature&&h.stopAutoSpin.emit(),t.next=6,v.delay(2);case 6:l.hide.emit(),this.finish();case 8:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"update",value:function(t){}}]),S}(k));u._RF.pop()}}}));

System.register("chunks:///_virtual/WinScoreUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseConst.ts","./DataManager.ts","./XEvent.ts","./Utils.ts"],(function(e){var n,t,i,a,o,s,r,c,u,l,h,d,f,v,y,w,W,p;return{setters:[function(e){n=e.defineProperty,t=e.inherits,i=e.createSuper,a=e.classCallCheck,o=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,c=e._decorator,u=e.Label,l=e.Vec3,h=e.tween,d=e.Tween,f=e.Component},function(e){v=e.BaseConst},function(e){y=e.DataManager},function(e){w=e.XEvent1,W=e.XEvent},function(e){p=e.Utils}],execute:function(){var g,m;r._RF.push({},"0aa76qLhDpHrpXNSL4GjrS7","WinScoreUI",void 0);var L=c.ccclass;e("WinScoreUI",L("WinScoreUI")((m=function(e){t(c,e);var r=i(c);function c(){var e;a(this,c);for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return e=r.call.apply(r,[this].concat(i)),n(o(e),"winLabel",null),n(o(e),"currencyLabel",null),n(o(e),"runNum",{curValue:0,finalValue:0}),e}return s(c,[{key:"onLoad",value:function(){this.currencyLabel=this.node.getChildByName("currency").getComponent(u),this.winLabel=this.node.getChildByName("WinNum").getComponent(u),c.showWin.on(this.showWin,this),c.hideWin.on(this.hideWin,this),this.node.active=!1}},{key:"showWin",value:function(e){var n=this;this.currencyLabel.string=p.getCurrencySymbol();var t=v.SLOT_TIME[y.getInstance().curTurboMode].showWinTime;this.node.active=!0,p.fadeIn(this.node,.1,0,255),this.node.scale=new l(.5,.5,1),h(this.node).to(.1*t,{scale:new l(1.2,1.2,1)}).to(.1*t,{scale:new l(1,1,1)}).delay(.6*t).call((function(){p.fadeOut(n.node,.2,255,0,(function(){n.node.active=!1}))})).start(),this.runNum.curValue=0,this.runNum.finalValue=e,p.runNumber(.5,this.winLabel,this.runNum)}},{key:"hideWin",value:function(){d.stopAllByTarget(this.node),this.node.active=!1}},{key:"onDestroy",value:function(){c.showWin.off(this),c.hideWin.off(this)}}]),c}(f),n(m,"showWin",new w),n(m,"hideWin",new W),g=m))||g);r._RF.pop()}}}));

System.register("chunks:///_virtual/WinSymbolTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SettingsController.ts","./SlotMachine.ts","./BaseConst.ts","./DataManager.ts","./BaseEvent.ts","./AudioManager.ts","./GameTask.ts","./BaseType.ts","./Utils.ts","./BigWinUI.ts","./CharacterUI.ts","./FreeGameUI.ts","./ReelBlackUI.ts","./WinScoreUI.ts","./AudioKey.ts","./GameConst.ts"],(function(e){var t,n,i,a,r,s,o,c,u,l,h,p,f,m,y,d,w,v,T,g,S,k,W,b,x,C,I,F;return{setters:[function(e){t=e.inherits,n=e.createSuper,i=e.classCallCheck,a=e.defineProperty,r=e.assertThisInitialized,s=e.createClass,o=e.toConsumableArray,c=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){l=e.cclegacy,h=e.Tween,p=e.tween},function(e){f=e.SettingsController},function(e){m=e.SlotMachine},function(e){y=e.BaseConst},function(e){d=e.DataManager},function(e){w=e.BaseEvent},function(e){v=e.AudioManager},function(e){T=e.GameTask},function(e){g=e.BigWinType},function(e){S=e.Utils},function(e){k=e.BigWinUI},function(e){W=e.CharacterUI},function(e){b=e.FreeGameUI},function(e){x=e.ReelBlackUI},function(e){C=e.WinScoreUI},function(e){I=e.AudioKey},function(e){F=e.FISH_ODDS}],execute:function(){l._RF.push({},"ec65cS+N7RPZLwNbzS01nma","WinSymbolTask",void 0);e("WinSymbolTask",function(e){t(P,e);var l,T,B,D,L,M=n(P);function P(){var e;i(this,P);for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e=M.call.apply(M,[this].concat(n)),a(r(e),"name","WinSymbolTask"),a(r(e),"winLineData",void 0),a(r(e),"winFishData",void 0),a(r(e),"payCreditTotal",void 0),a(r(e),"curFsTotalWin",void 0),a(r(e),"isSubGame",!1),a(r(e),"moveTime",.4),a(r(e),"moveIntervalTime",.3),a(r(e),"loopData",{}),e}return s(P,[{key:"execute",value:(L=c(u().mark((function e(){var t,n,i,a=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.winFishData){e.next=3;break}return e.next=3,this.showWinFish();case 3:if(!(this.payCreditTotal<=0)){e.next=6;break}return this.complete(),e.abrupt("return");case 6:return W.win.emit(),v.getInstance().playSound(I.win),this.winLineData.length>0?(x.show.emit(),t=S.uniq(this.winLineData.flatMap((function(e){return e.winPos}))),this.showWinLine(t),w.stopLineLoop.once((function(){W.idle.emit(),C.hideWin.emit(),h.stopAllByTarget(a.loopData)}),this)):C.showWin.emit(this.payCreditTotal),this.isSubGame?(n=this.curFsTotalWin+this.payCreditTotal,f.refreshWin.emit(this.curFsTotalWin,n)):(f.refreshWin.emit(0,this.payCreditTotal),i=d.getInstance().userCredit+this.payCreditTotal,f.refreshCredit.emit(i),d.getInstance().userCredit=i),e.next=12,S.delay(y.SLOT_TIME[d.getInstance().curTurboMode].showWinTime);case 12:if(d.getInstance().getBigWinTypeByValue(this.payCreditTotal)===g.non){e.next=15;break}return e.next=15,this.waitForBigWinComplete();case 15:this.complete();case 16:case"end":return e.stop()}}),e,this)}))),function(){return L.apply(this,arguments)})},{key:"waitForBigWinComplete",value:function(){var e=this;return new Promise((function(t){k.complete.once((function(){t()}),e),k.show.emit(e.payCreditTotal)}))}},{key:"showWinFish",value:(D=c(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.winFishData.allWildPos,n=0;case 2:if(!(n<t.length)){e.next=9;break}return W.win.emit(),e.next=6,this.wildScoreMove(n);case 6:n++,e.next=2;break;case 9:case"end":return e.stop()}}),e,this)}))),function(){return D.apply(this,arguments)})},{key:"wildScoreMove",value:(B=c(u().mark((function e(t){var n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=c(u().mark((function e(i){var a,r,s,o,c,l,h,p,f,y,w,v,T,g,k;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],r=0,s=n.winFishData,o=s.allWildPos,c=s.allFishPos,l=s.fishSymbolIDs,h=s.totalWildCount,p=m.getSymbolList()[o[t]],f=m.getSymbolPosList()[o[t]],(y=p.getComponent("Symbol")).symbolWin(),w=0;case 8:if(!(w<c.length)){e.next=19;break}return v=d.getInstance().bet.getBetTotal(),T=F[l[w]]*v,g=m.getSymbolPosList()[c[w]],r+=T,a.push(n.moveScore(T,g,f,y,r)),e.next=16,S.delay(n.moveIntervalTime);case 16:w++,e.next=8;break;case 19:return e.next=21,Promise.all(a);case 21:if(!(r>0)){e.next=26;break}return e.next=24,y.wildScoreFinish(r);case 24:return e.next=26,S.delay(.4);case 26:(k=h-o.length+t)>=8?i():b.addProgress.emit(k,f,(function(){i()}));case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(e){return B.apply(this,arguments)})},{key:"moveScore",value:(T=c(u().mark((function e(t,n,i,a,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.showMoveScore.emit(t,n,i,this.moveTime),e.next=3,S.delay(this.moveTime);case 3:a.showWildScore(r);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,i,a){return T.apply(this,arguments)})},{key:"showWinLine",value:function(e){var t=this;h.stopAllByTarget(this.loopData);for(var n=[e].concat(o(this.winLineData.map((function(e){return e.winPos})))),i=p(),a=function(e){i=i.call((function(){m.showSymbolWin.emit(n[e]),0===e&&C.showWin.emit(t.payCreditTotal)})).delay(y.SLOT_TIME[d.getInstance().curTurboMode].showWinTime)},r=0;r<n.length;r++)a(r);p(this.loopData).repeatForever(i).start()}},{key:"complete",value:(l=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.winLineData.length){e.next=3;break}return e.next=3,S.delay(y.SLOT_TIME[d.getInstance().curTurboMode].waitNextSpinTime);case 3:this.finish();case 4:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"update",value:function(e){}}]),P}(T));l._RF.pop()}}}));

System.register("chunks:///_virtual/WorkOnBlurManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,a,r,o,s,u,l,c,h,m,k;return{setters:[function(e){t=e.defineProperty,n=e.inherits,i=e.createSuper,a=e.classCallCheck,r=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,u=e._decorator,l=e.Node,c=e.director,h=e.game,m=e.Game,k=e.Component}],execute:function(){var T,f;s._RF.push({},"28b22Aph1lJmKVd6GFVzm/X","WorkOnBlurManager",void 0);var d=u.ccclass;e("WorkOnBlurManager",d("WorkOnBlurManager")((f=function(e){n(u,e);var s=i(u);function u(){var e;a(this,u);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=s.call.apply(s,[this].concat(i)),t(r(e),"workTimeOut",null),t(r(e),"lastTickTime",0),e}return o(u,[{key:"onLoad",value:function(){h.on(m.EVENT_HIDE,this.onGameHide,this),h.on(m.EVENT_SHOW,this.onGameShow,this)}},{key:"onDestroy",value:function(){this===u._instance&&(h.off(m.EVENT_HIDE,this.onGameHide,this),h.off(m.EVENT_SHOW,this.onGameShow,this),null!==this.workTimeOut&&(clearTimeout(this.workTimeOut),this.workTimeOut=null),this.lastTickTime=0,u._instance=null)}},{key:"onGameHide",value:function(){this.lastTickTime=Date.now(),this.run()}},{key:"onGameShow",value:function(){null!==this.workTimeOut&&(clearTimeout(this.workTimeOut),this.workTimeOut=null,this.lastTickTime=0)}},{key:"run",value:function(){var e=this,t=Date.now(),n=Math.min((t-this.lastTickTime)/1e3,.1);this.lastTickTime=t,c.tick(n),this.workTimeOut=setTimeout((function(){e.run()}),100)}}],[{key:"getInstance",value:function(){if(!u._instance){var e=new l("WorkOnBlurManager");c.getScene().addChild(e),u._instance=e.addComponent(u)}return u._instance}}]),u}(k),t(f,"_instance",null),T=f))||T);s._RF.pop()}}}));

System.register("chunks:///_virtual/WorkTimerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(exports){var _defineProperty,_inherits,_createSuper,_classCallCheck,_assertThisInitialized,_createClass,cclegacy,_decorator,Node,director,Component;return{setters:[function(e){_defineProperty=e.defineProperty,_inherits=e.inherits,_createSuper=e.createSuper,_classCallCheck=e.classCallCheck,_assertThisInitialized=e.assertThisInitialized,_createClass=e.createClass},function(e){cclegacy=e.cclegacy,_decorator=e._decorator,Node=e.Node,director=e.director,Component=e.Component}],execute:function(){var _dec,_class,_class2;cclegacy._RF.push({},"3873fr/zq9LjZZxbQWzTdWQ","WorkTimerManager",void 0);var ccclass=_decorator.ccclass,WorkTimerManager=exports("WorkTimerManager",(_dec=ccclass("WorkTimerManager"),_dec((_class2=function(_Component){_inherits(WorkTimerManager,_Component);var _super=_createSuper(WorkTimerManager);function WorkTimerManager(){var e;_classCallCheck(this,WorkTimerManager);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e=_super.call.apply(_super,[this].concat(r)),_defineProperty(_assertThisInitialized(e),"timeoutId",0),_defineProperty(_assertThisInitialized(e),"timeouts",new Map),_defineProperty(_assertThisInitialized(e),"workerContent",'\n        const timeouts = new Map();\n        self.addEventListener("message", ({ data }) => {\n            const { command, id, timeout = 0 } = data;\n            switch (command) {\n                case "setTimeout":\n                    const timerId = setTimeout(() => {\n                        self.postMessage({ id });\n                        timeouts.delete(id);\n                    }, timeout);\n                    timeouts.set(id, timerId);\n                    break;\n                case "clearTimeout":\n                    const existingTimer = timeouts.get(id);\n                    if (existingTimer) {\n                        clearTimeout(existingTimer);\n                        timeouts.delete(id);\n                    }\n                    break;\n            }\n        });\n    '),_defineProperty(_assertThisInitialized(e),"worker",null),e}return _createClass(WorkTimerManager,[{key:"onEnable",value:function(){null==this.worker&&(this.worker=this.init())}},{key:"onDestroy",value:function(){this===WorkTimerManager._instance&&(window&&(window.setTimeout=window.originalSetTimeout||setTimeout,window.clearTimeout=window.originalClearTimeout||clearTimeout),this.worker&&(this.worker.terminate(),this.worker=null),this.timeouts.clear(),this.timeoutId=0,WorkTimerManager._instance=null)}},{key:"init",value:function init(){var _this2=this;if(window.URL&&window.Blob&&window.Worker&&!this.worker){var blob=new Blob([this.workerContent],{type:"text/javascript"}),url=URL.createObjectURL(blob),worker=new Worker(url);return URL.revokeObjectURL(url),worker.addEventListener("message",(function(_ref){var data=_ref.data,id=data.id,timeout=_this2.timeouts.get(id);if(timeout){var fn=timeout.fn,args=timeout.args;"function"==typeof fn?fn.apply(null,args):"string"==typeof fn&&eval(fn),_this2.timeouts.delete(id)}})),window.originalSetTimeout=window.setTimeout,window.originalClearTimeout=window.clearTimeout,window.setTimeout=this._setTimeout.bind(this),window.clearTimeout=this._clearTimeout.bind(this),worker}return null}},{key:"_setTimeout",value:function(e){for(var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=++this.timeoutId,n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return this.timeouts.set(i,{fn:e,args:o}),null===(t=this.worker)||void 0===t||t.postMessage({command:"setTimeout",id:i,timeout:r}),i}},{key:"_clearTimeout",value:function(e){var t;null===(t=this.worker)||void 0===t||t.postMessage({command:"clearTimeout",id:e}),this.timeouts.delete(e)}}],[{key:"getInstance",value:function(){if(!WorkTimerManager._instance){var e=new Node("WorkTimerManager");director.getScene().addChild(e),WorkTimerManager._instance=e.addComponent(WorkTimerManager),WorkTimerManager._instance.enabled=!0}return WorkTimerManager._instance}}]),WorkTimerManager}(Component),_defineProperty(_class2,"_instance",null),_class=_class2))||_class));cclegacy._RF.pop()}}}));

System.register("chunks:///_virtual/XEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,s,i;return{setters:[function(e){n=e.createClass,t=e.classCallCheck,s=e.defineProperty},function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"4210c9aY0ZO0IbkchHu6e9R","XEvent",void 0);e("XEvent",function(){function e(){t(this,e),s(this,"listeners",new Map),s(this,"listenersOnce",new Map)}return n(e,[{key:"on",value:function(e,n){this.listeners.set(n,e.bind(n))}},{key:"once",value:function(e,n){this.listenersOnce.set(n,e.bind(n))}},{key:"off",value:function(e){this.listeners.delete(e),this.listenersOnce.delete(e)}},{key:"emit",value:function(){if(new Map(this.listeners).forEach((function(e){return e()})),this.listenersOnce.size>0){var e=this.listenersOnce;this.listenersOnce=new Map,e.forEach((function(e){return e()}))}}},{key:"clear",value:function(){this.listeners.clear(),this.listenersOnce.clear()}}]),e}()),e("XEvent1",function(){function e(){t(this,e),s(this,"listeners",new Map),s(this,"listenersOnce",new Map)}return n(e,[{key:"on",value:function(e,n){this.listeners.set(n,e.bind(n))}},{key:"once",value:function(e,n){this.listenersOnce.set(n,e.bind(n))}},{key:"off",value:function(e){this.listeners.delete(e),this.listenersOnce.delete(e)}},{key:"emit",value:function(e){if(new Map(this.listeners).forEach((function(n){return n(e)})),this.listenersOnce.size>0){var n=this.listenersOnce;this.listenersOnce=new Map,n.forEach((function(n){return n(e)}))}}},{key:"clear",value:function(){this.listeners.clear(),this.listenersOnce.clear()}}]),e}()),e("XEvent2",function(){function e(){t(this,e),s(this,"listeners",new Map),s(this,"listenersOnce",new Map)}return n(e,[{key:"on",value:function(e,n){this.listeners.set(n,e.bind(n))}},{key:"once",value:function(e,n){this.listenersOnce.set(n,e.bind(n))}},{key:"off",value:function(e){this.listeners.delete(e),this.listenersOnce.delete(e)}},{key:"emit",value:function(e,n){if(new Map(this.listeners).forEach((function(t){return t(e,n)})),this.listenersOnce.size>0){var t=this.listenersOnce;this.listenersOnce=new Map,t.forEach((function(t){return t(e,n)}))}}},{key:"clear",value:function(){this.listeners.clear(),this.listenersOnce.clear()}}]),e}()),e("XEvent3",function(){function e(){t(this,e),s(this,"listeners",new Map),s(this,"listenersOnce",new Map)}return n(e,[{key:"on",value:function(e,n){this.listeners.set(n,e.bind(n))}},{key:"once",value:function(e,n){this.listenersOnce.set(n,e.bind(n))}},{key:"off",value:function(e){this.listeners.delete(e),this.listenersOnce.delete(e)}},{key:"emit",value:function(e,n,t){if(new Map(this.listeners).forEach((function(s){return s(e,n,t)})),this.listenersOnce.size>0){var s=this.listenersOnce;this.listenersOnce=new Map,s.forEach((function(s){return s(e,n,t)}))}}},{key:"clear",value:function(){this.listeners.clear(),this.listenersOnce.clear()}}]),e}()),e("XEvent4",function(){function e(){t(this,e),s(this,"listeners",new Map),s(this,"listenersOnce",new Map)}return n(e,[{key:"on",value:function(e,n){this.listeners.set(n,e.bind(n))}},{key:"once",value:function(e,n){this.listenersOnce.set(n,e.bind(n))}},{key:"off",value:function(e){this.listeners.delete(e),this.listenersOnce.delete(e)}},{key:"emit",value:function(e,n,t,s){if(new Map(this.listeners).forEach((function(i){return i(e,n,t,s)})),this.listenersOnce.size>0){var i=this.listenersOnce;this.listenersOnce=new Map,i.forEach((function(i){return i(e,n,t,s)}))}}},{key:"clear",value:function(){this.listeners.clear(),this.listenersOnce.clear()}}]),e}()),e("XEvent5",function(){function e(){t(this,e),s(this,"listeners",new Map),s(this,"listenersOnce",new Map)}return n(e,[{key:"on",value:function(e,n){this.listeners.set(n,e.bind(n))}},{key:"once",value:function(e,n){this.listenersOnce.set(n,e.bind(n))}},{key:"off",value:function(e){this.listeners.delete(e),this.listenersOnce.delete(e)}},{key:"emit",value:function(e,n,t,s,i){if(new Map(this.listeners).forEach((function(r){return r(e,n,t,s,i)})),this.listenersOnce.size>0){var r=this.listenersOnce;this.listenersOnce=new Map,r.forEach((function(r){return r(e,n,t,s,i)}))}}},{key:"clear",value:function(){this.listeners.clear(),this.listenersOnce.clear()}}]),e}());i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});